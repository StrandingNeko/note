/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault() {
      return extractDefault;
    },
    process() {
      const browserProcess = {
        browser: true,
        cwd() {
          return "/";
        },
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  function requirePatched(id) {
    const module2 = originalRequire?.(id);
    if (module2) {
      return extractDefault(module2);
    }
    if (id === "process" || id === "node:process") {
      console.error(`Module not found: ${id}. Fake process object is returned instead.`);
      return globalThis.process;
    }
    console.error(`Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var lA=Object.create;var ai=Object.defineProperty;var uA=Object.getOwnPropertyDescriptor;var cA=Object.getOwnPropertyNames;var dA=Object.getPrototypeOf,fA=Object.prototype.hasOwnProperty;var s=(t,e)=>ai(t,"name",{value:e,configurable:!0});var H=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),vd=(t,e)=>{for(var n in e)ai(t,n,{get:e[n],enumerable:!0})},Cd=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of cA(e))!fA.call(t,i)&&i!==n&&ai(t,i,{get:()=>e[i],enumerable:!(r=uA(e,i))||r.enumerable});return t};var Ve=(t,e,n)=>(n=t!=null?lA(dA(t)):{},Cd(e||!t||!t.__esModule?ai(n,"default",{value:t,enumerable:!0}):n,t)),hA=t=>Cd(ai({},"__esModule",{value:!0}),t);var ln=H((dl,pr)=>{(function(t,e){typeof dl=="object"&&typeof pr<"u"?pr.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(dl,(function(){"use strict";var t;function e(){return t.apply(null,arguments)}s(e,"hooks");function n(a){t=a}s(n,"setHookCallback");function r(a){return a instanceof Array||Object.prototype.toString.call(a)==="[object Array]"}s(r,"isArray");function i(a){return a!=null&&Object.prototype.toString.call(a)==="[object Object]"}s(i,"isObject");function o(a,c){return Object.prototype.hasOwnProperty.call(a,c)}s(o,"hasOwnProp");function l(a){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(a).length===0;var c;for(c in a)if(o(a,c))return!1;return!0}s(l,"isObjectEmpty");function u(a){return a===void 0}s(u,"isUndefined");function d(a){return typeof a=="number"||Object.prototype.toString.call(a)==="[object Number]"}s(d,"isNumber");function f(a){return a instanceof Date||Object.prototype.toString.call(a)==="[object Date]"}s(f,"isDate");function h(a,c){var p=[],g,b=a.length;for(g=0;g<b;++g)p.push(c(a[g],g));return p}s(h,"map");function m(a,c){for(var p in c)o(c,p)&&(a[p]=c[p]);return o(c,"toString")&&(a.toString=c.toString),o(c,"valueOf")&&(a.valueOf=c.valueOf),a}s(m,"extend");function y(a,c,p,g){return ed(a,c,p,g,!0).utc()}s(y,"createUTC");function w(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}s(w,"defaultParsingFlags");function v(a){return a._pf==null&&(a._pf=w()),a._pf}s(v,"getParsingFlags");var T;Array.prototype.some?T=Array.prototype.some:T=s(function(a){var c=Object(this),p=c.length>>>0,g;for(g=0;g<p;g++)if(g in c&&a.call(this,c[g],g,c))return!0;return!1},"some");function S(a){var c=null,p=!1,g=a._d&&!isNaN(a._d.getTime());if(g&&(c=v(a),p=T.call(c.parsedDateParts,function(b){return b!=null}),g=c.overflow<0&&!c.empty&&!c.invalidEra&&!c.invalidMonth&&!c.invalidWeekday&&!c.weekdayMismatch&&!c.nullInput&&!c.invalidFormat&&!c.userInvalidated&&(!c.meridiem||c.meridiem&&p),a._strict&&(g=g&&c.charsLeftOver===0&&c.unusedTokens.length===0&&c.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(a))a._isValid=g;else return g;return a._isValid}s(S,"isValid");function E(a){var c=y(NaN);return a!=null?m(v(c),a):v(c).userInvalidated=!0,c}s(E,"createInvalid");var P=e.momentProperties=[],_=!1;function D(a,c){var p,g,b,x=P.length;if(u(c._isAMomentObject)||(a._isAMomentObject=c._isAMomentObject),u(c._i)||(a._i=c._i),u(c._f)||(a._f=c._f),u(c._l)||(a._l=c._l),u(c._strict)||(a._strict=c._strict),u(c._tzm)||(a._tzm=c._tzm),u(c._isUTC)||(a._isUTC=c._isUTC),u(c._offset)||(a._offset=c._offset),u(c._pf)||(a._pf=v(c)),u(c._locale)||(a._locale=c._locale),x>0)for(p=0;p<x;p++)g=P[p],b=c[g],u(b)||(a[g]=b);return a}s(D,"copyConfig");function z(a){D(this,a),this._d=new Date(a._d!=null?a._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),_===!1&&(_=!0,e.updateOffset(this),_=!1)}s(z,"Moment");function F(a){return a instanceof z||a!=null&&a._isAMomentObject!=null}s(F,"isMoment");function Z(a){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+a)}s(Z,"warn");function re(a,c){var p=!0;return m(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,a),p){var g=[],b,x,I,$=arguments.length;for(x=0;x<$;x++){if(b="",typeof arguments[x]=="object"){b+=`
[`+x+"] ";for(I in arguments[0])o(arguments[0],I)&&(b+=I+": "+arguments[0][I]+", ");b=b.slice(0,-2)}else b=arguments[x];g.push(b)}Z(a+`
Arguments: `+Array.prototype.slice.call(g).join("")+`
`+new Error().stack),p=!1}return c.apply(this,arguments)},c)}s(re,"deprecate");var q={};function ne(a,c){e.deprecationHandler!=null&&e.deprecationHandler(a,c),q[a]||(Z(c),q[a]=!0)}s(ne,"deprecateSimple"),e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function me(a){return typeof Function<"u"&&a instanceof Function||Object.prototype.toString.call(a)==="[object Function]"}s(me,"isFunction");function ae(a){var c,p;for(p in a)o(a,p)&&(c=a[p],me(c)?this[p]=c:this["_"+p]=c);this._config=a,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}s(ae,"set");function L(a,c){var p=m({},a),g;for(g in c)o(c,g)&&(i(a[g])&&i(c[g])?(p[g]={},m(p[g],a[g]),m(p[g],c[g])):c[g]!=null?p[g]=c[g]:delete p[g]);for(g in a)o(a,g)&&!o(c,g)&&i(a[g])&&(p[g]=m({},p[g]));return p}s(L,"mergeConfigs");function j(a){a!=null&&this.set(a)}s(j,"Locale");var G;Object.keys?G=Object.keys:G=s(function(a){var c,p=[];for(c in a)o(a,c)&&p.push(c);return p},"keys");var Q={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ce(a,c,p){var g=this._calendar[a]||this._calendar.sameElse;return me(g)?g.call(c,p):g}s(ce,"calendar");function ge(a,c,p){var g=""+Math.abs(a),b=c-g.length,x=a>=0;return(x?p?"+":"":"-")+Math.pow(10,Math.max(0,b)).toString().substr(1)+g}s(ge,"zeroFill");var Oe=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,k=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,fe={},xe={};function A(a,c,p,g){var b=g;typeof g=="string"&&(b=s(function(){return this[g]()},"func")),a&&(xe[a]=b),c&&(xe[c[0]]=function(){return ge(b.apply(this,arguments),c[1],c[2])}),p&&(xe[p]=function(){return this.localeData().ordinal(b.apply(this,arguments),a)})}s(A,"addFormatToken");function Le(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}s(Le,"removeFormattingTokens");function Jt(a){var c=a.match(Oe),p,g;for(p=0,g=c.length;p<g;p++)xe[c[p]]?c[p]=xe[c[p]]:c[p]=Le(c[p]);return function(b){var x="",I;for(I=0;I<g;I++)x+=me(c[I])?c[I].call(b,a):c[I];return x}}s(Jt,"makeFormatFunction");function xn(a,c){return a.isValid()?(c=Nn(c,a.localeData()),fe[c]=fe[c]||Jt(c),fe[c](a)):a.localeData().invalidDate()}s(xn,"formatMoment");function Nn(a,c){var p=5;function g(b){return c.longDateFormat(b)||b}for(s(g,"replaceLongDateFormatTokens"),k.lastIndex=0;p>=0&&k.test(a);)a=a.replace(k,g),k.lastIndex=0,p-=1;return a}s(Nn,"expandFormat");var _e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function $n(a){var c=this._longDateFormat[a],p=this._longDateFormat[a.toUpperCase()];return c||!p?c:(this._longDateFormat[a]=p.match(Oe).map(function(g){return g==="MMMM"||g==="MM"||g==="DD"||g==="dddd"?g.slice(1):g}).join(""),this._longDateFormat[a])}s($n,"longDateFormat");var Pt="Invalid date";function Xt(){return this._invalidDate}s(Xt,"invalidDate");var kn="%d",Xr=/\d{1,2}/;function Wa(a){return this._ordinal.replace("%d",a)}s(Wa,"ordinal");var Ji={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Xi(a,c,p,g){var b=this._relativeTime[p];return me(b)?b(a,c,p,g):b.replace(/%d/i,a)}s(Xi,"relativeTime");function Zi(a,c){var p=this._relativeTime[a>0?"future":"past"];return me(p)?p(c):p.replace(/%s/i,c)}s(Zi,"pastFuture");var Qi={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ze(a){return typeof a=="string"?Qi[a]||Qi[a.toLowerCase()]:void 0}s(Ze,"normalizeUnits");function or(a){var c={},p,g;for(g in a)o(a,g)&&(p=Ze(g),p&&(c[p]=a[g]));return c}s(or,"normalizeObjectUnits");var Ya={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function za(a){var c=[],p;for(p in a)o(a,p)&&c.push({unit:p,priority:Ya[p]});return c.sort(function(g,b){return g.priority-b.priority}),c}s(za,"getPrioritizedUnits");var es=/\d/,Qe=/\d\d/,ts=/\d{3}/,O=/\d{4}/,M=/[+-]?\d{6}/,N=/\d\d?/,se=/\d\d\d\d?/,he=/\d\d\d\d\d\d?/,He=/\d{1,3}/,It=/\d{1,4}/,lt=/[+-]?\d{1,6}/,wt=/\d+/,Bt=/[+-]?\d+/,et=/Z|[+-]\d\d:?\d\d/gi,Ot=/Z|[+-]\d\d(?::?\d\d)?/gi,_t=/[+-]?\d+(\.\d{1,3})?/,Zr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ar=/^[1-9]\d?/,Ha=/^([1-9]\d|\d)/,ns;ns={};function U(a,c,p){ns[a]=me(c)?c:function(g,b){return g&&p?p:c}}s(U,"addRegexToken");function P0(a,c){return o(ns,a)?ns[a](c._strict,c._locale):new RegExp(I0(a))}s(P0,"getParseRegexForToken");function I0(a){return Zt(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(c,p,g,b,x){return p||g||b||x}))}s(I0,"unescapeFormat");function Zt(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}s(Zt,"regexEscape");function bt(a){return a<0?Math.ceil(a)||0:Math.floor(a)}s(bt,"absFloor");function oe(a){var c=+a,p=0;return c!==0&&isFinite(c)&&(p=bt(c)),p}s(oe,"toInt");var ja={};function ye(a,c){var p,g=c,b;for(typeof a=="string"&&(a=[a]),d(c)&&(g=s(function(x,I){I[c]=oe(x)},"func")),b=a.length,p=0;p<b;p++)ja[a[p]]=g}s(ye,"addParseToken");function Qr(a,c){ye(a,function(p,g,b,x){b._w=b._w||{},c(p,b._w,b,x)})}s(Qr,"addWeekParseToken");function O0(a,c,p){c!=null&&o(ja,a)&&ja[a](c,p._a,p,a)}s(O0,"addTimeToArrayFromToken");function rs(a){return a%4===0&&a%100!==0||a%400===0}s(rs,"isLeapYear");var je=0,Qt=1,Vt=2,Re=3,Rt=4,en=5,Bn=6,_0=7,R0=8;A("Y",0,0,function(){var a=this.year();return a<=9999?ge(a,4):"+"+a}),A(0,["YY",2],0,function(){return this.year()%100}),A(0,["YYYY",4],0,"year"),A(0,["YYYYY",5],0,"year"),A(0,["YYYYYY",6,!0],0,"year"),U("Y",Bt),U("YY",N,Qe),U("YYYY",It,O),U("YYYYY",lt,M),U("YYYYYY",lt,M),ye(["YYYYY","YYYYYY"],je),ye("YYYY",function(a,c){c[je]=a.length===2?e.parseTwoDigitYear(a):oe(a)}),ye("YY",function(a,c){c[je]=e.parseTwoDigitYear(a)}),ye("Y",function(a,c){c[je]=parseInt(a,10)});function ei(a){return rs(a)?366:365}s(ei,"daysInYear"),e.parseTwoDigitYear=function(a){return oe(a)+(oe(a)>68?1900:2e3)};var $c=lr("FullYear",!0);function M0(){return rs(this.year())}s(M0,"getIsLeapYear");function lr(a,c){return function(p){return p!=null?(Bc(this,a,p),e.updateOffset(this,c),this):ti(this,a)}}s(lr,"makeGetSet");function ti(a,c){if(!a.isValid())return NaN;var p=a._d,g=a._isUTC;switch(c){case"Milliseconds":return g?p.getUTCMilliseconds():p.getMilliseconds();case"Seconds":return g?p.getUTCSeconds():p.getSeconds();case"Minutes":return g?p.getUTCMinutes():p.getMinutes();case"Hours":return g?p.getUTCHours():p.getHours();case"Date":return g?p.getUTCDate():p.getDate();case"Day":return g?p.getUTCDay():p.getDay();case"Month":return g?p.getUTCMonth():p.getMonth();case"FullYear":return g?p.getUTCFullYear():p.getFullYear();default:return NaN}}s(ti,"get");function Bc(a,c,p){var g,b,x,I,$;if(!(!a.isValid()||isNaN(p))){switch(g=a._d,b=a._isUTC,c){case"Milliseconds":return void(b?g.setUTCMilliseconds(p):g.setMilliseconds(p));case"Seconds":return void(b?g.setUTCSeconds(p):g.setSeconds(p));case"Minutes":return void(b?g.setUTCMinutes(p):g.setMinutes(p));case"Hours":return void(b?g.setUTCHours(p):g.setHours(p));case"Date":return void(b?g.setUTCDate(p):g.setDate(p));case"FullYear":break;default:return}x=p,I=a.month(),$=a.date(),$=$===29&&I===1&&!rs(x)?28:$,b?g.setUTCFullYear(x,I,$):g.setFullYear(x,I,$)}}s(Bc,"set$1");function L0(a){return a=Ze(a),me(this[a])?this[a]():this}s(L0,"stringGet");function D0(a,c){if(typeof a=="object"){a=or(a);var p=za(a),g,b=p.length;for(g=0;g<b;g++)this[p[g].unit](a[p[g].unit])}else if(a=Ze(a),me(this[a]))return this[a](c);return this}s(D0,"stringSet");function N0(a,c){return(a%c+c)%c}s(N0,"mod");var Fe;Array.prototype.indexOf?Fe=Array.prototype.indexOf:Fe=s(function(a){var c;for(c=0;c<this.length;++c)if(this[c]===a)return c;return-1},"indexOf");function Ga(a,c){if(isNaN(a)||isNaN(c))return NaN;var p=N0(c,12);return a+=(c-p)/12,p===1?rs(a)?29:28:31-p%7%2}s(Ga,"daysInMonth"),A("M",["MM",2],"Mo",function(){return this.month()+1}),A("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),A("MMMM",0,0,function(a){return this.localeData().months(this,a)}),U("M",N,ar),U("MM",N,Qe),U("MMM",function(a,c){return c.monthsShortRegex(a)}),U("MMMM",function(a,c){return c.monthsRegex(a)}),ye(["M","MM"],function(a,c){c[Qt]=oe(a)-1}),ye(["MMM","MMMM"],function(a,c,p,g){var b=p._locale.monthsParse(a,g,p._strict);b!=null?c[Qt]=b:v(p).invalidMonth=a});var $0="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Vc="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Uc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,B0=Zr,V0=Zr;function U0(a,c){return a?r(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||Uc).test(c)?"format":"standalone"][a.month()]:r(this._months)?this._months:this._months.standalone}s(U0,"localeMonths");function W0(a,c){return a?r(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[Uc.test(c)?"format":"standalone"][a.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}s(W0,"localeMonthsShort");function Y0(a,c,p){var g,b,x,I=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],g=0;g<12;++g)x=y([2e3,g]),this._shortMonthsParse[g]=this.monthsShort(x,"").toLocaleLowerCase(),this._longMonthsParse[g]=this.months(x,"").toLocaleLowerCase();return p?c==="MMM"?(b=Fe.call(this._shortMonthsParse,I),b!==-1?b:null):(b=Fe.call(this._longMonthsParse,I),b!==-1?b:null):c==="MMM"?(b=Fe.call(this._shortMonthsParse,I),b!==-1?b:(b=Fe.call(this._longMonthsParse,I),b!==-1?b:null)):(b=Fe.call(this._longMonthsParse,I),b!==-1?b:(b=Fe.call(this._shortMonthsParse,I),b!==-1?b:null))}s(Y0,"handleStrictParse");function z0(a,c,p){var g,b,x;if(this._monthsParseExact)return Y0.call(this,a,c,p);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),g=0;g<12;g++){if(b=y([2e3,g]),p&&!this._longMonthsParse[g]&&(this._longMonthsParse[g]=new RegExp("^"+this.months(b,"").replace(".","")+"$","i"),this._shortMonthsParse[g]=new RegExp("^"+this.monthsShort(b,"").replace(".","")+"$","i")),!p&&!this._monthsParse[g]&&(x="^"+this.months(b,"")+"|^"+this.monthsShort(b,""),this._monthsParse[g]=new RegExp(x.replace(".",""),"i")),p&&c==="MMMM"&&this._longMonthsParse[g].test(a))return g;if(p&&c==="MMM"&&this._shortMonthsParse[g].test(a))return g;if(!p&&this._monthsParse[g].test(a))return g}}s(z0,"localeMonthsParse");function Wc(a,c){if(!a.isValid())return a;if(typeof c=="string"){if(/^\d+$/.test(c))c=oe(c);else if(c=a.localeData().monthsParse(c),!d(c))return a}var p=c,g=a.date();return g=g<29?g:Math.min(g,Ga(a.year(),p)),a._isUTC?a._d.setUTCMonth(p,g):a._d.setMonth(p,g),a}s(Wc,"setMonth");function Yc(a){return a!=null?(Wc(this,a),e.updateOffset(this,!0),this):ti(this,"Month")}s(Yc,"getSetMonth");function H0(){return Ga(this.year(),this.month())}s(H0,"getDaysInMonth");function j0(a){return this._monthsParseExact?(o(this,"_monthsRegex")||zc.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=B0),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}s(j0,"monthsShortRegex");function G0(a){return this._monthsParseExact?(o(this,"_monthsRegex")||zc.call(this),a?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=V0),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}s(G0,"monthsRegex");function zc(){function a(K,le){return le.length-K.length}s(a,"cmpLenRev");var c=[],p=[],g=[],b,x,I,$;for(b=0;b<12;b++)x=y([2e3,b]),I=Zt(this.monthsShort(x,"")),$=Zt(this.months(x,"")),c.push(I),p.push($),g.push($),g.push(I);c.sort(a),p.sort(a),g.sort(a),this._monthsRegex=new RegExp("^("+g.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+p.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+c.join("|")+")","i")}s(zc,"computeMonthsParse");function q0(a,c,p,g,b,x,I){var $;return a<100&&a>=0?($=new Date(a+400,c,p,g,b,x,I),isFinite($.getFullYear())&&$.setFullYear(a)):$=new Date(a,c,p,g,b,x,I),$}s(q0,"createDate");function ni(a){var c,p;return a<100&&a>=0?(p=Array.prototype.slice.call(arguments),p[0]=a+400,c=new Date(Date.UTC.apply(null,p)),isFinite(c.getUTCFullYear())&&c.setUTCFullYear(a)):c=new Date(Date.UTC.apply(null,arguments)),c}s(ni,"createUTCDate");function is(a,c,p){var g=7+c-p,b=(7+ni(a,0,g).getUTCDay()-c)%7;return-b+g-1}s(is,"firstWeekOffset");function Hc(a,c,p,g,b){var x=(7+p-g)%7,I=is(a,g,b),$=1+7*(c-1)+x+I,K,le;return $<=0?(K=a-1,le=ei(K)+$):$>ei(a)?(K=a+1,le=$-ei(a)):(K=a,le=$),{year:K,dayOfYear:le}}s(Hc,"dayOfYearFromWeeks");function ri(a,c,p){var g=is(a.year(),c,p),b=Math.floor((a.dayOfYear()-g-1)/7)+1,x,I;return b<1?(I=a.year()-1,x=b+tn(I,c,p)):b>tn(a.year(),c,p)?(x=b-tn(a.year(),c,p),I=a.year()+1):(I=a.year(),x=b),{week:x,year:I}}s(ri,"weekOfYear");function tn(a,c,p){var g=is(a,c,p),b=is(a+1,c,p);return(ei(a)-g+b)/7}s(tn,"weeksInYear"),A("w",["ww",2],"wo","week"),A("W",["WW",2],"Wo","isoWeek"),U("w",N,ar),U("ww",N,Qe),U("W",N,ar),U("WW",N,Qe),Qr(["w","ww","W","WW"],function(a,c,p,g){c[g.substr(0,1)]=oe(a)});function K0(a){return ri(a,this._week.dow,this._week.doy).week}s(K0,"localeWeek");var J0={dow:0,doy:6};function X0(){return this._week.dow}s(X0,"localeFirstDayOfWeek");function Z0(){return this._week.doy}s(Z0,"localeFirstDayOfYear");function Q0(a){var c=this.localeData().week(this);return a==null?c:this.add((a-c)*7,"d")}s(Q0,"getSetWeek");function ey(a){var c=ri(this,1,4).week;return a==null?c:this.add((a-c)*7,"d")}s(ey,"getSetISOWeek"),A("d",0,"do","day"),A("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),A("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),A("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),A("e",0,0,"weekday"),A("E",0,0,"isoWeekday"),U("d",N),U("e",N),U("E",N),U("dd",function(a,c){return c.weekdaysMinRegex(a)}),U("ddd",function(a,c){return c.weekdaysShortRegex(a)}),U("dddd",function(a,c){return c.weekdaysRegex(a)}),Qr(["dd","ddd","dddd"],function(a,c,p,g){var b=p._locale.weekdaysParse(a,g,p._strict);b!=null?c.d=b:v(p).invalidWeekday=a}),Qr(["d","e","E"],function(a,c,p,g){c[g]=oe(a)});function ty(a,c){return typeof a!="string"?a:isNaN(a)?(a=c.weekdaysParse(a),typeof a=="number"?a:null):parseInt(a,10)}s(ty,"parseWeekday");function ny(a,c){return typeof a=="string"?c.weekdaysParse(a)%7||7:isNaN(a)?null:a}s(ny,"parseIsoWeekday");function qa(a,c){return a.slice(c,7).concat(a.slice(0,c))}s(qa,"shiftWeekdays");var ry="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),jc="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),iy="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),sy=Zr,oy=Zr,ay=Zr;function ly(a,c){var p=r(this._weekdays)?this._weekdays:this._weekdays[a&&a!==!0&&this._weekdays.isFormat.test(c)?"format":"standalone"];return a===!0?qa(p,this._week.dow):a?p[a.day()]:p}s(ly,"localeWeekdays");function uy(a){return a===!0?qa(this._weekdaysShort,this._week.dow):a?this._weekdaysShort[a.day()]:this._weekdaysShort}s(uy,"localeWeekdaysShort");function cy(a){return a===!0?qa(this._weekdaysMin,this._week.dow):a?this._weekdaysMin[a.day()]:this._weekdaysMin}s(cy,"localeWeekdaysMin");function dy(a,c,p){var g,b,x,I=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],g=0;g<7;++g)x=y([2e3,1]).day(g),this._minWeekdaysParse[g]=this.weekdaysMin(x,"").toLocaleLowerCase(),this._shortWeekdaysParse[g]=this.weekdaysShort(x,"").toLocaleLowerCase(),this._weekdaysParse[g]=this.weekdays(x,"").toLocaleLowerCase();return p?c==="dddd"?(b=Fe.call(this._weekdaysParse,I),b!==-1?b:null):c==="ddd"?(b=Fe.call(this._shortWeekdaysParse,I),b!==-1?b:null):(b=Fe.call(this._minWeekdaysParse,I),b!==-1?b:null):c==="dddd"?(b=Fe.call(this._weekdaysParse,I),b!==-1||(b=Fe.call(this._shortWeekdaysParse,I),b!==-1)?b:(b=Fe.call(this._minWeekdaysParse,I),b!==-1?b:null)):c==="ddd"?(b=Fe.call(this._shortWeekdaysParse,I),b!==-1||(b=Fe.call(this._weekdaysParse,I),b!==-1)?b:(b=Fe.call(this._minWeekdaysParse,I),b!==-1?b:null)):(b=Fe.call(this._minWeekdaysParse,I),b!==-1||(b=Fe.call(this._weekdaysParse,I),b!==-1)?b:(b=Fe.call(this._shortWeekdaysParse,I),b!==-1?b:null))}s(dy,"handleStrictParse$1");function fy(a,c,p){var g,b,x;if(this._weekdaysParseExact)return dy.call(this,a,c,p);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),g=0;g<7;g++){if(b=y([2e3,1]).day(g),p&&!this._fullWeekdaysParse[g]&&(this._fullWeekdaysParse[g]=new RegExp("^"+this.weekdays(b,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[g]=new RegExp("^"+this.weekdaysShort(b,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[g]=new RegExp("^"+this.weekdaysMin(b,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[g]||(x="^"+this.weekdays(b,"")+"|^"+this.weekdaysShort(b,"")+"|^"+this.weekdaysMin(b,""),this._weekdaysParse[g]=new RegExp(x.replace(".",""),"i")),p&&c==="dddd"&&this._fullWeekdaysParse[g].test(a))return g;if(p&&c==="ddd"&&this._shortWeekdaysParse[g].test(a))return g;if(p&&c==="dd"&&this._minWeekdaysParse[g].test(a))return g;if(!p&&this._weekdaysParse[g].test(a))return g}}s(fy,"localeWeekdaysParse");function hy(a){if(!this.isValid())return a!=null?this:NaN;var c=ti(this,"Day");return a!=null?(a=ty(a,this.localeData()),this.add(a-c,"d")):c}s(hy,"getSetDayOfWeek");function py(a){if(!this.isValid())return a!=null?this:NaN;var c=(this.day()+7-this.localeData()._week.dow)%7;return a==null?c:this.add(a-c,"d")}s(py,"getSetLocaleDayOfWeek");function my(a){if(!this.isValid())return a!=null?this:NaN;if(a!=null){var c=ny(a,this.localeData());return this.day(this.day()%7?c:c-7)}else return this.day()||7}s(my,"getSetISODayOfWeek");function gy(a){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Ka.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=sy),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}s(gy,"weekdaysRegex");function yy(a){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Ka.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=oy),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}s(yy,"weekdaysShortRegex");function wy(a){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Ka.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ay),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}s(wy,"weekdaysMinRegex");function Ka(){function a(tt,an){return an.length-tt.length}s(a,"cmpLenRev");var c=[],p=[],g=[],b=[],x,I,$,K,le;for(x=0;x<7;x++)I=y([2e3,1]).day(x),$=Zt(this.weekdaysMin(I,"")),K=Zt(this.weekdaysShort(I,"")),le=Zt(this.weekdays(I,"")),c.push($),p.push(K),g.push(le),b.push($),b.push(K),b.push(le);c.sort(a),p.sort(a),g.sort(a),b.sort(a),this._weekdaysRegex=new RegExp("^("+b.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+p.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+c.join("|")+")","i")}s(Ka,"computeWeekdaysParse");function Ja(){return this.hours()%12||12}s(Ja,"hFormat");function by(){return this.hours()||24}s(by,"kFormat"),A("H",["HH",2],0,"hour"),A("h",["hh",2],0,Ja),A("k",["kk",2],0,by),A("hmm",0,0,function(){return""+Ja.apply(this)+ge(this.minutes(),2)}),A("hmmss",0,0,function(){return""+Ja.apply(this)+ge(this.minutes(),2)+ge(this.seconds(),2)}),A("Hmm",0,0,function(){return""+this.hours()+ge(this.minutes(),2)}),A("Hmmss",0,0,function(){return""+this.hours()+ge(this.minutes(),2)+ge(this.seconds(),2)});function Gc(a,c){A(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),c)})}s(Gc,"meridiem"),Gc("a",!0),Gc("A",!1);function qc(a,c){return c._meridiemParse}s(qc,"matchMeridiem"),U("a",qc),U("A",qc),U("H",N,Ha),U("h",N,ar),U("k",N,ar),U("HH",N,Qe),U("hh",N,Qe),U("kk",N,Qe),U("hmm",se),U("hmmss",he),U("Hmm",se),U("Hmmss",he),ye(["H","HH"],Re),ye(["k","kk"],function(a,c,p){var g=oe(a);c[Re]=g===24?0:g}),ye(["a","A"],function(a,c,p){p._isPm=p._locale.isPM(a),p._meridiem=a}),ye(["h","hh"],function(a,c,p){c[Re]=oe(a),v(p).bigHour=!0}),ye("hmm",function(a,c,p){var g=a.length-2;c[Re]=oe(a.substr(0,g)),c[Rt]=oe(a.substr(g)),v(p).bigHour=!0}),ye("hmmss",function(a,c,p){var g=a.length-4,b=a.length-2;c[Re]=oe(a.substr(0,g)),c[Rt]=oe(a.substr(g,2)),c[en]=oe(a.substr(b)),v(p).bigHour=!0}),ye("Hmm",function(a,c,p){var g=a.length-2;c[Re]=oe(a.substr(0,g)),c[Rt]=oe(a.substr(g))}),ye("Hmmss",function(a,c,p){var g=a.length-4,b=a.length-2;c[Re]=oe(a.substr(0,g)),c[Rt]=oe(a.substr(g,2)),c[en]=oe(a.substr(b))});function Ay(a){return(a+"").toLowerCase().charAt(0)==="p"}s(Ay,"localeIsPM");var xy=/[ap]\.?m?\.?/i,ky=lr("Hours",!0);function vy(a,c,p){return a>11?p?"pm":"PM":p?"am":"AM"}s(vy,"localeMeridiem");var Kc={calendar:Q,longDateFormat:_e,invalidDate:Pt,ordinal:kn,dayOfMonthOrdinalParse:Xr,relativeTime:Ji,months:$0,monthsShort:Vc,week:J0,weekdays:ry,weekdaysMin:iy,weekdaysShort:jc,meridiemParse:xy},ke={},ii={},si;function Cy(a,c){var p,g=Math.min(a.length,c.length);for(p=0;p<g;p+=1)if(a[p]!==c[p])return p;return g}s(Cy,"commonPrefix");function Jc(a){return a&&a.toLowerCase().replace("_","-")}s(Jc,"normalizeLocale");function Ey(a){for(var c=0,p,g,b,x;c<a.length;){for(x=Jc(a[c]).split("-"),p=x.length,g=Jc(a[c+1]),g=g?g.split("-"):null;p>0;){if(b=ss(x.slice(0,p).join("-")),b)return b;if(g&&g.length>=p&&Cy(x,g)>=p-1)break;p--}c++}return si}s(Ey,"chooseLocale");function Ty(a){return!!(a&&a.match("^[^/\\\\]*$"))}s(Ty,"isLocaleNameSane");function ss(a){var c=null,p;if(ke[a]===void 0&&typeof pr<"u"&&pr&&pr.exports&&Ty(a))try{c=si._abbr,p=require,p("./locale/"+a),vn(c)}catch{ke[a]=null}return ke[a]}s(ss,"loadLocale");function vn(a,c){var p;return a&&(u(c)?p=nn(a):p=Xa(a,c),p?si=p:typeof console<"u"&&console.warn&&console.warn("Locale "+a+" not found. Did you forget to load it?")),si._abbr}s(vn,"getSetGlobalLocale");function Xa(a,c){if(c!==null){var p,g=Kc;if(c.abbr=a,ke[a]!=null)ne("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),g=ke[a]._config;else if(c.parentLocale!=null)if(ke[c.parentLocale]!=null)g=ke[c.parentLocale]._config;else if(p=ss(c.parentLocale),p!=null)g=p._config;else return ii[c.parentLocale]||(ii[c.parentLocale]=[]),ii[c.parentLocale].push({name:a,config:c}),null;return ke[a]=new j(L(g,c)),ii[a]&&ii[a].forEach(function(b){Xa(b.name,b.config)}),vn(a),ke[a]}else return delete ke[a],null}s(Xa,"defineLocale");function Sy(a,c){if(c!=null){var p,g,b=Kc;ke[a]!=null&&ke[a].parentLocale!=null?ke[a].set(L(ke[a]._config,c)):(g=ss(a),g!=null&&(b=g._config),c=L(b,c),g==null&&(c.abbr=a),p=new j(c),p.parentLocale=ke[a],ke[a]=p),vn(a)}else ke[a]!=null&&(ke[a].parentLocale!=null?(ke[a]=ke[a].parentLocale,a===vn()&&vn(a)):ke[a]!=null&&delete ke[a]);return ke[a]}s(Sy,"updateLocale");function nn(a){var c;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return si;if(!r(a)){if(c=ss(a),c)return c;a=[a]}return Ey(a)}s(nn,"getLocale");function Fy(){return G(ke)}s(Fy,"listLocales");function Za(a){var c,p=a._a;return p&&v(a).overflow===-2&&(c=p[Qt]<0||p[Qt]>11?Qt:p[Vt]<1||p[Vt]>Ga(p[je],p[Qt])?Vt:p[Re]<0||p[Re]>24||p[Re]===24&&(p[Rt]!==0||p[en]!==0||p[Bn]!==0)?Re:p[Rt]<0||p[Rt]>59?Rt:p[en]<0||p[en]>59?en:p[Bn]<0||p[Bn]>999?Bn:-1,v(a)._overflowDayOfYear&&(c<je||c>Vt)&&(c=Vt),v(a)._overflowWeeks&&c===-1&&(c=_0),v(a)._overflowWeekday&&c===-1&&(c=R0),v(a).overflow=c),a}s(Za,"checkOverflow");var Py=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Iy=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Oy=/Z|[+-]\d\d(?::?\d\d)?/,os=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Qa=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],_y=/^\/?Date\((-?\d+)/i,Ry=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,My={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Xc(a){var c,p,g=a._i,b=Py.exec(g)||Iy.exec(g),x,I,$,K,le=os.length,tt=Qa.length;if(b){for(v(a).iso=!0,c=0,p=le;c<p;c++)if(os[c][1].exec(b[1])){I=os[c][0],x=os[c][2]!==!1;break}if(I==null){a._isValid=!1;return}if(b[3]){for(c=0,p=tt;c<p;c++)if(Qa[c][1].exec(b[3])){$=(b[2]||" ")+Qa[c][0];break}if($==null){a._isValid=!1;return}}if(!x&&$!=null){a._isValid=!1;return}if(b[4])if(Oy.exec(b[4]))K="Z";else{a._isValid=!1;return}a._f=I+($||"")+(K||""),tl(a)}else a._isValid=!1}s(Xc,"configFromISO");function Ly(a,c,p,g,b,x){var I=[Dy(a),Vc.indexOf(c),parseInt(p,10),parseInt(g,10),parseInt(b,10)];return x&&I.push(parseInt(x,10)),I}s(Ly,"extractFromRFC2822Strings");function Dy(a){var c=parseInt(a,10);return c<=49?2e3+c:c<=999?1900+c:c}s(Dy,"untruncateYear");function Ny(a){return a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}s(Ny,"preprocessRFC2822");function $y(a,c,p){if(a){var g=jc.indexOf(a),b=new Date(c[0],c[1],c[2]).getDay();if(g!==b)return v(p).weekdayMismatch=!0,p._isValid=!1,!1}return!0}s($y,"checkWeekday");function By(a,c,p){if(a)return My[a];if(c)return 0;var g=parseInt(p,10),b=g%100,x=(g-b)/100;return x*60+b}s(By,"calculateOffset");function Zc(a){var c=Ry.exec(Ny(a._i)),p;if(c){if(p=Ly(c[4],c[3],c[2],c[5],c[6],c[7]),!$y(c[1],p,a))return;a._a=p,a._tzm=By(c[8],c[9],c[10]),a._d=ni.apply(null,a._a),a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),v(a).rfc2822=!0}else a._isValid=!1}s(Zc,"configFromRFC2822");function Vy(a){var c=_y.exec(a._i);if(c!==null){a._d=new Date(+c[1]);return}if(Xc(a),a._isValid===!1)delete a._isValid;else return;if(Zc(a),a._isValid===!1)delete a._isValid;else return;a._strict?a._isValid=!1:e.createFromInputFallback(a)}s(Vy,"configFromString"),e.createFromInputFallback=re("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});function ur(a,c,p){return a??c??p}s(ur,"defaults");function Uy(a){var c=new Date(e.now());return a._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}s(Uy,"currentDateArray");function el(a){var c,p,g=[],b,x,I;if(!a._d){for(b=Uy(a),a._w&&a._a[Vt]==null&&a._a[Qt]==null&&Wy(a),a._dayOfYear!=null&&(I=ur(a._a[je],b[je]),(a._dayOfYear>ei(I)||a._dayOfYear===0)&&(v(a)._overflowDayOfYear=!0),p=ni(I,0,a._dayOfYear),a._a[Qt]=p.getUTCMonth(),a._a[Vt]=p.getUTCDate()),c=0;c<3&&a._a[c]==null;++c)a._a[c]=g[c]=b[c];for(;c<7;c++)a._a[c]=g[c]=a._a[c]==null?c===2?1:0:a._a[c];a._a[Re]===24&&a._a[Rt]===0&&a._a[en]===0&&a._a[Bn]===0&&(a._nextDay=!0,a._a[Re]=0),a._d=(a._useUTC?ni:q0).apply(null,g),x=a._useUTC?a._d.getUTCDay():a._d.getDay(),a._tzm!=null&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[Re]=24),a._w&&typeof a._w.d<"u"&&a._w.d!==x&&(v(a).weekdayMismatch=!0)}}s(el,"configFromArray");function Wy(a){var c,p,g,b,x,I,$,K,le;c=a._w,c.GG!=null||c.W!=null||c.E!=null?(x=1,I=4,p=ur(c.GG,a._a[je],ri(we(),1,4).year),g=ur(c.W,1),b=ur(c.E,1),(b<1||b>7)&&(K=!0)):(x=a._locale._week.dow,I=a._locale._week.doy,le=ri(we(),x,I),p=ur(c.gg,a._a[je],le.year),g=ur(c.w,le.week),c.d!=null?(b=c.d,(b<0||b>6)&&(K=!0)):c.e!=null?(b=c.e+x,(c.e<0||c.e>6)&&(K=!0)):b=x),g<1||g>tn(p,x,I)?v(a)._overflowWeeks=!0:K!=null?v(a)._overflowWeekday=!0:($=Hc(p,g,b,x,I),a._a[je]=$.year,a._dayOfYear=$.dayOfYear)}s(Wy,"dayOfYearFromWeekInfo"),e.ISO_8601=function(){},e.RFC_2822=function(){};function tl(a){if(a._f===e.ISO_8601){Xc(a);return}if(a._f===e.RFC_2822){Zc(a);return}a._a=[],v(a).empty=!0;var c=""+a._i,p,g,b,x,I,$=c.length,K=0,le,tt;for(b=Nn(a._f,a._locale).match(Oe)||[],tt=b.length,p=0;p<tt;p++)x=b[p],g=(c.match(P0(x,a))||[])[0],g&&(I=c.substr(0,c.indexOf(g)),I.length>0&&v(a).unusedInput.push(I),c=c.slice(c.indexOf(g)+g.length),K+=g.length),xe[x]?(g?v(a).empty=!1:v(a).unusedTokens.push(x),O0(x,g,a)):a._strict&&!g&&v(a).unusedTokens.push(x);v(a).charsLeftOver=$-K,c.length>0&&v(a).unusedInput.push(c),a._a[Re]<=12&&v(a).bigHour===!0&&a._a[Re]>0&&(v(a).bigHour=void 0),v(a).parsedDateParts=a._a.slice(0),v(a).meridiem=a._meridiem,a._a[Re]=Yy(a._locale,a._a[Re],a._meridiem),le=v(a).era,le!==null&&(a._a[je]=a._locale.erasConvertYear(le,a._a[je])),el(a),Za(a)}s(tl,"configFromStringAndFormat");function Yy(a,c,p){var g;return p==null?c:a.meridiemHour!=null?a.meridiemHour(c,p):(a.isPM!=null&&(g=a.isPM(p),g&&c<12&&(c+=12),!g&&c===12&&(c=0)),c)}s(Yy,"meridiemFixWrap");function zy(a){var c,p,g,b,x,I,$=!1,K=a._f.length;if(K===0){v(a).invalidFormat=!0,a._d=new Date(NaN);return}for(b=0;b<K;b++)x=0,I=!1,c=D({},a),a._useUTC!=null&&(c._useUTC=a._useUTC),c._f=a._f[b],tl(c),S(c)&&(I=!0),x+=v(c).charsLeftOver,x+=v(c).unusedTokens.length*10,v(c).score=x,$?x<g&&(g=x,p=c):(g==null||x<g||I)&&(g=x,p=c,I&&($=!0));m(a,p||c)}s(zy,"configFromStringAndArray");function Hy(a){if(!a._d){var c=or(a._i),p=c.day===void 0?c.date:c.day;a._a=h([c.year,c.month,p,c.hour,c.minute,c.second,c.millisecond],function(g){return g&&parseInt(g,10)}),el(a)}}s(Hy,"configFromObject");function jy(a){var c=new z(Za(Qc(a)));return c._nextDay&&(c.add(1,"d"),c._nextDay=void 0),c}s(jy,"createFromConfig");function Qc(a){var c=a._i,p=a._f;return a._locale=a._locale||nn(a._l),c===null||p===void 0&&c===""?E({nullInput:!0}):(typeof c=="string"&&(a._i=c=a._locale.preparse(c)),F(c)?new z(Za(c)):(f(c)?a._d=c:r(p)?zy(a):p?tl(a):Gy(a),S(a)||(a._d=null),a))}s(Qc,"prepareConfig");function Gy(a){var c=a._i;u(c)?a._d=new Date(e.now()):f(c)?a._d=new Date(c.valueOf()):typeof c=="string"?Vy(a):r(c)?(a._a=h(c.slice(0),function(p){return parseInt(p,10)}),el(a)):i(c)?Hy(a):d(c)?a._d=new Date(c):e.createFromInputFallback(a)}s(Gy,"configFromInput");function ed(a,c,p,g,b){var x={};return(c===!0||c===!1)&&(g=c,c=void 0),(p===!0||p===!1)&&(g=p,p=void 0),(i(a)&&l(a)||r(a)&&a.length===0)&&(a=void 0),x._isAMomentObject=!0,x._useUTC=x._isUTC=b,x._l=p,x._i=a,x._f=c,x._strict=g,jy(x)}s(ed,"createLocalOrUTC");function we(a,c,p,g){return ed(a,c,p,g,!1)}s(we,"createLocal");var qy=re("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=we.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:E()}),Ky=re("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=we.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:E()});function td(a,c){var p,g;if(c.length===1&&r(c[0])&&(c=c[0]),!c.length)return we();for(p=c[0],g=1;g<c.length;++g)(!c[g].isValid()||c[g][a](p))&&(p=c[g]);return p}s(td,"pickBy");function Jy(){var a=[].slice.call(arguments,0);return td("isBefore",a)}s(Jy,"min");function Xy(){var a=[].slice.call(arguments,0);return td("isAfter",a)}s(Xy,"max");var Zy=s(function(){return Date.now?Date.now():+new Date},"now"),oi=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Qy(a){var c,p=!1,g,b=oi.length;for(c in a)if(o(a,c)&&!(Fe.call(oi,c)!==-1&&(a[c]==null||!isNaN(a[c]))))return!1;for(g=0;g<b;++g)if(a[oi[g]]){if(p)return!1;parseFloat(a[oi[g]])!==oe(a[oi[g]])&&(p=!0)}return!0}s(Qy,"isDurationValid");function ew(){return this._isValid}s(ew,"isValid$1");function tw(){return Mt(NaN)}s(tw,"createInvalid$1");function as(a){var c=or(a),p=c.year||0,g=c.quarter||0,b=c.month||0,x=c.week||c.isoWeek||0,I=c.day||0,$=c.hour||0,K=c.minute||0,le=c.second||0,tt=c.millisecond||0;this._isValid=Qy(c),this._milliseconds=+tt+le*1e3+K*6e4+$*1e3*60*60,this._days=+I+x*7,this._months=+b+g*3+p*12,this._data={},this._locale=nn(),this._bubble()}s(as,"Duration");function ls(a){return a instanceof as}s(ls,"isDuration");function nl(a){return a<0?Math.round(-1*a)*-1:Math.round(a)}s(nl,"absRound");function nw(a,c,p){var g=Math.min(a.length,c.length),b=Math.abs(a.length-c.length),x=0,I;for(I=0;I<g;I++)(p&&a[I]!==c[I]||!p&&oe(a[I])!==oe(c[I]))&&x++;return x+b}s(nw,"compareArrays");function nd(a,c){A(a,0,0,function(){var p=this.utcOffset(),g="+";return p<0&&(p=-p,g="-"),g+ge(~~(p/60),2)+c+ge(~~p%60,2)})}s(nd,"offset"),nd("Z",":"),nd("ZZ",""),U("Z",Ot),U("ZZ",Ot),ye(["Z","ZZ"],function(a,c,p){p._useUTC=!0,p._tzm=rl(Ot,a)});var rw=/([\+\-]|\d\d)/gi;function rl(a,c){var p=(c||"").match(a),g,b,x;return p===null?null:(g=p[p.length-1]||[],b=(g+"").match(rw)||["-",0,0],x=+(b[1]*60)+oe(b[2]),x===0?0:b[0]==="+"?x:-x)}s(rl,"offsetFromString");function il(a,c){var p,g;return c._isUTC?(p=c.clone(),g=(F(a)||f(a)?a.valueOf():we(a).valueOf())-p.valueOf(),p._d.setTime(p._d.valueOf()+g),e.updateOffset(p,!1),p):we(a).local()}s(il,"cloneWithOffset");function sl(a){return-Math.round(a._d.getTimezoneOffset())}s(sl,"getDateOffset"),e.updateOffset=function(){};function iw(a,c,p){var g=this._offset||0,b;if(!this.isValid())return a!=null?this:NaN;if(a!=null){if(typeof a=="string"){if(a=rl(Ot,a),a===null)return this}else Math.abs(a)<16&&!p&&(a=a*60);return!this._isUTC&&c&&(b=sl(this)),this._offset=a,this._isUTC=!0,b!=null&&this.add(b,"m"),g!==a&&(!c||this._changeInProgress?od(this,Mt(a-g,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?g:sl(this)}s(iw,"getSetOffset");function sw(a,c){return a!=null?(typeof a!="string"&&(a=-a),this.utcOffset(a,c),this):-this.utcOffset()}s(sw,"getSetZone");function ow(a){return this.utcOffset(0,a)}s(ow,"setOffsetToUTC");function aw(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(sl(this),"m")),this}s(aw,"setOffsetToLocal");function lw(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var a=rl(et,this._i);a!=null?this.utcOffset(a):this.utcOffset(0,!0)}return this}s(lw,"setOffsetToParsedOffset");function uw(a){return this.isValid()?(a=a?we(a).utcOffset():0,(this.utcOffset()-a)%60===0):!1}s(uw,"hasAlignedHourOffset");function cw(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}s(cw,"isDaylightSavingTime");function dw(){if(!u(this._isDSTShifted))return this._isDSTShifted;var a={},c;return D(a,this),a=Qc(a),a._a?(c=a._isUTC?y(a._a):we(a._a),this._isDSTShifted=this.isValid()&&nw(a._a,c.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}s(dw,"isDaylightSavingTimeShifted");function fw(){return this.isValid()?!this._isUTC:!1}s(fw,"isLocal");function hw(){return this.isValid()?this._isUTC:!1}s(hw,"isUtcOffset");function rd(){return this.isValid()?this._isUTC&&this._offset===0:!1}s(rd,"isUtc");var pw=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,mw=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Mt(a,c){var p=a,g=null,b,x,I;return ls(a)?p={ms:a._milliseconds,d:a._days,M:a._months}:d(a)||!isNaN(+a)?(p={},c?p[c]=+a:p.milliseconds=+a):(g=pw.exec(a))?(b=g[1]==="-"?-1:1,p={y:0,d:oe(g[Vt])*b,h:oe(g[Re])*b,m:oe(g[Rt])*b,s:oe(g[en])*b,ms:oe(nl(g[Bn]*1e3))*b}):(g=mw.exec(a))?(b=g[1]==="-"?-1:1,p={y:Vn(g[2],b),M:Vn(g[3],b),w:Vn(g[4],b),d:Vn(g[5],b),h:Vn(g[6],b),m:Vn(g[7],b),s:Vn(g[8],b)}):p==null?p={}:typeof p=="object"&&("from"in p||"to"in p)&&(I=gw(we(p.from),we(p.to)),p={},p.ms=I.milliseconds,p.M=I.months),x=new as(p),ls(a)&&o(a,"_locale")&&(x._locale=a._locale),ls(a)&&o(a,"_isValid")&&(x._isValid=a._isValid),x}s(Mt,"createDuration"),Mt.fn=as.prototype,Mt.invalid=tw;function Vn(a,c){var p=a&&parseFloat(a.replace(",","."));return(isNaN(p)?0:p)*c}s(Vn,"parseIso");function id(a,c){var p={};return p.months=c.month()-a.month()+(c.year()-a.year())*12,a.clone().add(p.months,"M").isAfter(c)&&--p.months,p.milliseconds=+c-+a.clone().add(p.months,"M"),p}s(id,"positiveMomentsDifference");function gw(a,c){var p;return a.isValid()&&c.isValid()?(c=il(c,a),a.isBefore(c)?p=id(a,c):(p=id(c,a),p.milliseconds=-p.milliseconds,p.months=-p.months),p):{milliseconds:0,months:0}}s(gw,"momentsDifference");function sd(a,c){return function(p,g){var b,x;return g!==null&&!isNaN(+g)&&(ne(c,"moment()."+c+"(period, number) is deprecated. Please use moment()."+c+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),x=p,p=g,g=x),b=Mt(p,g),od(this,b,a),this}}s(sd,"createAdder");function od(a,c,p,g){var b=c._milliseconds,x=nl(c._days),I=nl(c._months);a.isValid()&&(g=g??!0,I&&Wc(a,ti(a,"Month")+I*p),x&&Bc(a,"Date",ti(a,"Date")+x*p),b&&a._d.setTime(a._d.valueOf()+b*p),g&&e.updateOffset(a,x||I))}s(od,"addSubtract");var yw=sd(1,"add"),ww=sd(-1,"subtract");function ad(a){return typeof a=="string"||a instanceof String}s(ad,"isString");function bw(a){return F(a)||f(a)||ad(a)||d(a)||xw(a)||Aw(a)||a===null||a===void 0}s(bw,"isMomentInput");function Aw(a){var c=i(a)&&!l(a),p=!1,g=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],b,x,I=g.length;for(b=0;b<I;b+=1)x=g[b],p=p||o(a,x);return c&&p}s(Aw,"isMomentInputObject");function xw(a){var c=r(a),p=!1;return c&&(p=a.filter(function(g){return!d(g)&&ad(a)}).length===0),c&&p}s(xw,"isNumberOrStringArray");function kw(a){var c=i(a)&&!l(a),p=!1,g=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],b,x;for(b=0;b<g.length;b+=1)x=g[b],p=p||o(a,x);return c&&p}s(kw,"isCalendarSpec");function vw(a,c){var p=a.diff(c,"days",!0);return p<-6?"sameElse":p<-1?"lastWeek":p<0?"lastDay":p<1?"sameDay":p<2?"nextDay":p<7?"nextWeek":"sameElse"}s(vw,"getCalendarFormat");function Cw(a,c){arguments.length===1&&(arguments[0]?bw(arguments[0])?(a=arguments[0],c=void 0):kw(arguments[0])&&(c=arguments[0],a=void 0):(a=void 0,c=void 0));var p=a||we(),g=il(p,this).startOf("day"),b=e.calendarFormat(this,g)||"sameElse",x=c&&(me(c[b])?c[b].call(this,p):c[b]);return this.format(x||this.localeData().calendar(b,this,we(p)))}s(Cw,"calendar$1");function Ew(){return new z(this)}s(Ew,"clone");function Tw(a,c){var p=F(a)?a:we(a);return this.isValid()&&p.isValid()?(c=Ze(c)||"millisecond",c==="millisecond"?this.valueOf()>p.valueOf():p.valueOf()<this.clone().startOf(c).valueOf()):!1}s(Tw,"isAfter");function Sw(a,c){var p=F(a)?a:we(a);return this.isValid()&&p.isValid()?(c=Ze(c)||"millisecond",c==="millisecond"?this.valueOf()<p.valueOf():this.clone().endOf(c).valueOf()<p.valueOf()):!1}s(Sw,"isBefore");function Fw(a,c,p,g){var b=F(a)?a:we(a),x=F(c)?c:we(c);return this.isValid()&&b.isValid()&&x.isValid()?(g=g||"()",(g[0]==="("?this.isAfter(b,p):!this.isBefore(b,p))&&(g[1]===")"?this.isBefore(x,p):!this.isAfter(x,p))):!1}s(Fw,"isBetween");function Pw(a,c){var p=F(a)?a:we(a),g;return this.isValid()&&p.isValid()?(c=Ze(c)||"millisecond",c==="millisecond"?this.valueOf()===p.valueOf():(g=p.valueOf(),this.clone().startOf(c).valueOf()<=g&&g<=this.clone().endOf(c).valueOf())):!1}s(Pw,"isSame");function Iw(a,c){return this.isSame(a,c)||this.isAfter(a,c)}s(Iw,"isSameOrAfter");function Ow(a,c){return this.isSame(a,c)||this.isBefore(a,c)}s(Ow,"isSameOrBefore");function _w(a,c,p){var g,b,x;if(!this.isValid())return NaN;if(g=il(a,this),!g.isValid())return NaN;switch(b=(g.utcOffset()-this.utcOffset())*6e4,c=Ze(c),c){case"year":x=us(this,g)/12;break;case"month":x=us(this,g);break;case"quarter":x=us(this,g)/3;break;case"second":x=(this-g)/1e3;break;case"minute":x=(this-g)/6e4;break;case"hour":x=(this-g)/36e5;break;case"day":x=(this-g-b)/864e5;break;case"week":x=(this-g-b)/6048e5;break;default:x=this-g}return p?x:bt(x)}s(_w,"diff");function us(a,c){if(a.date()<c.date())return-us(c,a);var p=(c.year()-a.year())*12+(c.month()-a.month()),g=a.clone().add(p,"months"),b,x;return c-g<0?(b=a.clone().add(p-1,"months"),x=(c-g)/(g-b)):(b=a.clone().add(p+1,"months"),x=(c-g)/(b-g)),-(p+x)||0}s(us,"monthDiff"),e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Rw(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}s(Rw,"toString");function Mw(a){if(!this.isValid())return null;var c=a!==!0,p=c?this.clone().utc():this;return p.year()<0||p.year()>9999?xn(p,c?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):me(Date.prototype.toISOString)?c?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",xn(p,"Z")):xn(p,c?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}s(Mw,"toISOString");function Lw(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",c="",p,g,b,x;return this.isLocal()||(a=this.utcOffset()===0?"moment.utc":"moment.parseZone",c="Z"),p="["+a+'("]',g=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",b="-MM-DD[T]HH:mm:ss.SSS",x=c+'[")]',this.format(p+g+b+x)}s(Lw,"inspect");function Dw(a){a||(a=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var c=xn(this,a);return this.localeData().postformat(c)}s(Dw,"format");function Nw(a,c){return this.isValid()&&(F(a)&&a.isValid()||we(a).isValid())?Mt({to:this,from:a}).locale(this.locale()).humanize(!c):this.localeData().invalidDate()}s(Nw,"from");function $w(a){return this.from(we(),a)}s($w,"fromNow");function Bw(a,c){return this.isValid()&&(F(a)&&a.isValid()||we(a).isValid())?Mt({from:this,to:a}).locale(this.locale()).humanize(!c):this.localeData().invalidDate()}s(Bw,"to");function Vw(a){return this.to(we(),a)}s(Vw,"toNow");function ld(a){var c;return a===void 0?this._locale._abbr:(c=nn(a),c!=null&&(this._locale=c),this)}s(ld,"locale");var ud=re("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return a===void 0?this.localeData():this.locale(a)});function cd(){return this._locale}s(cd,"localeData");var cs=1e3,cr=60*cs,ds=60*cr,dd=(365*400+97)*24*ds;function dr(a,c){return(a%c+c)%c}s(dr,"mod$1");function fd(a,c,p){return a<100&&a>=0?new Date(a+400,c,p)-dd:new Date(a,c,p).valueOf()}s(fd,"localStartOfDate");function hd(a,c,p){return a<100&&a>=0?Date.UTC(a+400,c,p)-dd:Date.UTC(a,c,p)}s(hd,"utcStartOfDate");function Uw(a){var c,p;if(a=Ze(a),a===void 0||a==="millisecond"||!this.isValid())return this;switch(p=this._isUTC?hd:fd,a){case"year":c=p(this.year(),0,1);break;case"quarter":c=p(this.year(),this.month()-this.month()%3,1);break;case"month":c=p(this.year(),this.month(),1);break;case"week":c=p(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":c=p(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":c=p(this.year(),this.month(),this.date());break;case"hour":c=this._d.valueOf(),c-=dr(c+(this._isUTC?0:this.utcOffset()*cr),ds);break;case"minute":c=this._d.valueOf(),c-=dr(c,cr);break;case"second":c=this._d.valueOf(),c-=dr(c,cs);break}return this._d.setTime(c),e.updateOffset(this,!0),this}s(Uw,"startOf");function Ww(a){var c,p;if(a=Ze(a),a===void 0||a==="millisecond"||!this.isValid())return this;switch(p=this._isUTC?hd:fd,a){case"year":c=p(this.year()+1,0,1)-1;break;case"quarter":c=p(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":c=p(this.year(),this.month()+1,1)-1;break;case"week":c=p(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":c=p(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":c=p(this.year(),this.month(),this.date()+1)-1;break;case"hour":c=this._d.valueOf(),c+=ds-dr(c+(this._isUTC?0:this.utcOffset()*cr),ds)-1;break;case"minute":c=this._d.valueOf(),c+=cr-dr(c,cr)-1;break;case"second":c=this._d.valueOf(),c+=cs-dr(c,cs)-1;break}return this._d.setTime(c),e.updateOffset(this,!0),this}s(Ww,"endOf");function Yw(){return this._d.valueOf()-(this._offset||0)*6e4}s(Yw,"valueOf");function zw(){return Math.floor(this.valueOf()/1e3)}s(zw,"unix");function Hw(){return new Date(this.valueOf())}s(Hw,"toDate");function jw(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}s(jw,"toArray");function Gw(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}s(Gw,"toObject");function qw(){return this.isValid()?this.toISOString():null}s(qw,"toJSON");function Kw(){return S(this)}s(Kw,"isValid$2");function Jw(){return m({},v(this))}s(Jw,"parsingFlags");function Xw(){return v(this).overflow}s(Xw,"invalidAt");function Zw(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}s(Zw,"creationData"),A("N",0,0,"eraAbbr"),A("NN",0,0,"eraAbbr"),A("NNN",0,0,"eraAbbr"),A("NNNN",0,0,"eraName"),A("NNNNN",0,0,"eraNarrow"),A("y",["y",1],"yo","eraYear"),A("y",["yy",2],0,"eraYear"),A("y",["yyy",3],0,"eraYear"),A("y",["yyyy",4],0,"eraYear"),U("N",ol),U("NN",ol),U("NNN",ol),U("NNNN",ub),U("NNNNN",cb),ye(["N","NN","NNN","NNNN","NNNNN"],function(a,c,p,g){var b=p._locale.erasParse(a,g,p._strict);b?v(p).era=b:v(p).invalidEra=a}),U("y",wt),U("yy",wt),U("yyy",wt),U("yyyy",wt),U("yo",db),ye(["y","yy","yyy","yyyy"],je),ye(["yo"],function(a,c,p,g){var b;p._locale._eraYearOrdinalRegex&&(b=a.match(p._locale._eraYearOrdinalRegex)),p._locale.eraYearOrdinalParse?c[je]=p._locale.eraYearOrdinalParse(a,b):c[je]=parseInt(a,10)});function Qw(a,c){var p,g,b,x=this._eras||nn("en")._eras;for(p=0,g=x.length;p<g;++p){switch(typeof x[p].since){case"string":b=e(x[p].since).startOf("day"),x[p].since=b.valueOf();break}switch(typeof x[p].until){case"undefined":x[p].until=1/0;break;case"string":b=e(x[p].until).startOf("day").valueOf(),x[p].until=b.valueOf();break}}return x}s(Qw,"localeEras");function eb(a,c,p){var g,b,x=this.eras(),I,$,K;for(a=a.toUpperCase(),g=0,b=x.length;g<b;++g)if(I=x[g].name.toUpperCase(),$=x[g].abbr.toUpperCase(),K=x[g].narrow.toUpperCase(),p)switch(c){case"N":case"NN":case"NNN":if($===a)return x[g];break;case"NNNN":if(I===a)return x[g];break;case"NNNNN":if(K===a)return x[g];break}else if([I,$,K].indexOf(a)>=0)return x[g]}s(eb,"localeErasParse");function tb(a,c){var p=a.since<=a.until?1:-1;return c===void 0?e(a.since).year():e(a.since).year()+(c-a.offset)*p}s(tb,"localeErasConvertYear");function nb(){var a,c,p,g=this.localeData().eras();for(a=0,c=g.length;a<c;++a)if(p=this.clone().startOf("day").valueOf(),g[a].since<=p&&p<=g[a].until||g[a].until<=p&&p<=g[a].since)return g[a].name;return""}s(nb,"getEraName");function rb(){var a,c,p,g=this.localeData().eras();for(a=0,c=g.length;a<c;++a)if(p=this.clone().startOf("day").valueOf(),g[a].since<=p&&p<=g[a].until||g[a].until<=p&&p<=g[a].since)return g[a].narrow;return""}s(rb,"getEraNarrow");function ib(){var a,c,p,g=this.localeData().eras();for(a=0,c=g.length;a<c;++a)if(p=this.clone().startOf("day").valueOf(),g[a].since<=p&&p<=g[a].until||g[a].until<=p&&p<=g[a].since)return g[a].abbr;return""}s(ib,"getEraAbbr");function sb(){var a,c,p,g,b=this.localeData().eras();for(a=0,c=b.length;a<c;++a)if(p=b[a].since<=b[a].until?1:-1,g=this.clone().startOf("day").valueOf(),b[a].since<=g&&g<=b[a].until||b[a].until<=g&&g<=b[a].since)return(this.year()-e(b[a].since).year())*p+b[a].offset;return this.year()}s(sb,"getEraYear");function ob(a){return o(this,"_erasNameRegex")||al.call(this),a?this._erasNameRegex:this._erasRegex}s(ob,"erasNameRegex");function ab(a){return o(this,"_erasAbbrRegex")||al.call(this),a?this._erasAbbrRegex:this._erasRegex}s(ab,"erasAbbrRegex");function lb(a){return o(this,"_erasNarrowRegex")||al.call(this),a?this._erasNarrowRegex:this._erasRegex}s(lb,"erasNarrowRegex");function ol(a,c){return c.erasAbbrRegex(a)}s(ol,"matchEraAbbr");function ub(a,c){return c.erasNameRegex(a)}s(ub,"matchEraName");function cb(a,c){return c.erasNarrowRegex(a)}s(cb,"matchEraNarrow");function db(a,c){return c._eraYearOrdinalRegex||wt}s(db,"matchEraYearOrdinal");function al(){var a=[],c=[],p=[],g=[],b,x,I,$,K,le=this.eras();for(b=0,x=le.length;b<x;++b)I=Zt(le[b].name),$=Zt(le[b].abbr),K=Zt(le[b].narrow),c.push(I),a.push($),p.push(K),g.push(I),g.push($),g.push(K);this._erasRegex=new RegExp("^("+g.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+c.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+p.join("|")+")","i")}s(al,"computeErasParse"),A(0,["gg",2],0,function(){return this.weekYear()%100}),A(0,["GG",2],0,function(){return this.isoWeekYear()%100});function fs(a,c){A(0,[a,a.length],0,c)}s(fs,"addWeekYearFormatToken"),fs("gggg","weekYear"),fs("ggggg","weekYear"),fs("GGGG","isoWeekYear"),fs("GGGGG","isoWeekYear"),U("G",Bt),U("g",Bt),U("GG",N,Qe),U("gg",N,Qe),U("GGGG",It,O),U("gggg",It,O),U("GGGGG",lt,M),U("ggggg",lt,M),Qr(["gggg","ggggg","GGGG","GGGGG"],function(a,c,p,g){c[g.substr(0,2)]=oe(a)}),Qr(["gg","GG"],function(a,c,p,g){c[g]=e.parseTwoDigitYear(a)});function fb(a){return pd.call(this,a,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}s(fb,"getSetWeekYear");function hb(a){return pd.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}s(hb,"getSetISOWeekYear");function pb(){return tn(this.year(),1,4)}s(pb,"getISOWeeksInYear");function mb(){return tn(this.isoWeekYear(),1,4)}s(mb,"getISOWeeksInISOWeekYear");function gb(){var a=this.localeData()._week;return tn(this.year(),a.dow,a.doy)}s(gb,"getWeeksInYear");function yb(){var a=this.localeData()._week;return tn(this.weekYear(),a.dow,a.doy)}s(yb,"getWeeksInWeekYear");function pd(a,c,p,g,b){var x;return a==null?ri(this,g,b).year:(x=tn(a,g,b),c>x&&(c=x),wb.call(this,a,c,p,g,b))}s(pd,"getSetWeekYearHelper");function wb(a,c,p,g,b){var x=Hc(a,c,p,g,b),I=ni(x.year,0,x.dayOfYear);return this.year(I.getUTCFullYear()),this.month(I.getUTCMonth()),this.date(I.getUTCDate()),this}s(wb,"setWeekAll"),A("Q",0,"Qo","quarter"),U("Q",es),ye("Q",function(a,c){c[Qt]=(oe(a)-1)*3});function bb(a){return a==null?Math.ceil((this.month()+1)/3):this.month((a-1)*3+this.month()%3)}s(bb,"getSetQuarter"),A("D",["DD",2],"Do","date"),U("D",N,ar),U("DD",N,Qe),U("Do",function(a,c){return a?c._dayOfMonthOrdinalParse||c._ordinalParse:c._dayOfMonthOrdinalParseLenient}),ye(["D","DD"],Vt),ye("Do",function(a,c){c[Vt]=oe(a.match(N)[0])});var md=lr("Date",!0);A("DDD",["DDDD",3],"DDDo","dayOfYear"),U("DDD",He),U("DDDD",ts),ye(["DDD","DDDD"],function(a,c,p){p._dayOfYear=oe(a)});function Ab(a){var c=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return a==null?c:this.add(a-c,"d")}s(Ab,"getSetDayOfYear"),A("m",["mm",2],0,"minute"),U("m",N,Ha),U("mm",N,Qe),ye(["m","mm"],Rt);var xb=lr("Minutes",!1);A("s",["ss",2],0,"second"),U("s",N,Ha),U("ss",N,Qe),ye(["s","ss"],en);var kb=lr("Seconds",!1);A("S",0,0,function(){return~~(this.millisecond()/100)}),A(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),A(0,["SSS",3],0,"millisecond"),A(0,["SSSS",4],0,function(){return this.millisecond()*10}),A(0,["SSSSS",5],0,function(){return this.millisecond()*100}),A(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),A(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),A(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),A(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),U("S",He,es),U("SS",He,Qe),U("SSS",He,ts);var Cn,gd;for(Cn="SSSS";Cn.length<=9;Cn+="S")U(Cn,wt);function vb(a,c){c[Bn]=oe(("0."+a)*1e3)}for(s(vb,"parseMs"),Cn="S";Cn.length<=9;Cn+="S")ye(Cn,vb);gd=lr("Milliseconds",!1),A("z",0,0,"zoneAbbr"),A("zz",0,0,"zoneName");function Cb(){return this._isUTC?"UTC":""}s(Cb,"getZoneAbbr");function Eb(){return this._isUTC?"Coordinated Universal Time":""}s(Eb,"getZoneName");var R=z.prototype;R.add=yw,R.calendar=Cw,R.clone=Ew,R.diff=_w,R.endOf=Ww,R.format=Dw,R.from=Nw,R.fromNow=$w,R.to=Bw,R.toNow=Vw,R.get=L0,R.invalidAt=Xw,R.isAfter=Tw,R.isBefore=Sw,R.isBetween=Fw,R.isSame=Pw,R.isSameOrAfter=Iw,R.isSameOrBefore=Ow,R.isValid=Kw,R.lang=ud,R.locale=ld,R.localeData=cd,R.max=Ky,R.min=qy,R.parsingFlags=Jw,R.set=D0,R.startOf=Uw,R.subtract=ww,R.toArray=jw,R.toObject=Gw,R.toDate=Hw,R.toISOString=Mw,R.inspect=Lw,typeof Symbol<"u"&&Symbol.for!=null&&(R[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),R.toJSON=qw,R.toString=Rw,R.unix=zw,R.valueOf=Yw,R.creationData=Zw,R.eraName=nb,R.eraNarrow=rb,R.eraAbbr=ib,R.eraYear=sb,R.year=$c,R.isLeapYear=M0,R.weekYear=fb,R.isoWeekYear=hb,R.quarter=R.quarters=bb,R.month=Yc,R.daysInMonth=H0,R.week=R.weeks=Q0,R.isoWeek=R.isoWeeks=ey,R.weeksInYear=gb,R.weeksInWeekYear=yb,R.isoWeeksInYear=pb,R.isoWeeksInISOWeekYear=mb,R.date=md,R.day=R.days=hy,R.weekday=py,R.isoWeekday=my,R.dayOfYear=Ab,R.hour=R.hours=ky,R.minute=R.minutes=xb,R.second=R.seconds=kb,R.millisecond=R.milliseconds=gd,R.utcOffset=iw,R.utc=ow,R.local=aw,R.parseZone=lw,R.hasAlignedHourOffset=uw,R.isDST=cw,R.isLocal=fw,R.isUtcOffset=hw,R.isUtc=rd,R.isUTC=rd,R.zoneAbbr=Cb,R.zoneName=Eb,R.dates=re("dates accessor is deprecated. Use date instead.",md),R.months=re("months accessor is deprecated. Use month instead",Yc),R.years=re("years accessor is deprecated. Use year instead",$c),R.zone=re("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",sw),R.isDSTShifted=re("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",dw);function Tb(a){return we(a*1e3)}s(Tb,"createUnix");function Sb(){return we.apply(null,arguments).parseZone()}s(Sb,"createInZone");function yd(a){return a}s(yd,"preParsePostFormat");var de=j.prototype;de.calendar=ce,de.longDateFormat=$n,de.invalidDate=Xt,de.ordinal=Wa,de.preparse=yd,de.postformat=yd,de.relativeTime=Xi,de.pastFuture=Zi,de.set=ae,de.eras=Qw,de.erasParse=eb,de.erasConvertYear=tb,de.erasAbbrRegex=ab,de.erasNameRegex=ob,de.erasNarrowRegex=lb,de.months=U0,de.monthsShort=W0,de.monthsParse=z0,de.monthsRegex=G0,de.monthsShortRegex=j0,de.week=K0,de.firstDayOfYear=Z0,de.firstDayOfWeek=X0,de.weekdays=ly,de.weekdaysMin=cy,de.weekdaysShort=uy,de.weekdaysParse=fy,de.weekdaysRegex=gy,de.weekdaysShortRegex=yy,de.weekdaysMinRegex=wy,de.isPM=Ay,de.meridiem=vy;function hs(a,c,p,g){var b=nn(),x=y().set(g,c);return b[p](x,a)}s(hs,"get$1");function wd(a,c,p){if(d(a)&&(c=a,a=void 0),a=a||"",c!=null)return hs(a,c,p,"month");var g,b=[];for(g=0;g<12;g++)b[g]=hs(a,g,p,"month");return b}s(wd,"listMonthsImpl");function ll(a,c,p,g){typeof a=="boolean"?(d(c)&&(p=c,c=void 0),c=c||""):(c=a,p=c,a=!1,d(c)&&(p=c,c=void 0),c=c||"");var b=nn(),x=a?b._week.dow:0,I,$=[];if(p!=null)return hs(c,(p+x)%7,g,"day");for(I=0;I<7;I++)$[I]=hs(c,(I+x)%7,g,"day");return $}s(ll,"listWeekdaysImpl");function Fb(a,c){return wd(a,c,"months")}s(Fb,"listMonths");function Pb(a,c){return wd(a,c,"monthsShort")}s(Pb,"listMonthsShort");function Ib(a,c,p){return ll(a,c,p,"weekdays")}s(Ib,"listWeekdays");function Ob(a,c,p){return ll(a,c,p,"weekdaysShort")}s(Ob,"listWeekdaysShort");function _b(a,c,p){return ll(a,c,p,"weekdaysMin")}s(_b,"listWeekdaysMin"),vn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:s(function(a){var c=a%10,p=oe(a%100/10)===1?"th":c===1?"st":c===2?"nd":c===3?"rd":"th";return a+p},"ordinal")}),e.lang=re("moment.lang is deprecated. Use moment.locale instead.",vn),e.langData=re("moment.langData is deprecated. Use moment.localeData instead.",nn);var rn=Math.abs;function Rb(){var a=this._data;return this._milliseconds=rn(this._milliseconds),this._days=rn(this._days),this._months=rn(this._months),a.milliseconds=rn(a.milliseconds),a.seconds=rn(a.seconds),a.minutes=rn(a.minutes),a.hours=rn(a.hours),a.months=rn(a.months),a.years=rn(a.years),this}s(Rb,"abs");function bd(a,c,p,g){var b=Mt(c,p);return a._milliseconds+=g*b._milliseconds,a._days+=g*b._days,a._months+=g*b._months,a._bubble()}s(bd,"addSubtract$1");function Mb(a,c){return bd(this,a,c,1)}s(Mb,"add$1");function Lb(a,c){return bd(this,a,c,-1)}s(Lb,"subtract$1");function Ad(a){return a<0?Math.floor(a):Math.ceil(a)}s(Ad,"absCeil");function Db(){var a=this._milliseconds,c=this._days,p=this._months,g=this._data,b,x,I,$,K;return a>=0&&c>=0&&p>=0||a<=0&&c<=0&&p<=0||(a+=Ad(ul(p)+c)*864e5,c=0,p=0),g.milliseconds=a%1e3,b=bt(a/1e3),g.seconds=b%60,x=bt(b/60),g.minutes=x%60,I=bt(x/60),g.hours=I%24,c+=bt(I/24),K=bt(xd(c)),p+=K,c-=Ad(ul(K)),$=bt(p/12),p%=12,g.days=c,g.months=p,g.years=$,this}s(Db,"bubble");function xd(a){return a*4800/146097}s(xd,"daysToMonths");function ul(a){return a*146097/4800}s(ul,"monthsToDays");function Nb(a){if(!this.isValid())return NaN;var c,p,g=this._milliseconds;if(a=Ze(a),a==="month"||a==="quarter"||a==="year")switch(c=this._days+g/864e5,p=this._months+xd(c),a){case"month":return p;case"quarter":return p/3;case"year":return p/12}else switch(c=this._days+Math.round(ul(this._months)),a){case"week":return c/7+g/6048e5;case"day":return c+g/864e5;case"hour":return c*24+g/36e5;case"minute":return c*1440+g/6e4;case"second":return c*86400+g/1e3;case"millisecond":return Math.floor(c*864e5)+g;default:throw new Error("Unknown unit "+a)}}s(Nb,"as");function sn(a){return function(){return this.as(a)}}s(sn,"makeAs");var kd=sn("ms"),$b=sn("s"),Bb=sn("m"),Vb=sn("h"),Ub=sn("d"),Wb=sn("w"),Yb=sn("M"),zb=sn("Q"),Hb=sn("y"),jb=kd;function Gb(){return Mt(this)}s(Gb,"clone$1");function qb(a){return a=Ze(a),this.isValid()?this[a+"s"]():NaN}s(qb,"get$2");function Un(a){return function(){return this.isValid()?this._data[a]:NaN}}s(Un,"makeGetter");var Kb=Un("milliseconds"),Jb=Un("seconds"),Xb=Un("minutes"),Zb=Un("hours"),Qb=Un("days"),eA=Un("months"),tA=Un("years");function nA(){return bt(this.days()/7)}s(nA,"weeks");var on=Math.round,fr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function rA(a,c,p,g,b){return b.relativeTime(c||1,!!p,a,g)}s(rA,"substituteTimeAgo");function iA(a,c,p,g){var b=Mt(a).abs(),x=on(b.as("s")),I=on(b.as("m")),$=on(b.as("h")),K=on(b.as("d")),le=on(b.as("M")),tt=on(b.as("w")),an=on(b.as("y")),En=x<=p.ss&&["s",x]||x<p.s&&["ss",x]||I<=1&&["m"]||I<p.m&&["mm",I]||$<=1&&["h"]||$<p.h&&["hh",$]||K<=1&&["d"]||K<p.d&&["dd",K];return p.w!=null&&(En=En||tt<=1&&["w"]||tt<p.w&&["ww",tt]),En=En||le<=1&&["M"]||le<p.M&&["MM",le]||an<=1&&["y"]||["yy",an],En[2]=c,En[3]=+a>0,En[4]=g,rA.apply(null,En)}s(iA,"relativeTime$1");function sA(a){return a===void 0?on:typeof a=="function"?(on=a,!0):!1}s(sA,"getSetRelativeTimeRounding");function oA(a,c){return fr[a]===void 0?!1:c===void 0?fr[a]:(fr[a]=c,a==="s"&&(fr.ss=c-1),!0)}s(oA,"getSetRelativeTimeThreshold");function aA(a,c){if(!this.isValid())return this.localeData().invalidDate();var p=!1,g=fr,b,x;return typeof a=="object"&&(c=a,a=!1),typeof a=="boolean"&&(p=a),typeof c=="object"&&(g=Object.assign({},fr,c),c.s!=null&&c.ss==null&&(g.ss=c.s-1)),b=this.localeData(),x=iA(this,!p,g,b),p&&(x=b.pastFuture(+this,x)),b.postformat(x)}s(aA,"humanize");var cl=Math.abs;function hr(a){return(a>0)-(a<0)||+a}s(hr,"sign");function ps(){if(!this.isValid())return this.localeData().invalidDate();var a=cl(this._milliseconds)/1e3,c=cl(this._days),p=cl(this._months),g,b,x,I,$=this.asSeconds(),K,le,tt,an;return $?(g=bt(a/60),b=bt(g/60),a%=60,g%=60,x=bt(p/12),p%=12,I=a?a.toFixed(3).replace(/\.?0+$/,""):"",K=$<0?"-":"",le=hr(this._months)!==hr($)?"-":"",tt=hr(this._days)!==hr($)?"-":"",an=hr(this._milliseconds)!==hr($)?"-":"",K+"P"+(x?le+x+"Y":"")+(p?le+p+"M":"")+(c?tt+c+"D":"")+(b||g||a?"T":"")+(b?an+b+"H":"")+(g?an+g+"M":"")+(a?an+I+"S":"")):"P0D"}s(ps,"toISOString$1");var ue=as.prototype;ue.isValid=ew,ue.abs=Rb,ue.add=Mb,ue.subtract=Lb,ue.as=Nb,ue.asMilliseconds=kd,ue.asSeconds=$b,ue.asMinutes=Bb,ue.asHours=Vb,ue.asDays=Ub,ue.asWeeks=Wb,ue.asMonths=Yb,ue.asQuarters=zb,ue.asYears=Hb,ue.valueOf=jb,ue._bubble=Db,ue.clone=Gb,ue.get=qb,ue.milliseconds=Kb,ue.seconds=Jb,ue.minutes=Xb,ue.hours=Zb,ue.days=Qb,ue.weeks=nA,ue.months=eA,ue.years=tA,ue.humanize=aA,ue.toISOString=ps,ue.toString=ps,ue.toJSON=ps,ue.locale=ld,ue.localeData=cd,ue.toIsoString=re("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ps),ue.lang=ud,A("X",0,0,"unix"),A("x",0,0,"valueOf"),U("x",Bt),U("X",_t),ye("X",function(a,c,p){p._d=new Date(parseFloat(a)*1e3)}),ye("x",function(a,c,p){p._d=new Date(oe(a))});return e.version="2.30.1",n(we),e.fn=R,e.min=Jy,e.max=Xy,e.now=Zy,e.utc=y,e.unix=Tb,e.months=Fb,e.isDate=f,e.locale=vn,e.invalid=E,e.duration=Mt,e.isMoment=F,e.weekdays=Ib,e.parseZone=Sb,e.localeData=nn,e.isDuration=ls,e.monthsShort=Pb,e.weekdaysMin=_b,e.defineLocale=Xa,e.updateLocale=Sy,e.locales=Fy,e.weekdaysShort=Ob,e.normalizeUnits=Ze,e.relativeTimeRounding=sA,e.relativeTimeThreshold=oA,e.calendarFormat=vw,e.prototype=R,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e}))});var Pd=H((k2,Fd)=>{var mr=1e3,gr=mr*60,yr=gr*60,Yn=yr*24,pA=Yn*7,mA=Yn*365.25;Fd.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return gA(t);if(n==="number"&&isFinite(t))return e.long?wA(t):yA(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function gA(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*mA;case"weeks":case"week":case"w":return n*pA;case"days":case"day":case"d":return n*Yn;case"hours":case"hour":case"hrs":case"hr":case"h":return n*yr;case"minutes":case"minute":case"mins":case"min":case"m":return n*gr;case"seconds":case"second":case"secs":case"sec":case"s":return n*mr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}s(gA,"parse");function yA(t){var e=Math.abs(t);return e>=Yn?Math.round(t/Yn)+"d":e>=yr?Math.round(t/yr)+"h":e>=gr?Math.round(t/gr)+"m":e>=mr?Math.round(t/mr)+"s":t+"ms"}s(yA,"fmtShort");function wA(t){var e=Math.abs(t);return e>=Yn?ms(t,e,Yn,"day"):e>=yr?ms(t,e,yr,"hour"):e>=gr?ms(t,e,gr,"minute"):e>=mr?ms(t,e,mr,"second"):t+" ms"}s(wA,"fmtLong");function ms(t,e,n,r){var i=e>=n*1.5;return Math.round(t/n)+" "+r+(i?"s":"")}s(ms,"plural")});var fl=H((C2,Id)=>{function bA(t){n.debug=n,n.default=n,n.coerce=d,n.disable=l,n.enable=i,n.enabled=u,n.humanize=Pd(),n.destroy=f,Object.keys(t).forEach(h=>{n[h]=t[h]}),n.names=[],n.skips=[],n.formatters={};function e(h){let m=0;for(let y=0;y<h.length;y++)m=(m<<5)-m+h.charCodeAt(y),m|=0;return n.colors[Math.abs(m)%n.colors.length]}s(e,"selectColor"),n.selectColor=e;function n(h){let m,y=null,w,v;function T(...S){if(!T.enabled)return;let E=T,P=Number(new Date),_=P-(m||P);E.diff=_,E.prev=m,E.curr=P,m=P,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let D=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(F,Z)=>{if(F==="%%")return"%";D++;let re=n.formatters[Z];if(typeof re=="function"){let q=S[D];F=re.call(E,q),S.splice(D,1),D--}return F}),n.formatArgs.call(E,S),(E.log||n.log).apply(E,S)}return s(T,"debug"),T.namespace=h,T.useColors=n.useColors(),T.color=n.selectColor(h),T.extend=r,T.destroy=n.destroy,Object.defineProperty(T,"enabled",{enumerable:!0,configurable:!1,get:s(()=>y!==null?y:(w!==n.namespaces&&(w=n.namespaces,v=n.enabled(h)),v),"get"),set:s(S=>{y=S},"set")}),typeof n.init=="function"&&n.init(T),T}s(n,"createDebug");function r(h,m){let y=n(this.namespace+(typeof m>"u"?":":m)+h);return y.log=this.log,y}s(r,"extend");function i(h){n.save(h),n.namespaces=h,n.names=[],n.skips=[];let m=(typeof h=="string"?h:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let y of m)y[0]==="-"?n.skips.push(y.slice(1)):n.names.push(y)}s(i,"enable");function o(h,m){let y=0,w=0,v=-1,T=0;for(;y<h.length;)if(w<m.length&&(m[w]===h[y]||m[w]==="*"))m[w]==="*"?(v=w,T=y,w++):(y++,w++);else if(v!==-1)w=v+1,T++,y=T;else return!1;for(;w<m.length&&m[w]==="*";)w++;return w===m.length}s(o,"matchesTemplate");function l(){let h=[...n.names,...n.skips.map(m=>"-"+m)].join(",");return n.enable(""),h}s(l,"disable");function u(h){for(let m of n.skips)if(o(h,m))return!1;for(let m of n.names)if(o(h,m))return!0;return!1}s(u,"enabled");function d(h){return h instanceof Error?h.stack||h.message:h}s(d,"coerce");function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s(f,"destroy"),n.enable(n.load()),n}s(bA,"setup");Id.exports=bA});var Od=H((ut,gs)=>{ut.formatArgs=xA;ut.save=kA;ut.load=vA;ut.useColors=AA;ut.storage=CA();ut.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ut.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function AA(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}s(AA,"useColors");function xA(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+gs.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(n++,i==="%c"&&(r=n))}),t.splice(r,0,e)}s(xA,"formatArgs");ut.log=console.debug||console.log||(()=>{});function kA(t){try{t?ut.storage.setItem("debug",t):ut.storage.removeItem("debug")}catch{}}s(kA,"save");function vA(){let t;try{t=ut.storage.getItem("debug")||ut.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}s(vA,"load");function CA(){try{return localStorage}catch{}}s(CA,"localstorage");gs.exports=fl()(ut);var{formatters:EA}=gs.exports;EA.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Rd=H((S2,_d)=>{"use strict";_d.exports=(t,e=process.argv)=>{let n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),i=e.indexOf("--");return r!==-1&&(i===-1||r<i)}});var Dd=H((F2,Ld)=>{"use strict";var TA=require("os"),Md=require("tty"),At=Rd(),{env:De}=process,ys;At("no-color")||At("no-colors")||At("color=false")||At("color=never")?ys=0:(At("color")||At("colors")||At("color=true")||At("color=always"))&&(ys=1);function SA(){if("FORCE_COLOR"in De)return De.FORCE_COLOR==="true"?1:De.FORCE_COLOR==="false"?0:De.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(De.FORCE_COLOR,10),3)}s(SA,"envForceColor");function FA(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}s(FA,"translateLevel");function PA(t,{streamIsTTY:e,sniffFlags:n=!0}={}){let r=SA();r!==void 0&&(ys=r);let i=n?ys:r;if(i===0)return 0;if(n){if(At("color=16m")||At("color=full")||At("color=truecolor"))return 3;if(At("color=256"))return 2}if(t&&!e&&i===void 0)return 0;let o=i||0;if(De.TERM==="dumb")return o;if(process.platform==="win32"){let l=TA.release().split(".");return Number(l[0])>=10&&Number(l[2])>=10586?Number(l[2])>=14931?3:2:1}if("CI"in De)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(l=>l in De)||De.CI_NAME==="codeship"?1:o;if("TEAMCITY_VERSION"in De)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(De.TEAMCITY_VERSION)?1:0;if(De.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in De){let l=Number.parseInt((De.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(De.TERM_PROGRAM){case"iTerm.app":return l>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(De.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(De.TERM)||"COLORTERM"in De?1:o}s(PA,"supportsColor");function hl(t,e={}){let n=PA(t,{streamIsTTY:t&&t.isTTY,...e});return FA(n)}s(hl,"getSupportLevel");Ld.exports={supportsColor:hl,stdout:hl({isTTY:Md.isatty(1)}),stderr:hl({isTTY:Md.isatty(2)})}});var $d=H((Ne,bs)=>{var IA=require("tty"),ws=require("util");Ne.init=NA;Ne.log=MA;Ne.formatArgs=_A;Ne.save=LA;Ne.load=DA;Ne.useColors=OA;Ne.destroy=ws.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Ne.colors=[6,2,3,4,5,1];try{let t=Dd();t&&(t.stderr||t).level>=2&&(Ne.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Ne.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),t[n]=r,t},{});function OA(){return"colors"in Ne.inspectOpts?!!Ne.inspectOpts.colors:IA.isatty(process.stderr.fd)}s(OA,"useColors");function _A(t){let{namespace:e,useColors:n}=this;if(n){let r=this.color,i="\x1B[3"+(r<8?r:"8;5;"+r),o=`  ${i};1m${e} \x1B[0m`;t[0]=o+t[0].split(`
`).join(`
`+o),t.push(i+"m+"+bs.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=RA()+e+" "+t[0]}s(_A,"formatArgs");function RA(){return Ne.inspectOpts.hideDate?"":new Date().toISOString()+" "}s(RA,"getDate");function MA(...t){return process.stderr.write(ws.formatWithOptions(Ne.inspectOpts,...t)+`
`)}s(MA,"log");function LA(t){t?process.env.DEBUG=t:delete process.env.DEBUG}s(LA,"save");function DA(){return process.env.DEBUG}s(DA,"load");function NA(t){t.inspectOpts={};let e=Object.keys(Ne.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=Ne.inspectOpts[e[n]]}s(NA,"init");bs.exports=fl()(Ne);var{formatters:Nd}=bs.exports;Nd.o=function(t){return this.inspectOpts.colors=this.useColors,ws.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Nd.O=function(t){return this.inspectOpts.colors=this.useColors,ws.inspect(t,this.inspectOpts)}});var Bd=H((O2,pl)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?pl.exports=Od():pl.exports=$d()});var pf=H((FF,hf)=>{"use strict";function Yt(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}s(Yt,"assertPath");function ff(t,e){for(var n="",r=0,i=-1,o=0,l,u=0;u<=t.length;++u){if(u<t.length)l=t.charCodeAt(u);else{if(l===47)break;l=47}if(l===47){if(!(i===u-1||o===1))if(i!==u-1&&o===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var d=n.lastIndexOf("/");if(d!==n.length-1){d===-1?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),i=u,o=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=u,o=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+t.slice(i+1,u):n=t.slice(i+1,u),r=u-i-1;i=u,o=0}else l===46&&o!==-1?++o:o=-1}return n}s(ff,"normalizeStringPosix");function px(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}s(px,"_format");var Er={resolve:s(function(){for(var e="",n=!1,r,i=arguments.length-1;i>=-1&&!n;i--){var o;i>=0?o=arguments[i]:(r===void 0&&(r=process.cwd()),o=r),Yt(o),o.length!==0&&(e=o+"/"+e,n=o.charCodeAt(0)===47)}return e=ff(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},"resolve"),normalize:s(function(e){if(Yt(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=ff(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},"normalize"),isAbsolute:s(function(e){return Yt(e),e.length>0&&e.charCodeAt(0)===47},"isAbsolute"),join:s(function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];Yt(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":Er.normalize(e)},"join"),relative:s(function(e,n){if(Yt(e),Yt(n),e===n||(e=Er.resolve(e),n=Er.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,o=i-r,l=1;l<n.length&&n.charCodeAt(l)===47;++l);for(var u=n.length,d=u-l,f=o<d?o:d,h=-1,m=0;m<=f;++m){if(m===f){if(d>f){if(n.charCodeAt(l+m)===47)return n.slice(l+m+1);if(m===0)return n.slice(l+m)}else o>f&&(e.charCodeAt(r+m)===47?h=m:m===0&&(h=0));break}var y=e.charCodeAt(r+m),w=n.charCodeAt(l+m);if(y!==w)break;y===47&&(h=m)}var v="";for(m=r+h+1;m<=i;++m)(m===i||e.charCodeAt(m)===47)&&(v.length===0?v+="..":v+="/..");return v.length>0?v+n.slice(l+h):(l+=h,n.charCodeAt(l)===47&&++l,n.slice(l))},"relative"),_makeLong:s(function(e){return e},"_makeLong"),dirname:s(function(e){if(Yt(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,i=-1,o=!0,l=e.length-1;l>=1;--l)if(n=e.charCodeAt(l),n===47){if(!o){i=l;break}}else o=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},"dirname"),basename:s(function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Yt(e);var r=0,i=-1,o=!0,l;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var u=n.length-1,d=-1;for(l=e.length-1;l>=0;--l){var f=e.charCodeAt(l);if(f===47){if(!o){r=l+1;break}}else d===-1&&(o=!1,d=l+1),u>=0&&(f===n.charCodeAt(u)?--u===-1&&(i=l):(u=-1,i=d))}return r===i?i=d:i===-1&&(i=e.length),e.slice(r,i)}else{for(l=e.length-1;l>=0;--l)if(e.charCodeAt(l)===47){if(!o){r=l+1;break}}else i===-1&&(o=!1,i=l+1);return i===-1?"":e.slice(r,i)}},"basename"),extname:s(function(e){Yt(e);for(var n=-1,r=0,i=-1,o=!0,l=0,u=e.length-1;u>=0;--u){var d=e.charCodeAt(u);if(d===47){if(!o){r=u+1;break}continue}i===-1&&(o=!1,i=u+1),d===46?n===-1?n=u:l!==1&&(l=1):n!==-1&&(l=-1)}return n===-1||i===-1||l===0||l===1&&n===i-1&&n===r+1?"":e.slice(n,i)},"extname"),format:s(function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return px("/",e)},"format"),parse:s(function(e){Yt(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),i=r===47,o;i?(n.root="/",o=1):o=0;for(var l=-1,u=0,d=-1,f=!0,h=e.length-1,m=0;h>=o;--h){if(r=e.charCodeAt(h),r===47){if(!f){u=h+1;break}continue}d===-1&&(f=!1,d=h+1),r===46?l===-1?l=h:m!==1&&(m=1):l!==-1&&(m=-1)}return l===-1||d===-1||m===0||m===1&&l===d-1&&l===u+1?d!==-1&&(u===0&&i?n.base=n.name=e.slice(1,d):n.base=n.name=e.slice(u,d)):(u===0&&i?(n.name=e.slice(1,l),n.base=e.slice(1,d)):(n.name=e.slice(u,l),n.base=e.slice(u,d)),n.ext=e.slice(l,d)),u>0?n.dir=e.slice(0,u-1):i&&(n.dir="/"),n},"parse"),sep:"/",delimiter:":",win32:null,posix:null};Er.posix=Er;hf.exports=Er});var op=H((mD,sp)=>{"use strict";var so=Object.prototype.hasOwnProperty,ip=Object.prototype.toString,Zh=Object.defineProperty,Qh=Object.getOwnPropertyDescriptor,ep=s(function(e){return typeof Array.isArray=="function"?Array.isArray(e):ip.call(e)==="[object Array]"},"isArray"),tp=s(function(e){if(!e||ip.call(e)!=="[object Object]")return!1;var n=so.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&so.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||so.call(e,i)},"isPlainObject"),np=s(function(e,n){Zh&&n.name==="__proto__"?Zh(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},"setProperty"),rp=s(function(e,n){if(n==="__proto__")if(so.call(e,n)){if(Qh)return Qh(e,n).value}else return;return e[n]},"getProperty");sp.exports=s(function t(){var e,n,r,i,o,l,u=arguments[0],d=1,f=arguments.length,h=!1;for(typeof u=="boolean"&&(h=u,u=arguments[1]||{},d=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});d<f;++d)if(e=arguments[d],e!=null)for(n in e)r=rp(u,n),i=rp(e,n),u!==i&&(h&&i&&(tp(i)||(o=ep(i)))?(o?(o=!1,l=r&&ep(r)?r:[]):l=r&&tp(r)?r:{},np(u,{name:n,newValue:t(h,l,i)})):typeof i<"u"&&np(u,{name:n,newValue:i}));return u},"extend")});var Bp=H((ko,$p)=>{(function(t,e){typeof ko=="object"&&typeof $p<"u"?e(ko):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(ko,(function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=s(S=>{if(typeof S!="string")throw new TypeError("Invalid argument expected string");let E=S.match(e);if(!E)throw new Error(`Invalid argument not valid semver ('${S}' received)`);return E.shift(),E},"validateAndParse"),r=s(S=>S==="*"||S==="x"||S==="X","isWildcard"),i=s(S=>{let E=parseInt(S,10);return isNaN(E)?S:E},"tryParse"),o=s((S,E)=>typeof S!=typeof E?[String(S),String(E)]:[S,E],"forceType"),l=s((S,E)=>{if(r(S)||r(E))return 0;let[P,_]=o(i(S),i(E));return P>_?1:P<_?-1:0},"compareStrings"),u=s((S,E)=>{for(let P=0;P<Math.max(S.length,E.length);P++){let _=l(S[P]||"0",E[P]||"0");if(_!==0)return _}return 0},"compareSegments"),d=s((S,E)=>{let P=n(S),_=n(E),D=P.pop(),z=_.pop(),F=u(P,_);return F!==0?F:D&&z?u(D.split("."),z.split(".")):D||z?D?-1:1:0},"compareVersions"),f=s((S,E,P)=>{y(P);let _=d(S,E);return h[P].includes(_)},"compare"),h={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},m=Object.keys(h),y=s(S=>{if(typeof S!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof S}`);if(m.indexOf(S)===-1)throw new Error(`Invalid operator, expected one of ${m.join("|")}`)},"assertValidOperator"),w=s((S,E)=>{if(E=E.replace(/([><=]+)\s+/g,"$1"),E.includes("||"))return E.split("||").some(Q=>w(S,Q));if(E.includes(" - ")){let[Q,ce]=E.split(" - ",2);return w(S,`>=${Q} <=${ce}`)}else if(E.includes(" "))return E.trim().replace(/\s{2,}/g," ").split(" ").every(Q=>w(S,Q));let P=E.match(/^([<>=~^]+)/),_=P?P[1]:"=";if(_!=="^"&&_!=="~")return f(S,E,_);let[D,z,F,,Z]=n(S),[re,q,ne,,me]=n(E),ae=[D,z,F],L=[re,q??"x",ne??"x"];if(me&&(!Z||u(ae,L)!==0||u(Z.split("."),me.split("."))===-1))return!1;let j=L.findIndex(Q=>Q!=="0")+1,G=_==="~"?2:j>1?j:1;return!(u(ae.slice(0,G),L.slice(0,G))!==0||u(ae.slice(G),L.slice(G))===-1)},"satisfies"),v=s(S=>typeof S=="string"&&/^[v\d]/.test(S)&&e.test(S),"validate"),T=s(S=>typeof S=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(S),"validateStrict");t.compare=f,t.compareVersions=d,t.satisfies=w,t.validate=v,t.validateStrict=T}))});var om=H((ec,tc)=>{(function(t,e,n){typeof ec=="object"?(tc.exports=n(),tc.exports.default=n()):typeof define=="function"&&define.amd?define(n):e[t]=n()})("slugify",ec,function(){var t=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xA2":"cent","\xA3":"pound","\xA4":"currency","\xA5":"yen","\xA9":"(c)","\xAA":"a","\xAE":"(r)","\xBA":"o","\xC0":"A","\xC1":"A","\xC2":"A","\xC3":"A","\xC4":"A","\xC5":"A","\xC6":"AE","\xC7":"C","\xC8":"E","\xC9":"E","\xCA":"E","\xCB":"E","\xCC":"I","\xCD":"I","\xCE":"I","\xCF":"I","\xD0":"D","\xD1":"N","\xD2":"O","\xD3":"O","\xD4":"O","\xD5":"O","\xD6":"O","\xD8":"O","\xD9":"U","\xDA":"U","\xDB":"U","\xDC":"U","\xDD":"Y","\xDE":"TH","\xDF":"ss","\xE0":"a","\xE1":"a","\xE2":"a","\xE3":"a","\xE4":"a","\xE5":"a","\xE6":"ae","\xE7":"c","\xE8":"e","\xE9":"e","\xEA":"e","\xEB":"e","\xEC":"i","\xED":"i","\xEE":"i","\xEF":"i","\xF0":"d","\xF1":"n","\xF2":"o","\xF3":"o","\xF4":"o","\xF5":"o","\xF6":"o","\xF8":"o","\xF9":"u","\xFA":"u","\xFB":"u","\xFC":"u","\xFD":"y","\xFE":"th","\xFF":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010C":"C","\u010D":"c","\u010E":"D","\u010F":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011A":"E","\u011B":"e","\u011E":"G","\u011F":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012A":"i","\u012B":"i","\u012E":"I","\u012F":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013B":"L","\u013C":"l","\u013D":"L","\u013E":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014C":"O","\u014D":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015A":"S","\u015B":"s","\u015E":"S","\u015F":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016A":"u","\u016B":"u","\u016E":"U","\u016F":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017A":"z","\u017B":"Z","\u017C":"z","\u017D":"Z","\u017E":"z","\u018F":"E","\u0192":"f","\u01A0":"O","\u01A1":"o","\u01AF":"U","\u01B0":"u","\u01C8":"LJ","\u01C9":"lj","\u01CB":"NJ","\u01CC":"nj","\u0218":"S","\u0219":"s","\u021A":"T","\u021B":"t","\u0259":"e","\u02DA":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038A":"I","\u038C":"O","\u038E":"Y","\u038F":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039A":"K","\u039B":"L","\u039C":"M","\u039D":"N","\u039E":"3","\u039F":"O","\u03A0":"P","\u03A1":"R","\u03A3":"S","\u03A4":"T","\u03A5":"Y","\u03A6":"F","\u03A7":"X","\u03A8":"PS","\u03A9":"W","\u03AA":"I","\u03AB":"Y","\u03AC":"a","\u03AD":"e","\u03AE":"h","\u03AF":"i","\u03B0":"y","\u03B1":"a","\u03B2":"b","\u03B3":"g","\u03B4":"d","\u03B5":"e","\u03B6":"z","\u03B7":"h","\u03B8":"8","\u03B9":"i","\u03BA":"k","\u03BB":"l","\u03BC":"m","\u03BD":"n","\u03BE":"3","\u03BF":"o","\u03C0":"p","\u03C1":"r","\u03C2":"s","\u03C3":"s","\u03C4":"t","\u03C5":"y","\u03C6":"f","\u03C7":"x","\u03C8":"ps","\u03C9":"w","\u03CA":"i","\u03CB":"y","\u03CC":"o","\u03CD":"y","\u03CE":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040A":"NJ","\u040B":"C","\u040F":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041A":"K","\u041B":"L","\u041C":"M","\u041D":"N","\u041E":"O","\u041F":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042A":"U","\u042B":"Y","\u042C":"","\u042D":"E","\u042E":"Yu","\u042F":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043A":"k","\u043B":"l","\u043C":"m","\u043D":"n","\u043E":"o","\u043F":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044A":"u","\u044B":"y","\u044C":"","\u044D":"e","\u044E":"yu","\u044F":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045A":"nj","\u045B":"c","\u045D":"u","\u045F":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049A":"KH","\u049B":"kh","\u04A2":"NG","\u04A3":"ng","\u04AE":"UE","\u04AF":"ue","\u04B0":"U","\u04B1":"u","\u04BA":"H","\u04BB":"h","\u04D8":"AE","\u04D9":"ae","\u04E8":"OE","\u04E9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E'","\u0538":"Y'","\u0539":"T'","\u053A":"JH","\u053B":"I","\u053C":"L","\u053D":"X","\u053E":"C'","\u053F":"K","\u0540":"H","\u0541":"D'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054A":"P","\u054B":"J","\u054C":"R'","\u054D":"S","\u054E":"V","\u054F":"T","\u0550":"R","\u0551":"C","\u0553":"P'","\u0554":"Q'","\u0555":"O''","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062A":"t","\u062B":"th","\u062C":"j","\u062D":"h","\u062E":"kh","\u062F":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063A":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064A":"y","\u064B":"an","\u064C":"on","\u064D":"en","\u064E":"a","\u064F":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067E":"p","\u0686":"ch","\u0698":"zh","\u06A9":"k","\u06AF":"g","\u06CC":"y","\u06F0":"0","\u06F1":"1","\u06F2":"2","\u06F3":"3","\u06F4":"4","\u06F5":"5","\u06F6":"6","\u06F7":"7","\u06F8":"8","\u06F9":"9","\u0E3F":"baht","\u10D0":"a","\u10D1":"b","\u10D2":"g","\u10D3":"d","\u10D4":"e","\u10D5":"v","\u10D6":"z","\u10D7":"t","\u10D8":"i","\u10D9":"k","\u10DA":"l","\u10DB":"m","\u10DC":"n","\u10DD":"o","\u10DE":"p","\u10DF":"zh","\u10E0":"r","\u10E1":"s","\u10E2":"t","\u10E3":"u","\u10E4":"f","\u10E5":"k","\u10E6":"gh","\u10E7":"q","\u10E8":"sh","\u10E9":"ch","\u10EA":"ts","\u10EB":"dz","\u10EC":"ts","\u10ED":"ch","\u10EE":"kh","\u10EF":"j","\u10F0":"h","\u1E62":"S","\u1E63":"s","\u1E80":"W","\u1E81":"w","\u1E82":"W","\u1E83":"w","\u1E84":"W","\u1E85":"w","\u1E9E":"SS","\u1EA0":"A","\u1EA1":"a","\u1EA2":"A","\u1EA3":"a","\u1EA4":"A","\u1EA5":"a","\u1EA6":"A","\u1EA7":"a","\u1EA8":"A","\u1EA9":"a","\u1EAA":"A","\u1EAB":"a","\u1EAC":"A","\u1EAD":"a","\u1EAE":"A","\u1EAF":"a","\u1EB0":"A","\u1EB1":"a","\u1EB2":"A","\u1EB3":"a","\u1EB4":"A","\u1EB5":"a","\u1EB6":"A","\u1EB7":"a","\u1EB8":"E","\u1EB9":"e","\u1EBA":"E","\u1EBB":"e","\u1EBC":"E","\u1EBD":"e","\u1EBE":"E","\u1EBF":"e","\u1EC0":"E","\u1EC1":"e","\u1EC2":"E","\u1EC3":"e","\u1EC4":"E","\u1EC5":"e","\u1EC6":"E","\u1EC7":"e","\u1EC8":"I","\u1EC9":"i","\u1ECA":"I","\u1ECB":"i","\u1ECC":"O","\u1ECD":"o","\u1ECE":"O","\u1ECF":"o","\u1ED0":"O","\u1ED1":"o","\u1ED2":"O","\u1ED3":"o","\u1ED4":"O","\u1ED5":"o","\u1ED6":"O","\u1ED7":"o","\u1ED8":"O","\u1ED9":"o","\u1EDA":"O","\u1EDB":"o","\u1EDC":"O","\u1EDD":"o","\u1EDE":"O","\u1EDF":"o","\u1EE0":"O","\u1EE1":"o","\u1EE2":"O","\u1EE3":"o","\u1EE4":"U","\u1EE5":"u","\u1EE6":"U","\u1EE7":"u","\u1EE8":"U","\u1EE9":"u","\u1EEA":"U","\u1EEB":"u","\u1EEC":"U","\u1EED":"u","\u1EEE":"U","\u1EEF":"u","\u1EF0":"U","\u1EF1":"u","\u1EF2":"Y","\u1EF3":"y","\u1EF4":"Y","\u1EF5":"y","\u1EF6":"Y","\u1EF7":"y","\u1EF8":"Y","\u1EF9":"y","\u2013":"-","\u2018":"'","\u2019":"'","\u201C":"\\"","\u201D":"\\"","\u201E":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20A0":"ecu","\u20A2":"cruzeiro","\u20A3":"french franc","\u20A4":"lira","\u20A5":"mill","\u20A6":"naira","\u20A7":"peseta","\u20A8":"rupee","\u20A9":"won","\u20AA":"new shequel","\u20AB":"dong","\u20AC":"euro","\u20AD":"kip","\u20AE":"tugrik","\u20AF":"drachma","\u20B0":"penny","\u20B1":"peso","\u20B2":"guarani","\u20B3":"austral","\u20B4":"hryvnia","\u20B5":"cedi","\u20B8":"kazakhstani tenge","\u20B9":"indian rupee","\u20BA":"turkish lira","\u20BD":"russian ruble","\u20BF":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221E":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\uFDFC":"rial","\uFEF5":"laa","\uFEF7":"laa","\uFEF9":"lai","\uFEFB":"la"}`),e=JSON.parse('{"bg":{"\u0419":"Y","\u0426":"Ts","\u0429":"Sht","\u042A":"A","\u042C":"Y","\u0439":"y","\u0446":"ts","\u0449":"sht","\u044A":"a","\u044C":"y"},"de":{"\xC4":"AE","\xE4":"ae","\xD6":"OE","\xF6":"oe","\xDC":"UE","\xFC":"ue","\xDF":"ss","%":"prozent","&":"und","|":"oder","\u2211":"summe","\u221E":"unendlich","\u2665":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xA2":"centavos","\xA3":"libras","\xA4":"moneda","\u20A3":"francos","\u2211":"suma","\u221E":"infinito","\u2665":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xA2":"centime","\xA3":"livre","\xA4":"devise","\u20A3":"franc","\u2211":"somme","\u221E":"infini","\u2665":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xA2":"centavo","\u2211":"soma","\xA3":"libra","\u221E":"infinito","\u2665":"amor"},"uk":{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"},"vi":{"\u0110":"D","\u0111":"d"},"da":{"\xD8":"OE","\xF8":"oe","\xC5":"AA","\xE5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xF8rre end"},"nb":{"&":"og","\xC5":"AA","\xC6":"AE","\xD8":"OE","\xE5":"aa","\xE6":"ae","\xF8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xC5":"AA","\xC4":"AE","\xD6":"OE","\xE5":"aa","\xE4":"ae","\xF6":"oe"}}');function n(r,i){if(typeof r!="string")throw new Error("slugify: string argument expected");i=typeof i=="string"?{replacement:i}:i||{};var o=e[i.locale]||{},l=i.replacement===void 0?"-":i.replacement,u=i.trim===void 0?!0:i.trim,d=r.normalize().split("").reduce(function(f,h){var m=o[h];return m===void 0&&(m=t[h]),m===void 0&&(m=h),m===l&&(m=" "),f+m.replace(i.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return i.strict&&(d=d.replace(/[^A-Za-z0-9\s]/g,"")),u&&(d=d.trim()),d=d.replace(/\s+/g,l),i.lower&&(d=d.toLowerCase()),d}return s(n,"replace"),n.extend=function(r){Object.assign(t,r)},n})});var Yi=H((qU,Tm)=>{"use strict";var lE="2.0.0",uE=Number.MAX_SAFE_INTEGER||9007199254740991,cE=16,dE=250,fE=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Tm.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:cE,MAX_SAFE_BUILD_LENGTH:dE,MAX_SAFE_INTEGER:uE,RELEASE_TYPES:fE,SEMVER_SPEC_VERSION:lE,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var zi=H((KU,Sm)=>{"use strict";var hE=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Sm.exports=hE});var jr=H((Kt,Fm)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:uc,MAX_SAFE_BUILD_LENGTH:pE,MAX_LENGTH:mE}=Yi(),gE=zi();Kt=Fm.exports={};var yE=Kt.re=[],wE=Kt.safeRe=[],B=Kt.src=[],bE=Kt.safeSrc=[],V=Kt.t={},AE=0,cc="[a-zA-Z0-9-]",xE=[["\\s",1],["\\d",mE],[cc,pE]],kE=s(t=>{for(let[e,n]of xE)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},"makeSafeRegex"),te=s((t,e,n)=>{let r=kE(e),i=AE++;gE(t,i,e),V[t]=i,B[i]=e,bE[i]=r,yE[i]=new RegExp(e,n?"g":void 0),wE[i]=new RegExp(r,n?"g":void 0)},"createToken");te("NUMERICIDENTIFIER","0|[1-9]\\d*");te("NUMERICIDENTIFIERLOOSE","\\d+");te("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${cc}*`);te("MAINVERSION",`(${B[V.NUMERICIDENTIFIER]})\\.(${B[V.NUMERICIDENTIFIER]})\\.(${B[V.NUMERICIDENTIFIER]})`);te("MAINVERSIONLOOSE",`(${B[V.NUMERICIDENTIFIERLOOSE]})\\.(${B[V.NUMERICIDENTIFIERLOOSE]})\\.(${B[V.NUMERICIDENTIFIERLOOSE]})`);te("PRERELEASEIDENTIFIER",`(?:${B[V.NONNUMERICIDENTIFIER]}|${B[V.NUMERICIDENTIFIER]})`);te("PRERELEASEIDENTIFIERLOOSE",`(?:${B[V.NONNUMERICIDENTIFIER]}|${B[V.NUMERICIDENTIFIERLOOSE]})`);te("PRERELEASE",`(?:-(${B[V.PRERELEASEIDENTIFIER]}(?:\\.${B[V.PRERELEASEIDENTIFIER]})*))`);te("PRERELEASELOOSE",`(?:-?(${B[V.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${B[V.PRERELEASEIDENTIFIERLOOSE]})*))`);te("BUILDIDENTIFIER",`${cc}+`);te("BUILD",`(?:\\+(${B[V.BUILDIDENTIFIER]}(?:\\.${B[V.BUILDIDENTIFIER]})*))`);te("FULLPLAIN",`v?${B[V.MAINVERSION]}${B[V.PRERELEASE]}?${B[V.BUILD]}?`);te("FULL",`^${B[V.FULLPLAIN]}$`);te("LOOSEPLAIN",`[v=\\s]*${B[V.MAINVERSIONLOOSE]}${B[V.PRERELEASELOOSE]}?${B[V.BUILD]}?`);te("LOOSE",`^${B[V.LOOSEPLAIN]}$`);te("GTLT","((?:<|>)?=?)");te("XRANGEIDENTIFIERLOOSE",`${B[V.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);te("XRANGEIDENTIFIER",`${B[V.NUMERICIDENTIFIER]}|x|X|\\*`);te("XRANGEPLAIN",`[v=\\s]*(${B[V.XRANGEIDENTIFIER]})(?:\\.(${B[V.XRANGEIDENTIFIER]})(?:\\.(${B[V.XRANGEIDENTIFIER]})(?:${B[V.PRERELEASE]})?${B[V.BUILD]}?)?)?`);te("XRANGEPLAINLOOSE",`[v=\\s]*(${B[V.XRANGEIDENTIFIERLOOSE]})(?:\\.(${B[V.XRANGEIDENTIFIERLOOSE]})(?:\\.(${B[V.XRANGEIDENTIFIERLOOSE]})(?:${B[V.PRERELEASELOOSE]})?${B[V.BUILD]}?)?)?`);te("XRANGE",`^${B[V.GTLT]}\\s*${B[V.XRANGEPLAIN]}$`);te("XRANGELOOSE",`^${B[V.GTLT]}\\s*${B[V.XRANGEPLAINLOOSE]}$`);te("COERCEPLAIN",`(^|[^\\d])(\\d{1,${uc}})(?:\\.(\\d{1,${uc}}))?(?:\\.(\\d{1,${uc}}))?`);te("COERCE",`${B[V.COERCEPLAIN]}(?:$|[^\\d])`);te("COERCEFULL",B[V.COERCEPLAIN]+`(?:${B[V.PRERELEASE]})?(?:${B[V.BUILD]})?(?:$|[^\\d])`);te("COERCERTL",B[V.COERCE],!0);te("COERCERTLFULL",B[V.COERCEFULL],!0);te("LONETILDE","(?:~>?)");te("TILDETRIM",`(\\s*)${B[V.LONETILDE]}\\s+`,!0);Kt.tildeTrimReplace="$1~";te("TILDE",`^${B[V.LONETILDE]}${B[V.XRANGEPLAIN]}$`);te("TILDELOOSE",`^${B[V.LONETILDE]}${B[V.XRANGEPLAINLOOSE]}$`);te("LONECARET","(?:\\^)");te("CARETTRIM",`(\\s*)${B[V.LONECARET]}\\s+`,!0);Kt.caretTrimReplace="$1^";te("CARET",`^${B[V.LONECARET]}${B[V.XRANGEPLAIN]}$`);te("CARETLOOSE",`^${B[V.LONECARET]}${B[V.XRANGEPLAINLOOSE]}$`);te("COMPARATORLOOSE",`^${B[V.GTLT]}\\s*(${B[V.LOOSEPLAIN]})$|^$`);te("COMPARATOR",`^${B[V.GTLT]}\\s*(${B[V.FULLPLAIN]})$|^$`);te("COMPARATORTRIM",`(\\s*)${B[V.GTLT]}\\s*(${B[V.LOOSEPLAIN]}|${B[V.XRANGEPLAIN]})`,!0);Kt.comparatorTrimReplace="$1$2$3";te("HYPHENRANGE",`^\\s*(${B[V.XRANGEPLAIN]})\\s+-\\s+(${B[V.XRANGEPLAIN]})\\s*$`);te("HYPHENRANGELOOSE",`^\\s*(${B[V.XRANGEPLAINLOOSE]})\\s+-\\s+(${B[V.XRANGEPLAINLOOSE]})\\s*$`);te("STAR","(<|>)?=?\\s*\\*");te("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");te("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Go=H((XU,Pm)=>{"use strict";var vE=Object.freeze({loose:!0}),CE=Object.freeze({}),EE=s(t=>t?typeof t!="object"?vE:t:CE,"parseOptions");Pm.exports=EE});var dc=H((QU,_m)=>{"use strict";var Im=/^[0-9]+$/,Om=s((t,e)=>{let n=Im.test(t),r=Im.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},"compareIdentifiers"),TE=s((t,e)=>Om(e,t),"rcompareIdentifiers");_m.exports={compareIdentifiers:Om,rcompareIdentifiers:TE}});var Je=H((t5,Mm)=>{"use strict";var qo=zi(),{MAX_LENGTH:Rm,MAX_SAFE_INTEGER:Ko}=Yi(),{safeRe:Jo,t:Xo}=jr(),SE=Go(),{compareIdentifiers:Gr}=dc(),fc=class t{static{s(this,"SemVer")}constructor(e,n){if(n=SE(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Rm)throw new TypeError(`version is longer than ${Rm} characters`);qo("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?Jo[Xo.LOOSE]:Jo[Xo.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Ko||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ko||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ko||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<Ko)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(qo("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Gr(this.major,e.major)||Gr(this.minor,e.minor)||Gr(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],i=e.prerelease[n];if(qo("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Gr(r,i)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let r=this.build[n],i=e.build[n];if(qo("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Gr(r,i)}while(++n)}inc(e,n,r){if(e.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){let i=`-${n}`.match(this.options.loose?Jo[Xo.PRERELEASELOOSE]:Jo[Xo.PRERELEASE]);if(!i||i[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let o=[n,i];r===!1&&(o=[n]),Gr(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Mm.exports=fc});var ir=H((r5,Dm)=>{"use strict";var Lm=Je(),FE=s((t,e,n=!1)=>{if(t instanceof Lm)return t;try{return new Lm(t,e)}catch(r){if(!n)return null;throw r}},"parse");Dm.exports=FE});var $m=H((s5,Nm)=>{"use strict";var PE=ir(),IE=s((t,e)=>{let n=PE(t,e);return n?n.version:null},"valid");Nm.exports=IE});var Vm=H((a5,Bm)=>{"use strict";var OE=ir(),_E=s((t,e)=>{let n=OE(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null},"clean");Bm.exports=_E});var Ym=H((u5,Wm)=>{"use strict";var Um=Je(),RE=s((t,e,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new Um(t instanceof Um?t.version:t,n).inc(e,r,i).version}catch{return null}},"inc");Wm.exports=RE});var jm=H((d5,Hm)=>{"use strict";var zm=ir(),ME=s((t,e)=>{let n=zm(t,null,!0),r=zm(e,null,!0),i=n.compare(r);if(i===0)return null;let o=i>0,l=o?n:r,u=o?r:n,d=!!l.prerelease.length;if(!!u.prerelease.length&&!d){if(!u.patch&&!u.minor)return"major";if(u.compareMain(l)===0)return u.minor&&!u.patch?"minor":"patch"}let h=d?"pre":"";return n.major!==r.major?h+"major":n.minor!==r.minor?h+"minor":n.patch!==r.patch?h+"patch":"prerelease"},"diff");Hm.exports=ME});var qm=H((h5,Gm)=>{"use strict";var LE=Je(),DE=s((t,e)=>new LE(t,e).major,"major");Gm.exports=DE});var Jm=H((m5,Km)=>{"use strict";var NE=Je(),$E=s((t,e)=>new NE(t,e).minor,"minor");Km.exports=$E});var Zm=H((y5,Xm)=>{"use strict";var BE=Je(),VE=s((t,e)=>new BE(t,e).patch,"patch");Xm.exports=VE});var eg=H((b5,Qm)=>{"use strict";var UE=ir(),WE=s((t,e)=>{let n=UE(t,e);return n&&n.prerelease.length?n.prerelease:null},"prerelease");Qm.exports=WE});var St=H((x5,ng)=>{"use strict";var tg=Je(),YE=s((t,e,n)=>new tg(t,n).compare(new tg(e,n)),"compare");ng.exports=YE});var ig=H((v5,rg)=>{"use strict";var zE=St(),HE=s((t,e,n)=>zE(e,t,n),"rcompare");rg.exports=HE});var og=H((E5,sg)=>{"use strict";var jE=St(),GE=s((t,e)=>jE(t,e,!0),"compareLoose");sg.exports=GE});var Zo=H((S5,lg)=>{"use strict";var ag=Je(),qE=s((t,e,n)=>{let r=new ag(t,n),i=new ag(e,n);return r.compare(i)||r.compareBuild(i)},"compareBuild");lg.exports=qE});var cg=H((P5,ug)=>{"use strict";var KE=Zo(),JE=s((t,e)=>t.sort((n,r)=>KE(n,r,e)),"sort");ug.exports=JE});var fg=H((O5,dg)=>{"use strict";var XE=Zo(),ZE=s((t,e)=>t.sort((n,r)=>XE(r,n,e)),"rsort");dg.exports=ZE});var Hi=H((R5,hg)=>{"use strict";var QE=St(),eT=s((t,e,n)=>QE(t,e,n)>0,"gt");hg.exports=eT});var Qo=H((L5,pg)=>{"use strict";var tT=St(),nT=s((t,e,n)=>tT(t,e,n)<0,"lt");pg.exports=nT});var hc=H((N5,mg)=>{"use strict";var rT=St(),iT=s((t,e,n)=>rT(t,e,n)===0,"eq");mg.exports=iT});var pc=H((B5,gg)=>{"use strict";var sT=St(),oT=s((t,e,n)=>sT(t,e,n)!==0,"neq");gg.exports=oT});var ea=H((U5,yg)=>{"use strict";var aT=St(),lT=s((t,e,n)=>aT(t,e,n)>=0,"gte");yg.exports=lT});var ta=H((Y5,wg)=>{"use strict";var uT=St(),cT=s((t,e,n)=>uT(t,e,n)<=0,"lte");wg.exports=cT});var mc=H((H5,bg)=>{"use strict";var dT=hc(),fT=pc(),hT=Hi(),pT=ea(),mT=Qo(),gT=ta(),yT=s((t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return dT(t,n,r);case"!=":return fT(t,n,r);case">":return hT(t,n,r);case">=":return pT(t,n,r);case"<":return mT(t,n,r);case"<=":return gT(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}},"cmp");bg.exports=yT});var xg=H((G5,Ag)=>{"use strict";var wT=Je(),bT=ir(),{safeRe:na,t:ra}=jr(),AT=s((t,e)=>{if(t instanceof wT)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?na[ra.COERCEFULL]:na[ra.COERCE]);else{let d=e.includePrerelease?na[ra.COERCERTLFULL]:na[ra.COERCERTL],f;for(;(f=d.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||f.index+f[0].length!==n.index+n[0].length)&&(n=f),d.lastIndex=f.index+f[1].length+f[2].length;d.lastIndex=-1}if(n===null)return null;let r=n[2],i=n[3]||"0",o=n[4]||"0",l=e.includePrerelease&&n[5]?`-${n[5]}`:"",u=e.includePrerelease&&n[6]?`+${n[6]}`:"";return bT(`${r}.${i}.${o}${l}${u}`,e)},"coerce");Ag.exports=AT});var vg=H((K5,kg)=>{"use strict";var gc=class{static{s(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(e){let n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}};kg.exports=gc});var Ft=H((X5,Sg)=>{"use strict";var xT=/\s+/g,yc=class t{static{s(this,"Range")}constructor(e,n){if(n=vT(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof wc)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().replace(xT," "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!Eg(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&IT(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let n=this.set[e];for(let r=0;r<n.length;r++)r>0&&(this.formatted+=" "),this.formatted+=n[r].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&FT)|(this.options.loose&&PT))+":"+e,i=Cg.get(r);if(i)return i;let o=this.options.loose,l=o?dt[ot.HYPHENRANGELOOSE]:dt[ot.HYPHENRANGE];e=e.replace(l,VT(this.options.includePrerelease)),be("hyphen replace",e),e=e.replace(dt[ot.COMPARATORTRIM],ET),be("comparator trim",e),e=e.replace(dt[ot.TILDETRIM],TT),be("tilde trim",e),e=e.replace(dt[ot.CARETTRIM],ST),be("caret trim",e);let u=e.split(" ").map(m=>OT(m,this.options)).join(" ").split(/\s+/).map(m=>BT(m,this.options));o&&(u=u.filter(m=>(be("loose invalid filter",m,this.options),!!m.match(dt[ot.COMPARATORLOOSE])))),be("range list",u);let d=new Map,f=u.map(m=>new wc(m,this.options));for(let m of f){if(Eg(m))return[m];d.set(m.value,m)}d.size>1&&d.has("")&&d.delete("");let h=[...d.values()];return Cg.set(r,h),h}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(r=>Tg(r,n)&&e.set.some(i=>Tg(i,n)&&r.every(o=>i.every(l=>o.intersects(l,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new CT(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(UT(this.set[n],e,this.options))return!0;return!1}};Sg.exports=yc;var kT=vg(),Cg=new kT,vT=Go(),wc=ji(),be=zi(),CT=Je(),{safeRe:dt,t:ot,comparatorTrimReplace:ET,tildeTrimReplace:TT,caretTrimReplace:ST}=jr(),{FLAG_INCLUDE_PRERELEASE:FT,FLAG_LOOSE:PT}=Yi(),Eg=s(t=>t.value==="<0.0.0-0","isNullSet"),IT=s(t=>t.value==="","isAny"),Tg=s((t,e)=>{let n=!0,r=t.slice(),i=r.pop();for(;n&&r.length;)n=r.every(o=>i.intersects(o,e)),i=r.pop();return n},"isSatisfiable"),OT=s((t,e)=>(be("comp",t,e),t=MT(t,e),be("caret",t),t=_T(t,e),be("tildes",t),t=DT(t,e),be("xrange",t),t=$T(t,e),be("stars",t),t),"parseComparator"),at=s(t=>!t||t.toLowerCase()==="x"||t==="*","isX"),_T=s((t,e)=>t.trim().split(/\s+/).map(n=>RT(n,e)).join(" "),"replaceTildes"),RT=s((t,e)=>{let n=e.loose?dt[ot.TILDELOOSE]:dt[ot.TILDE];return t.replace(n,(r,i,o,l,u)=>{be("tilde",t,r,i,o,l,u);let d;return at(i)?d="":at(o)?d=`>=${i}.0.0 <${+i+1}.0.0-0`:at(l)?d=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:u?(be("replaceTilde pr",u),d=`>=${i}.${o}.${l}-${u} <${i}.${+o+1}.0-0`):d=`>=${i}.${o}.${l} <${i}.${+o+1}.0-0`,be("tilde return",d),d})},"replaceTilde"),MT=s((t,e)=>t.trim().split(/\s+/).map(n=>LT(n,e)).join(" "),"replaceCarets"),LT=s((t,e)=>{be("caret",t,e);let n=e.loose?dt[ot.CARETLOOSE]:dt[ot.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(i,o,l,u,d)=>{be("caret",t,i,o,l,u,d);let f;return at(o)?f="":at(l)?f=`>=${o}.0.0${r} <${+o+1}.0.0-0`:at(u)?o==="0"?f=`>=${o}.${l}.0${r} <${o}.${+l+1}.0-0`:f=`>=${o}.${l}.0${r} <${+o+1}.0.0-0`:d?(be("replaceCaret pr",d),o==="0"?l==="0"?f=`>=${o}.${l}.${u}-${d} <${o}.${l}.${+u+1}-0`:f=`>=${o}.${l}.${u}-${d} <${o}.${+l+1}.0-0`:f=`>=${o}.${l}.${u}-${d} <${+o+1}.0.0-0`):(be("no pr"),o==="0"?l==="0"?f=`>=${o}.${l}.${u}${r} <${o}.${l}.${+u+1}-0`:f=`>=${o}.${l}.${u}${r} <${o}.${+l+1}.0-0`:f=`>=${o}.${l}.${u} <${+o+1}.0.0-0`),be("caret return",f),f})},"replaceCaret"),DT=s((t,e)=>(be("replaceXRanges",t,e),t.split(/\s+/).map(n=>NT(n,e)).join(" ")),"replaceXRanges"),NT=s((t,e)=>{t=t.trim();let n=e.loose?dt[ot.XRANGELOOSE]:dt[ot.XRANGE];return t.replace(n,(r,i,o,l,u,d)=>{be("xRange",t,r,i,o,l,u,d);let f=at(o),h=f||at(l),m=h||at(u),y=m;return i==="="&&y&&(i=""),d=e.includePrerelease?"-0":"",f?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&y?(h&&(l=0),u=0,i===">"?(i=">=",h?(o=+o+1,l=0,u=0):(l=+l+1,u=0)):i==="<="&&(i="<",h?o=+o+1:l=+l+1),i==="<"&&(d="-0"),r=`${i+o}.${l}.${u}${d}`):h?r=`>=${o}.0.0${d} <${+o+1}.0.0-0`:m&&(r=`>=${o}.${l}.0${d} <${o}.${+l+1}.0-0`),be("xRange return",r),r})},"replaceXRange"),$T=s((t,e)=>(be("replaceStars",t,e),t.trim().replace(dt[ot.STAR],"")),"replaceStars"),BT=s((t,e)=>(be("replaceGTE0",t,e),t.trim().replace(dt[e.includePrerelease?ot.GTE0PRE:ot.GTE0],"")),"replaceGTE0"),VT=s(t=>(e,n,r,i,o,l,u,d,f,h,m,y)=>(at(r)?n="":at(i)?n=`>=${r}.0.0${t?"-0":""}`:at(o)?n=`>=${r}.${i}.0${t?"-0":""}`:l?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,at(f)?d="":at(h)?d=`<${+f+1}.0.0-0`:at(m)?d=`<${f}.${+h+1}.0-0`:y?d=`<=${f}.${h}.${m}-${y}`:t?d=`<${f}.${h}.${+m+1}-0`:d=`<=${d}`,`${n} ${d}`.trim()),"hyphenReplace"),UT=s((t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(be(t[r].semver),t[r].semver!==wc.ANY&&t[r].semver.prerelease.length>0){let i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0},"testSet")});var ji=H((Q5,Rg)=>{"use strict";var Gi=Symbol("SemVer ANY"),xc=class t{static{s(this,"Comparator")}static get ANY(){return Gi}constructor(e,n){if(n=Fg(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Ac("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===Gi?this.value="":this.value=this.operator+this.semver.version,Ac("comp",this)}parse(e){let n=this.options.loose?Pg[Ig.COMPARATORLOOSE]:Pg[Ig.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new Og(r[2],this.options.loose):this.semver=Gi}toString(){return this.value}test(e){if(Ac("Comparator.test",e,this.options.loose),this.semver===Gi||e===Gi)return!0;if(typeof e=="string")try{e=new Og(e,this.options)}catch{return!1}return bc(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new _g(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new _g(this.value,n).test(e.semver):(n=Fg(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||bc(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||bc(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Rg.exports=xc;var Fg=Go(),{safeRe:Pg,t:Ig}=jr(),bc=mc(),Ac=zi(),Og=Je(),_g=Ft()});var qi=H((tW,Mg)=>{"use strict";var WT=Ft(),YT=s((t,e,n)=>{try{e=new WT(e,n)}catch{return!1}return e.test(t)},"satisfies");Mg.exports=YT});var Dg=H((rW,Lg)=>{"use strict";var zT=Ft(),HT=s((t,e)=>new zT(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" ")),"toComparators");Lg.exports=HT});var $g=H((sW,Ng)=>{"use strict";var jT=Je(),GT=Ft(),qT=s((t,e,n)=>{let r=null,i=null,o=null;try{o=new GT(e,n)}catch{return null}return t.forEach(l=>{o.test(l)&&(!r||i.compare(l)===-1)&&(r=l,i=new jT(r,n))}),r},"maxSatisfying");Ng.exports=qT});var Vg=H((aW,Bg)=>{"use strict";var KT=Je(),JT=Ft(),XT=s((t,e,n)=>{let r=null,i=null,o=null;try{o=new JT(e,n)}catch{return null}return t.forEach(l=>{o.test(l)&&(!r||i.compare(l)===1)&&(r=l,i=new KT(r,n))}),r},"minSatisfying");Bg.exports=XT});var Yg=H((uW,Wg)=>{"use strict";var kc=Je(),ZT=Ft(),Ug=Hi(),QT=s((t,e)=>{t=new ZT(t,e);let n=new kc("0.0.0");if(t.test(n)||(n=new kc("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){let i=t.set[r],o=null;i.forEach(l=>{let u=new kc(l.semver.version);switch(l.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!o||Ug(u,o))&&(o=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),o&&(!n||Ug(n,o))&&(n=o)}return n&&t.test(n)?n:null},"minVersion");Wg.exports=QT});var Hg=H((dW,zg)=>{"use strict";var eS=Ft(),tS=s((t,e)=>{try{return new eS(t,e).range||"*"}catch{return null}},"validRange");zg.exports=tS});var ia=H((hW,Kg)=>{"use strict";var nS=Je(),qg=ji(),{ANY:rS}=qg,iS=Ft(),sS=qi(),jg=Hi(),Gg=Qo(),oS=ta(),aS=ea(),lS=s((t,e,n,r)=>{t=new nS(t,r),e=new iS(e,r);let i,o,l,u,d;switch(n){case">":i=jg,o=oS,l=Gg,u=">",d=">=";break;case"<":i=Gg,o=aS,l=jg,u="<",d="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(sS(t,e,r))return!1;for(let f=0;f<e.set.length;++f){let h=e.set[f],m=null,y=null;if(h.forEach(w=>{w.semver===rS&&(w=new qg(">=0.0.0")),m=m||w,y=y||w,i(w.semver,m.semver,r)?m=w:l(w.semver,y.semver,r)&&(y=w)}),m.operator===u||m.operator===d||(!y.operator||y.operator===u)&&o(t,y.semver))return!1;if(y.operator===d&&l(t,y.semver))return!1}return!0},"outside");Kg.exports=lS});var Xg=H((mW,Jg)=>{"use strict";var uS=ia(),cS=s((t,e,n)=>uS(t,e,">",n),"gtr");Jg.exports=cS});var Qg=H((yW,Zg)=>{"use strict";var dS=ia(),fS=s((t,e,n)=>dS(t,e,"<",n),"ltr");Zg.exports=fS});var n0=H((bW,t0)=>{"use strict";var e0=Ft(),hS=s((t,e,n)=>(t=new e0(t,n),e=new e0(e,n),t.intersects(e,n)),"intersects");t0.exports=hS});var i0=H((xW,r0)=>{"use strict";var pS=qi(),mS=St();r0.exports=(t,e,n)=>{let r=[],i=null,o=null,l=t.sort((h,m)=>mS(h,m,n));for(let h of l)pS(h,e,n)?(o=h,i||(i=h)):(o&&r.push([i,o]),o=null,i=null);i&&r.push([i,null]);let u=[];for(let[h,m]of r)h===m?u.push(h):!m&&h===l[0]?u.push("*"):m?h===l[0]?u.push(`<=${m}`):u.push(`${h} - ${m}`):u.push(`>=${h}`);let d=u.join(" || "),f=typeof e.raw=="string"?e.raw:String(e);return d.length<f.length?d:e}});var c0=H((kW,u0)=>{"use strict";var s0=Ft(),Cc=ji(),{ANY:vc}=Cc,Ki=qi(),Ec=St(),gS=s((t,e,n={})=>{if(t===e)return!0;t=new s0(t,n),e=new s0(e,n);let r=!1;e:for(let i of t.set){for(let o of e.set){let l=wS(i,o,n);if(r=r||l!==null,l)continue e}if(r)return!1}return!0},"subset"),yS=[new Cc(">=0.0.0-0")],o0=[new Cc(">=0.0.0")],wS=s((t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===vc){if(e.length===1&&e[0].semver===vc)return!0;n.includePrerelease?t=yS:t=o0}if(e.length===1&&e[0].semver===vc){if(n.includePrerelease)return!0;e=o0}let r=new Set,i,o;for(let w of t)w.operator===">"||w.operator===">="?i=a0(i,w,n):w.operator==="<"||w.operator==="<="?o=l0(o,w,n):r.add(w.semver);if(r.size>1)return null;let l;if(i&&o){if(l=Ec(i.semver,o.semver,n),l>0)return null;if(l===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let w of r){if(i&&!Ki(w,String(i),n)||o&&!Ki(w,String(o),n))return null;for(let v of e)if(!Ki(w,String(v),n))return!1;return!0}let u,d,f,h,m=o&&!n.includePrerelease&&o.semver.prerelease.length?o.semver:!1,y=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;m&&m.prerelease.length===1&&o.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(let w of e){if(h=h||w.operator===">"||w.operator===">=",f=f||w.operator==="<"||w.operator==="<=",i){if(y&&w.semver.prerelease&&w.semver.prerelease.length&&w.semver.major===y.major&&w.semver.minor===y.minor&&w.semver.patch===y.patch&&(y=!1),w.operator===">"||w.operator===">="){if(u=a0(i,w,n),u===w&&u!==i)return!1}else if(i.operator===">="&&!Ki(i.semver,String(w),n))return!1}if(o){if(m&&w.semver.prerelease&&w.semver.prerelease.length&&w.semver.major===m.major&&w.semver.minor===m.minor&&w.semver.patch===m.patch&&(m=!1),w.operator==="<"||w.operator==="<="){if(d=l0(o,w,n),d===w&&d!==o)return!1}else if(o.operator==="<="&&!Ki(o.semver,String(w),n))return!1}if(!w.operator&&(o||i)&&l!==0)return!1}return!(i&&f&&!o&&l!==0||o&&h&&!i&&l!==0||y||m)},"simpleSubset"),a0=s((t,e,n)=>{if(!t)return e;let r=Ec(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},"higherGT"),l0=s((t,e,n)=>{if(!t)return e;let r=Ec(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t},"lowerLT");u0.exports=gS});var p0=H((CW,h0)=>{"use strict";var Tc=jr(),d0=Yi(),bS=Je(),f0=dc(),AS=ir(),xS=$m(),kS=Vm(),vS=Ym(),CS=jm(),ES=qm(),TS=Jm(),SS=Zm(),FS=eg(),PS=St(),IS=ig(),OS=og(),_S=Zo(),RS=cg(),MS=fg(),LS=Hi(),DS=Qo(),NS=hc(),$S=pc(),BS=ea(),VS=ta(),US=mc(),WS=xg(),YS=ji(),zS=Ft(),HS=qi(),jS=Dg(),GS=$g(),qS=Vg(),KS=Yg(),JS=Hg(),XS=ia(),ZS=Xg(),QS=Qg(),e2=n0(),t2=i0(),n2=c0();h0.exports={parse:AS,valid:xS,clean:kS,inc:vS,diff:CS,major:ES,minor:TS,patch:SS,prerelease:FS,compare:PS,rcompare:IS,compareLoose:OS,compareBuild:_S,sort:RS,rsort:MS,gt:LS,lt:DS,eq:NS,neq:$S,gte:BS,lte:VS,cmp:US,coerce:WS,Comparator:YS,Range:zS,satisfies:HS,toComparators:jS,maxSatisfying:GS,minSatisfying:qS,minVersion:KS,validRange:JS,outside:XS,gtr:ZS,ltr:QS,intersects:e2,simplifyRange:t2,subset:n2,SemVer:bS,re:Tc.re,src:Tc.src,tokens:Tc.t,SEMVER_SPEC_VERSION:d0.SEMVER_SPEC_VERSION,RELEASE_TYPES:d0.RELEASE_TYPES,compareIdentifiers:f0.compareIdentifiers,rcompareIdentifiers:f0.rcompareIdentifiers}});var f2={};vd(f2,{default:()=>d2});module.exports=hA(f2);var Va=require("electron"),Nc=Ve(ln(),1),$t=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Lt(){}s(Lt,"noop");async function Ut(){}s(Ut,"noopAsync");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var li=Number.POSITIVE_INFINITY;function Wn(...t){let e=t.filter(o=>!!o);if(typeof AbortSignal.any=="function")return AbortSignal.any(e);if(e.length===0)return Ue();if(e.length===1&&e[0])return e[0];let n=new AbortController;for(let o of e)if(o.aborted)return o;let r=[];for(let o of e)r.push(Td(o,i));return n.signal;function i(o){for(let l of r)l();n.abort(o.reason)}}s(Wn,"abortSignalAny");function Ue(){return new AbortController().signal}s(Ue,"abortSignalNever");function Ed(t){if(t===li)return Ue();if(typeof AbortSignal.timeout=="function")return AbortSignal.timeout(t);let e=new AbortController;return window.setTimeout(()=>{e.abort(new Error(`Timed out in ${String(t)} milliseconds`))},t),e.signal}s(Ed,"abortSignalTimeout");function Td(t,e){if(t.aborted)return e(t),Lt;return t.addEventListener("abort",n,{once:!0}),()=>{t.removeEventListener("abort",n)};function n(r){e(r.target)}s(n,"wrappedCallback")}s(Td,"onAbort");function Sd(t,e){return new Promise((n,r)=>{Td(t,()=>{e?r(t.reason):n(t.reason)})})}s(Sd,"waitForAbort");var bl=Ve(Bd(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function ui(t,e){let n=t.length,r=0;for(let i=0;i<n;i++){if(!Object.hasOwn(t,i))continue;let o=t[i];e(o,i,t)&&(t[r++]=o)}t.length=r}s(ui,"filterInPlace");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Wt=class{static{s(this,"AsyncEvents")}eventRefsMap=new Map;off(e,n){let r=this.eventRefsMap.get(e);r&&(ui(r,i=>i.callback!==n),r.length===0&&this.eventRefsMap.delete(e))}offref(e){let n=this.eventRefsMap.get(e.name);n&&(ui(n,r=>r!==e),n.length===0&&this.eventRefsMap.delete(e.name))}on(e,n,r){let i=this.eventRefsMap.get(e);i||(i=[],this.eventRefsMap.set(e,i));let o={asyncEvents:this,callback:n,name:e,thisArg:r};return i.push(o),o}once(e,n,r){let i=this.on(e,n,r),o=this.on(e,()=>{this.offref(i),this.offref(o)});return i}trigger(e,...n){let r=this.eventRefsMap.get(e)??[];for(let i of r.slice())this.tryTrigger(i,n)}async triggerAsync(e,...n){let r=this.eventRefsMap.get(e)??[];for(let i of r.slice())await this.tryTriggerAsync(i,n)}tryTrigger(e,n){try{e.callback.apply(e.thisArg,n)}catch(r){window.setTimeout(()=>{throw r},0)}}async tryTriggerAsync(e,n){try{await e.callback.call(e.thisArg,...n)}catch(r){window.setTimeout(()=>{throw r},0)}}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ml="asyncError",As=new Wt;As.on(ml,$A);var xs="An unhandled error occurred executing async operation",Ud="    at",Dt=class t extends Error{static{s(this,"CustomStackTraceError")}constructor(e,n,r){super(e,{cause:r}),this.name="CustomStackTraceError",Error.captureStackTrace?.(this,t);let i=r,o=new Set;for(;i instanceof t;){if(o.has(i))throw new Error("Circular cause detected");o.add(i),i=i.cause}let l=(this.stack??"").split(`
`),u=n.split(`
`);/^\w*Error(?:: |$)/.test(u[0]??"")&&u.splice(0,1),l.splice(1,l.length-1,...u),this.stack=l.join(`
`)}},wr=class t extends Error{static{s(this,"SilentError")}constructor(e){super(e),this.name="SilentError",Error.captureStackTrace?.(this,t)}};function ks(t){As.trigger(ml,t)}s(ks,"emitAsyncErrorEvent");function vs(t){if(!(t instanceof Error))return String(t);let e=t.stack??`${t.name}: ${t.message}`;if(t.cause!==void 0){let n=vs(t.cause).split(`
`);e+=`
${Vd("Caused by:")}`;for(let r of n)r.trim()&&(e+=r.startsWith(Ud)?`
${r}`:`
${Vd(r)}`)}return e}s(vs,"errorToString");function nt(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}s(nt,"getStackTrace");function zn(t,e){e??=globalThis.console,e.error(vs(t))}s(zn,"printError");function Wd(t){let e=As.on(ml,t);return()=>{As.offref(e)}}s(Wd,"registerAsyncErrorEventHandler");function un(t){throw t}s(un,"throwExpression");function Vd(t){return`${Ud} --- ${t} --- (0)`}s(Vd,"generateStackTraceLine");function $A(t){zn(t)}s($A,"handleAsyncError");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var gl="40.4.0",Cs="obsidian-dev-utils",Yd=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre::after {
  content: "";
  display: block;
  height: var(--bottom-gap, 0);
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACzCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;AChDF;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre::after%20%7B%5Cn%20%20%20%20%20%20content:%20%5C%22%5C%22;%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20height:%20var(--bottom-gap,%200);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var yl=class{static{s(this,"ValueWrapper")}constructor(e){this.value=e}};function BA(){try{return globalThis.require("obsidian/app")}catch{return globalThis.app??un(new Error("Obsidian app not found"))}}s(BA,"getApp");function cn(t,e,n){let i=t??VA()??globalThis;return i.obsidianDevUtilsState??={},i.obsidianDevUtilsState[e]??=new yl(n)}s(cn,"getObsidianDevUtilsState");function VA(){return typeof window>"u"?null:BA()}s(VA,"getAppOrNull");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var wl="__no-plugin-id-initialized__",zd=wl;function Es(){return zd}s(Es,"getPluginId");function Hd(t){t&&(zd=t)}s(Hd,"setPluginId");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var jd=",",Ts="-";function Gd(){return{disable:UA,enable:WA,get:Ss,set:ci}}s(Gd,"getDebugController");function br(t,e=0){let n=`${t}:${String(e)}`,r=cn(null,"debuggers",new Map).value,i=r.get(n);return i||(i=di()(t),i.log=(o,...l)=>{YA(t,e,o,...l)},r.set(n,i)),i}s(br,"getDebugger");function ht(t){let e=Es(),n=e===wl?"":`${e}:`;return br(`${n}${Cs}:${t}`)}s(ht,"getLibDebugger");function dn(t,e,n,...r){if(!Kd()){t(n,...r);return}t(n,...r,`

---
Context stack trace:
`,Jd(e))}s(dn,"printWithStackTrace");function qd(t){let e=di().enabled(t),n=e?"enabled":"disabled",r=e?"disable":"enable",i=Ss();ci(t),br(t)(`Debug messages for plugin ${t} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${r} them.`),ci(i)}s(qd,"showInitialDebugMessage");function UA(t){let e=new Set(Ss());for(let n of fi(t)){if(n.startsWith(Ts))continue;let r=Ts+n;e.has(n)&&e.delete(n),e.add(r)}ci(Array.from(e))}s(UA,"disableNamespaces");function WA(t){let e=new Set(Ss());for(let n of fi(t)){if(!n.startsWith(Ts)){let r=Ts+n;e.has(r)&&e.delete(r)}e.add(n)}ci(Array.from(e))}s(WA,"enableNamespaces");function Ss(){return fi(di().load()??"")}s(Ss,"getNamespaces");function di(){return typeof window>"u"?bl.default:cn(null,"debug",bl.default).value}s(di,"getSharedDebugLibInstance");function Kd(){return typeof window<"u"}s(Kd,"isInObsidian");function YA(t,e,n,...r){if(!di().enabled(t))return;if(!Kd()){console.debug(n,...r);return}let i=4,o=new Error().stack?.split(`
`)??[];o.splice(0,i+e),console.debug(n,...r,`

---
Logger stack trace:
`,Jd(o.join(`
`)))}s(YA,"logWithCaller");function Jd(t){return new Dt("Debug mode: intentional placeholder error. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md.",t,void 0)}s(Jd,"makeStackTraceError");function ci(t){di().enable(fi(t).join(jd))}s(ci,"setNamespaces");function fi(t){return typeof t=="string"?t.split(jd).filter(Boolean):t.flatMap(fi)}s(fi,"toArray");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Al(t,e){e??=nt(1);try{await t()}catch(n){let r=new Dt(xs,e,n);if(zA(r))return;ks(r)}}s(Al,"addErrorHandler");function rt(t,e){return e??=nt(1),(...n)=>{let r=nt(1);e=`${e??""}
    at --- convertAsyncToSync --- (0)
${r}`,ve(()=>t(...n),e)}}s(rt,"convertAsyncToSync");function ve(t,e){e??=nt(1),Al(t,e)}s(ve,"invokeAsyncSafely");function Xd(t,e=0,n,r){r??=Ue(),r.throwIfAborted(),n??=nt(1),ve(async()=>{await kl(e,r,!0),await t(r)},n)}s(Xd,"invokeAsyncSafelyAfterDelay");function zA(t){let e=t;for(;!(e instanceof wr);){if(!(e instanceof Error))return!1;e=e.cause}return ht("Async:handleSilentError")(t),!0}s(zA,"handleSilentError");var HA=new WeakSet;async function Zd(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}s(Zd,"requestAnimationFrameAsync");async function Fs(t,e,n){let r=ht("Async:retryWithTimeout");n??=nt(1);let o={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...e};o.abortSignal?.throwIfAborted(),await xl(o.timeoutInMilliseconds,async l=>{let u=Wn(o.abortSignal,l);u.throwIfAborted();let d=0;for(;!u.aborted;){d++;let f;try{f=await t(u)}catch(h){if(u.aborted||!o.shouldRetryOnError||HA.has(h))throw new Dt("retryWithTimeout failed",n,h);zn(h),f=!1}if(f){dn(r,n,`Retry completed successfully after ${String(d)} attempts`,{fn:t});return}dn(r,n,`Retry attempt ${String(d)} completed unsuccessfully. Trying again in ${String(o.retryDelayInMilliseconds)} milliseconds`,{fn:t}),await kl(o.retryDelayInMilliseconds,l)}},{retryFn:t},n)}s(Fs,"retryWithTimeout");async function xl(t,e,n,r){r??=nt(1);let i=performance.now(),o=new AbortController,l=new AbortController,u=null,d=!1,f=!1;if(await Promise.race([h(),m()]),d)return u;throw new Dt("Run with timeout failed",r,o.signal.reason);async function h(){try{u=await e(o.signal);let y=performance.now()-i,w=ht("Async:runWithTimeout");dn(w,r??"",`Execution time: ${String(y)} milliseconds`,{context:n,fn:e}),d=!0}catch(y){o.abort(y)}finally{f=!0,l.abort(new Error("Completed"))}}async function m(){for(;!f;){if(await kl(t,l.signal),f)return;let y=performance.now()-i;console.warn(`Timed out after ${String(y)} milliseconds`,{context:n,fn:e});let w=ht("Async:runWithTimeout:timeout");if(!w.enabled){o.abort(new Error(`Timed out after ${String(y)} milliseconds`));return}w(`The execution is not terminated because debugger ${w.namespace} is enabled. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md for more information.`)}}}s(xl,"runWithTimeout");async function kl(t,e,n){await Sd(Wn(e,Ed(t))),n&&e?.throwIfAborted()}s(kl,"sleep");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function jA(t){return await new Promise(e=>{let n=new FileReader;n.addEventListener("loadend",r),n.readAsDataURL(t);function r(){e(n.result)}s(r,"handleLoadEnd")})}s(jA,"blobToDataUrl");async function Qd(t,e){let n=await jA(t);return new Promise(r=>{let i=new Image;i.addEventListener("load",o),i.src=n;function o(){let l=document.createElement("canvas"),u=l.getContext("2d");if(!u)throw new Error("Could not get 2D context.");let d=i.width,f=i.height;l.width=d,l.height=f,u.fillStyle="#fff",u.fillRect(0,0,d,f),u.save();let h=.5;u.translate(d*h,f*h),u.drawImage(i,0,0,d,f,-d*h,-f*h,d,f),u.restore();let m=l.toDataURL("image/jpeg",e),y=GA(m);r(y)}s(o,"handleLoad")})}s(Qd,"blobToJpegArrayBuffer");function GA(t){let n=t.split(";base64,")[1];if(!n)throw new Error("Invalid data URL");let r=window.atob(n),i=r.length,o=new Uint8Array(i);for(let l=0;l<i;l++)o[l]=r.charCodeAt(l);return o.buffer}s(GA,"dataUrlToArrayBuffer");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Ps(t){return t.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(Ps,"escapeRegExp");function ef(t){try{return new RegExp(t),!0}catch{return!1}}s(ef,"isValidRegExp");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Hn(t,e,...n){return e??=Ue(),e.throwIfAborted(),qA(t)?await t(e,...n):t}s(Hn,"resolveValue");function qA(t){return typeof t=="function"}s(qA,"isFunction");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var KA={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"};var JA={};for(let[t,e]of Object.entries(KA))JA[e]=t;function tf(t,e,n,r){return r??=n,t.slice(0,n)+e+t.slice(r)}s(tf,"insertAt");function hi(t){return Ee(t,/\u00A0|\u202F/g," ").normalize("NFC")}s(hi,"normalize");function Ee(t,e,n){return typeof n>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof n=="string"?t.replaceAll(e,n):t.replaceAll(e,(r,...i)=>{let l=typeof i.at(-1)=="object",u=l?i.length-2:i.length-1,d={groups:l?i.at(-1):void 0,missingGroupIndices:[],offset:i.at(u-1),source:i.at(u),substring:r},f=i.slice(0,u-1).map((h,m)=>{if(typeof h=="string")return h;if(typeof h>"u")return d.missingGroupIndices.push(m),"";throw new Error(`Unexpected argument type: ${typeof h}`)});return n(d,...f)??d.substring}))}s(Ee,"replaceAll");async function nf(t,e,n,r){if(r??=Ue(),r.throwIfAborted(),typeof n=="string")return Ee(t,e,n);let i=[];Ee(t,e,(l,...u)=>(i.push(()=>Hn(n,r,l,...u)),""));let o=[];for(let l of i)r.throwIfAborted(),o.push(await l());return r.throwIfAborted(),Ee(t,e,l=>o.shift()??l.substring)}s(nf,"replaceAllAsync");function Ar(t,e,n){if(t.endsWith(e))return t.slice(0,-e.length);if(n)throw new Error(`String ${t} does not end with suffix ${e}`);return t}s(Ar,"trimEnd");function xr(t,e,n){if(t.startsWith(e))return t.slice(e.length);if(n)throw new Error(`String ${t} does not start with prefix ${e}`);return t}s(xr,"trimStart");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var rf=".",XA=[{constructor:ArrayBuffer,equalityComparer:QA},{constructor:Date,equalityComparer:ex},{constructor:RegExp,equalityComparer:nx},{constructor:Map,equalityComparer:tx},{constructor:Set,equalityComparer:rx}];function xt(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null)return!1;let n=t.constructor,r=e.constructor;if(n!==r)return!1;if(n!==Object){let d=ix(t,e);if(d!==void 0)return d}let i=kr(t),o=kr(e);if(i.length!==o.length)return!1;let l=t,u=e;for(let d of i)if(!o.includes(d)||!xt(l[d],u[d]))return!1;return!0}s(xt,"deepEqual");function sf(t){return typeof t!="object"||t===null?t:"default"in t?t.default:t}s(sf,"extractDefaultExportInterop");function kr(t){let e=[],n=t;for(;n;){let r=Object.getOwnPropertyDescriptors(n);for(let[i,o]of Object.entries(r)){if(i==="__proto__"||typeof o.value=="function")continue;let l=typeof o.get=="function",u=typeof o.set=="function";if(l||u){l&&u&&e.push(i);continue}o.enumerable&&o.writable&&e.push(i)}n=Object.getPrototypeOf(n)}return e.sort()}s(kr,"getAllKeys");function Tn(t,e){let n=t,r=e.split(rf);for(let i of r){if(n===void 0)return;n=n[i]}return n}s(Tn,"getNestedPropertyValue");function Cl(t){return t==null?t:Object.getPrototypeOf(t)}s(Cl,"getPrototypeOf");function of(t,e){for(let[n,r]of Object.entries(t))r===void 0&&!e?.includes(n)&&delete t[n];return t}s(of,"removeUndefinedProperties");function af(t,e,n){let r=new Error(`Property path ${e} not found`),i=t,o=e.split(rf);for(let u of o.slice(0,-1)){if(i===void 0)throw r;i=i[u]}let l=o.at(-1);if(i===void 0||l===void 0)throw r;i[l]=n}s(af,"setNestedPropertyValue");function vr(t,e={}){let n={functionHandlingMode:"exclude",maxDepth:-1,shouldCatchToJSONErrors:!1,shouldHandleCircularReferences:!1,shouldHandleErrors:!1,shouldHandleUndefined:!1,shouldSortKeys:!1,space:2,tokenSubstitutions:{circularReference:vl("CircularReference"),maxDepthLimitReached:vl("MaxDepthLimitReached"),toJSONFailed:vl("ToJSONFailed")}},r={...n,...e,tokenSubstitutions:{...n.tokenSubstitutions,...e.tokenSubstitutions}};r.maxDepth===-1&&(r.maxDepth=1/0);let i=[],l=Is(t,"",0,!0,r,i,new WeakSet),u=JSON.stringify(l,null,r.space)??"";return u=Ee(u,/"\[\[(?<Key>[A-Za-z]+)(?<Index>\d*)\]\]"/g,(d,f,h)=>ZA({functionTexts:i,index:h?parseInt(h,10):0,key:f,substitutions:r.tokenSubstitutions})),u}s(vr,"toJson");function ZA(t){switch(t.key){case"CircularReference":return t.substitutions.circularReference;case"Function":return t.functionTexts[t.index]??un(new Error(`Function with index ${String(t.index)} not found`));case"MaxDepthLimitReached":return t.substitutions.maxDepthLimitReached;case"MaxDepthLimitReachedArray":return`Array(${String(t.index)})`;case"ToJSONFailed":return t.substitutions.toJSONFailed;case"Undefined":return"undefined";default:break}}s(ZA,"applySubstitutions");function QA(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),r=new Uint8Array(e);return xt(n,r)}s(QA,"deepEqualArrayBuffer");function ex(t,e){return t.getTime()===e.getTime()}s(ex,"deepEqualDate");function tx(t,e){if(t.size!==e.size)return!1;for(let[n,r]of t.entries())if(!e.has(n)||!xt(r,e.get(n)))return!1;return!0}s(tx,"deepEqualMap");function nx(t,e){return t.source===e.source&&t.flags===e.flags}s(nx,"deepEqualRegExp");function rx(t,e){if(t.size!==e.size)return!1;for(let n of t){if(e.has(n))continue;let r=!1;for(let i of e)if(xt(n,i)){r=!0;break}if(!r)return!1}return!0}s(rx,"deepEqualSet");function ix(t,e){for(let{constructor:n,equalityComparer:r}of XA)if(t instanceof n&&e instanceof n)return r(t,e)}s(ix,"deepEqualTyped");function sx(t,e,n,r,i,o){return e>r.maxDepth?Cr("MaxDepthLimitReachedArray",t.length):t.map((l,u)=>Is(l,String(u),e+1,n,r,i,o))}s(sx,"handleArray");function ox(t,e,n){if(n.shouldHandleCircularReferences)return Cr("CircularReference");let r=t.constructor.name||"Object";throw new TypeError(`Converting circular structure to JSON
--> starting at object with constructor '${r}'
--- property '${e}' closes the circle`)}s(ox,"handleCircularReference");function ax(t,e,n){if(n.functionHandlingMode==="exclude")return;let r=e.length,i=n.functionHandlingMode==="full"?String(t):`function ${t.name||"anonymous"}() { /* ... */ }`;return e.push(i),Cr("Function",r)}s(ax,"handleFunction");function lx(t,e,n,r,i,o,l){if(l.has(t))return ox(t,e,i);if(l.add(t),r){let u=cx(t,e,n,i,o,l);if(u!==void 0)return u}return Array.isArray(t)?sx(t,n,r,i,o,l):n>i.maxDepth?Cr("MaxDepthLimitReached"):t instanceof Error&&i.shouldHandleErrors?vs(t):ux(t,n,r,i,o,l)}s(lx,"handleObject");function ux(t,e,n,r,i,o){let l=Object.entries(t);return r.shouldSortKeys&&l.sort(([u],[d])=>u.localeCompare(d)),Object.fromEntries(l.map(([u,d])=>[u,Is(d,u,e+1,n,r,i,o)]))}s(ux,"handlePlainObject");function vl(t){return`{ "[[${t}]]": null }`}s(vl,"makeObjectTokenSubstitution");function Cr(t,e){return`[[${t}${e?String(e):""}]]`}s(Cr,"makePlaceholder");function Is(t,e,n,r,i,o,l){return t===void 0?n===0||i.shouldHandleUndefined?Cr("Undefined"):void 0:typeof t=="function"?ax(t,o,i):typeof t!="object"||t===null?t:lx(t,e,n,r,i,o,l)}s(Is,"toPlainObject");function cx(t,e,n,r,i,o){let l=t.toJSON;if(typeof l=="function")try{let u=l.call(t,e);return Is(u,e,n,!1,r,i,o)}catch(u){if(r.shouldCatchToJSONErrors)return Cr("ToJSONFailed");throw u}}s(cx,"tryHandleToJSON");var dx=require("obsidian"),uf=require("obsidian"),cf=require("obsidian"),vF=require("obsidian"),CF=require("obsidian");var lf=class{static{s(this,"CustomArrayDictImpl")}data=new Map;add(t,e){let n=this.get(t);n||(n=[],this.data.set(t,n)),n.includes(e)||n.push(e)}remove(t,e){let n=this.get(t);n&&(n.remove(e),n.length===0&&this.clear(t))}get(t){return this.data.get(t)||null}keys(){return Array.from(this.data.keys())}clear(t){this.data.delete(t)}clearAll(){this.data.clear()}contains(t,e){return!!this.get(t)?.contains(e)}count(){let t=0;for(let e of this.keys())t+=this.get(e)?.length??0;return t}};var kt={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},pi={AllProperties:"all-properties",Audio:"audio",Backlink:kt.Backlink,Bases:kt.Bases,Bookmarks:kt.Bookmarks,Canvas:kt.Canvas,Empty:"empty",FileExplorer:kt.FileExplorer,FileProperties:"file-properties",Graph:kt.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:kt.OutgoingLink,Outline:kt.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function fx(){return uf.TFile}s(fx,"getTFileConstructor");function hx(){return cf.TFolder}s(hx,"getTFolderConstructor");function vt(t){return t.replace(/\/?[^\/]*$/,"")||"/"}s(vt,"parentFolderPath");function Os(t,e){let n=t.vault.getFolderByPath(e);return n||(n=new(hx())(t.vault,e),n.parent=Os(t,vt(e)),n.deleted=!0,n)}s(Os,"createTFolderInstance");function df(t,e){let n=t.vault.getFileByPath(e);return n||(n=new(fx())(t.vault,e),n.parent=Os(t,vt(e)),n.deleted=!0,n)}s(df,"createTFileInstance");function fn(t){return!!t.position}s(fn,"isReferenceCache");function pt(t){return!!t.key}s(pt,"isFrontmatterLinkCache");var El=Ve(pf(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var mx=/[a-zA-Z]:\/[^:]*$/,zt=El.default.posix,_F=zt.delimiter,RF=El.default.posix.sep,Ie=zt.basename,Ce=zt.dirname,Ge=zt.extname,MF=zt.format;var Te=zt.join,LF=zt.normalize,DF=zt.parse,Tr=zt.relative;function Nt(t,e){return e?`${t}.${e}`:t}s(Nt,"makeFileName");function mf(...t){let e=zt.resolve(...t);return e=gx(e),mx.exec(e)?.[0]??e}s(mf,"resolve");function gx(t){return Ee(t,"\\","/")}s(gx,"toPosixPath");var hn=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var yx="base",wx="canvas",yf="md";function Tl(t,e,n){if(Ct(e))return e.extension===n;if(typeof e=="string"){let r=Me(t,e);return r?r.extension===n:Ge(e).slice(1)===n}return!1}s(Tl,"checkExtension");function jn(t,e,n){if(e===null)return null;if(wf(e))return e;let r=gf(t,e,n);if(r)return r;let i=Af(e);return i===e?null:gf(t,i,n)}s(jn,"getAbstractFileOrNull");function We(t,e,n,r){let i=Me(t,e,r);if(!i)if(n)i=df(t,e);else throw new Error(`File not found: ${e}`);return i}s(We,"getFile");function Me(t,e,n){let r=jn(t,e,n);return Ct(r)?r:null}s(Me,"getFileOrNull");function mi(t,e,n,r){let i=Ht(t,e,r);if(!i)if(n)i=Os(t,e);else throw new Error(`Folder not found: ${e}`);return i}s(mi,"getFolder");function Ht(t,e,n){let r=jn(t,e,n);return Sl(r)?r:null}s(Ht,"getFolderOrNull");function Se(t,e){if(wf(e))return e.path;let n=jn(t,e);return n?n.path:Af(e)}s(Se,"getPath");function wf(t){return t instanceof hn.TAbstractFile}s(wf,"isAbstractFile");function bx(t,e){return Tl(t,e,yx)}s(bx,"isBaseFile");function pn(t,e){return Tl(t,e,wx)}s(pn,"isCanvasFile");function Ct(t){return t instanceof hn.TFile}s(Ct,"isFile");function Sl(t){return t instanceof hn.TFolder}s(Sl,"isFolder");function mn(t,e){return Tl(t,e,yf)}s(mn,"isMarkdownFile");function gi(t,e){return mn(t,e)||pn(t,e)||bx(t,e)}s(gi,"isNote");function bf(t,e){return mn(t,e)?Ar(e.path,`.${yf}`):e.path}s(bf,"trimMarkdownExtension");function gf(t,e,n){return n?t.vault.getAbstractFileByPathInsensitive(e):t.vault.getAbstractFileByPath(e)}s(gf,"getFileInternal");function Af(t){return(0,hn.normalizePath)(mf("/",t))}s(Af,"getResolvedPath");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var gn="__DUMMY__";async function Fl(t){let{app:e,attachmentPathOrFile:n,notePathOrFile:r,shouldSkipDuplicateCheck:i}=t,o=Se(e,n),l=Ge(o),u=Ie(o,l),d=Me(e,o),h=e.vault.getAvailablePathForAttachments.extended;return h?h({attachmentFileBaseName:u,attachmentFileContent:d?await e.vault.readBinary(d):void 0,attachmentFileExtension:l.slice(1),attachmentFileStat:d?.stat,notePathOrFile:r,shouldSkipDuplicateCheck:i,shouldSkipMissingAttachmentFolderCreation:!0}):await Pl({app:e,attachmentFileBaseName:u,attachmentFileExtension:l.slice(1),notePathOrFile:r,shouldSkipDuplicateCheck:i,shouldSkipMissingAttachmentFolderCreation:!0})}s(Fl,"getAttachmentFilePath");async function Sr(t,e){return vt(await Fl({app:t,attachmentPathOrFile:gn,notePathOrFile:e,shouldSkipDuplicateCheck:!0}))}s(Sr,"getAttachmentFolderPath");async function Pl(t){let{app:e,attachmentFileExtension:n,notePathOrFile:r,shouldSkipDuplicateCheck:i,shouldSkipMissingAttachmentFolderCreation:o}=t,l=e.vault.getConfig("attachmentFolderPath"),u=l==="."||l==="./",d=l.startsWith("./")?xr(l,"./"):null,f=Me(e,r);u?l=f?f.parent?.path??"":"":d&&(l=(f?f.parent?.getParentPrefix()??"":"")+d),l=hi(xf(l));let h=hi(xf(t.attachmentFileBaseName)),m=Ht(e,l,!0);!m&&d&&(m=o?mi(e,l,!0):await e.vault.createFolder(l));let y=m?.getParentPrefix()??"";return i?Nt(y+h,n):e.vault.getAvailablePath(y+h,n)}s(Pl,"getAvailablePathForAttachments");async function Il(t,e){let n=await Sr(t,e),r=await Sr(t,Te(Ce(e),"DUMMY_FILE.md"));return n!==r}s(Il,"hasOwnAttachmentFolder");function xf(t){return t=Ee(t,/(?:[\\/])+/g,"/"),t=Ee(t,/^\/+|\/+$/g,""),t||"/"}s(xf,"normalizeSlashes");var J=s(t=>typeof t=="string","isString"),yi=s(()=>{let t,e,n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},"defer"),kf=s(t=>t==null?"":""+t,"makeString"),Ax=s((t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},"copy"),xx=/###/g,vf=s(t=>t&&t.indexOf("###")>-1?t.replace(xx,"."):t,"cleanKey"),Cf=s(t=>!t||J(t),"canNotTraverseDeeper"),wi=s((t,e,n)=>{let r=J(e)?e.split("."):e,i=0;for(;i<r.length-1;){if(Cf(t))return{};let o=vf(r[i]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++i}return Cf(t)?{}:{obj:t,k:vf(r[i])}},"getLastOfPath"),Ef=s((t,e,n)=>{let{obj:r,k:i}=wi(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let o=e[e.length-1],l=e.slice(0,e.length-1),u=wi(t,l,Object);for(;u.obj===void 0&&l.length;)o=`${l[l.length-1]}.${o}`,l=l.slice(0,l.length-1),u=wi(t,l,Object),u?.obj&&typeof u.obj[`${u.k}.${o}`]<"u"&&(u.obj=void 0);u.obj[`${u.k}.${o}`]=n},"setPath"),kx=s((t,e,n,r)=>{let{obj:i,k:o}=wi(t,e,Object);i[o]=i[o]||[],i[o].push(n)},"pushPath"),Rs=s((t,e)=>{let{obj:n,k:r}=wi(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},"getPath"),vx=s((t,e,n)=>{let r=Rs(t,n);return r!==void 0?r:Rs(e,n)},"getPathWithDefaults"),Mf=s((t,e,n)=>{for(let r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?J(t[r])||t[r]instanceof String||J(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):Mf(t[r],e[r],n):t[r]=e[r]);return t},"deepExtend"),Fr=s(t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"regexEscape"),Cx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},Ex=s(t=>J(t)?t.replace(/[&<>"'\/]/g,e=>Cx[e]):t,"escape"),_l=class{static{s(this,"RegExpCache")}constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let n=this.regExpMap.get(e);if(n!==void 0)return n;let r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}},Tx=[" ",",","?","!",";"],Sx=new _l(20),Fx=s((t,e,n)=>{e=e||"",n=n||"";let r=Tx.filter(l=>e.indexOf(l)<0&&n.indexOf(l)<0);if(r.length===0)return!0;let i=Sx.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`),o=!i.test(t);if(!o){let l=t.indexOf(n);l>0&&!i.test(t.substring(0,l))&&(o=!0)}return o},"looksLikeObjectPath"),Rl=s((t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;let r=e.split(n),i=t;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let l,u="";for(let d=o;d<r.length;++d)if(d!==o&&(u+=n),u+=r[d],l=i[u],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<r.length-1)continue;o+=d-o+1;break}i=l}return i},"deepFind"),bi=s(t=>t?.replace("_","-"),"getCleanedCode"),Px={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}},Ml=class t{static{s(this,"Logger")}constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||Px,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(J(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new t(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t(this.logger,e)}},jt=new Ml,Pr=class{static{s(this,"EventEmitter")}constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);let i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,o])=>{for(let l=0;l<o;l++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,o])=>{for(let l=0;l<o;l++)i.apply(i,[e,...n])})}},Ms=class extends Pr{static{s(this,"ResourceStore")}constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){let o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure,u;e.indexOf(".")>-1?u=e.split("."):(u=[e,n],r&&(Array.isArray(r)?u.push(...r):J(r)&&o?u.push(...r.split(o)):u.push(r)));let d=Rs(this.data,u);return!d&&!n&&!r&&e.indexOf(".")>-1&&(e=u[0],n=u[1],r=u.slice(2).join(".")),d||!l||!J(r)?d:Rl(this.data?.[e]?.[n],r,o)}addResource(e,n,r,i,o={silent:!1}){let l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,u=[e,n];r&&(u=u.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(u=e.split("."),i=n,n=u[1]),this.addNamespaces(n),Ef(this.data,u,i),o.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(let o in r)(J(r[o])||Array.isArray(r[o]))&&this.addResource(e,n,o,r[o],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,o,l={silent:!1,skipCopy:!1}){let u=[e,n];e.indexOf(".")>-1&&(u=e.split("."),i=r,r=n,n=u[1]),this.addNamespaces(n);let d=Rs(this.data,u)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?Mf(d,r,o):d={...d,...r},Ef(this.data,u,d),l.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}},Lf={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(o=>{e=this.processors[o]?.process(e,n,r,i)??e}),e}},Df=Symbol("i18next/PATH_KEY");function Ix(){let t=[],e=Object.create(null),n;return e.get=(r,i)=>(n?.revoke?.(),i===Df?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}s(Ix,"createProxy");function Ll(t,e){let{[Df]:n}=t(Ix());return n.join(e?.keySeparator??".")}s(Ll,"keysFromSelector");var Tf={},Sf=s(t=>!J(t)&&typeof t!="boolean"&&typeof t!="number","shouldHandleAsObject"),Ls=class t extends Pr{static{s(this,"Translator")}constructor(e,n={}){super(),Ax(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=jt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){let r={...n};return e==null?!1:this.resolve(e,r)?.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");let i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,o=n.ns||this.options.defaultNS||[],l=r&&e.indexOf(r)>-1,u=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Fx(e,r,i);if(l&&!u){let d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:J(o)?[o]:o};let f=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(f[0])>-1)&&(o=f.shift()),e=f.join(i)}return{key:e,namespaces:J(o)?[o]:o}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=Ll(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);let o=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:u,namespaces:d}=this.extractFromKey(e[e.length-1],i),f=d[d.length-1],h=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");let m=i.lng||this.language,y=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m?.toLowerCase()==="cimode")return y?o?{res:`${f}${h}${u}`,usedKey:u,exactUsedKey:u,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:`${f}${h}${u}`:o?{res:u,usedKey:u,exactUsedKey:u,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:u;let w=this.resolve(e,i),v=w?.res,T=w?.usedKey||u,S=w?.exactUsedKey||u,E=["[object Number]","[object Function]","[object RegExp]"],P=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,D=i.count!==void 0&&!J(i.count),z=t.hasDefaultValue(i),F=D?this.pluralResolver.getSuffix(m,i.count,i):"",Z=i.ordinal&&D?this.pluralResolver.getSuffix(m,i.count,{ordinal:!1}):"",re=D&&!i.ordinal&&i.count===0,q=re&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${F}`]||i[`defaultValue${Z}`]||i.defaultValue,ne=v;_&&!v&&z&&(ne=q);let me=Sf(ne),ae=Object.prototype.toString.apply(ne);if(_&&ne&&me&&E.indexOf(ae)<0&&!(J(P)&&Array.isArray(ne))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(T,ne,{...i,ns:d}):`key '${u} (${this.language})' returned an object instead of string.`;return o?(w.res=L,w.usedParams=this.getUsedParamsDetails(i),w):L}if(l){let L=Array.isArray(ne),j=L?[]:{},G=L?S:T;for(let Q in ne)if(Object.prototype.hasOwnProperty.call(ne,Q)){let ce=`${G}${l}${Q}`;z&&!v?j[Q]=this.translate(ce,{...i,defaultValue:Sf(q)?q[Q]:void 0,joinArrays:!1,ns:d}):j[Q]=this.translate(ce,{...i,joinArrays:!1,ns:d}),j[Q]===ce&&(j[Q]=ne[Q])}v=j}}else if(_&&J(P)&&Array.isArray(v))v=v.join(P),v&&(v=this.extendTranslation(v,e,i,r));else{let L=!1,j=!1;!this.isValidLookup(v)&&z&&(L=!0,v=q),this.isValidLookup(v)||(j=!0,v=u);let Q=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&j?void 0:v,ce=z&&q!==v&&this.options.updateMissing;if(j||L||ce){if(this.logger.log(ce?"updateKey":"missingKey",m,f,u,ce?q:v),l){let fe=this.resolve(u,{...i,keySeparator:!1});fe&&fe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ge=[],Oe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Oe&&Oe[0])for(let fe=0;fe<Oe.length;fe++)ge.push(Oe[fe]);else this.options.saveMissingTo==="all"?ge=this.languageUtils.toResolveHierarchy(i.lng||this.language):ge.push(i.lng||this.language);let k=s((fe,xe,A)=>{let Le=z&&A!==v?A:Q;this.options.missingKeyHandler?this.options.missingKeyHandler(fe,f,xe,Le,ce,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(fe,f,xe,Le,ce,i),this.emit("missingKey",fe,f,xe,v)},"send");this.options.saveMissing&&(this.options.saveMissingPlurals&&D?ge.forEach(fe=>{let xe=this.pluralResolver.getSuffixes(fe,i);re&&i[`defaultValue${this.options.pluralSeparator}zero`]&&xe.indexOf(`${this.options.pluralSeparator}zero`)<0&&xe.push(`${this.options.pluralSeparator}zero`),xe.forEach(A=>{k([fe],u+A,i[`defaultValue${A}`]||q)})}):k(ge,u,q))}v=this.extendTranslation(v,e,i,w,r),j&&v===u&&this.options.appendNamespaceToMissingKey&&(v=`${f}${h}${u}`),(j||L)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${h}${u}`:u,L?v:void 0,i))}return o?(w.res=v,w.usedParams=this.getUsedParamsDetails(i),w):v}extendTranslation(e,n,r,i,o){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});let d=J(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),f;if(d){let m=e.match(this.interpolator.nestingRegexp);f=m&&m.length}let h=r.replace&&!J(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),d){let m=e.match(this.interpolator.nestingRegexp),y=m&&m.length;f<y&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...m)=>o?.[0]===m[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):this.translate(...m,n),r)),r.interpolation&&this.interpolator.reset()}let l=r.postProcess||this.options.postProcess,u=J(l)?[l]:l;return e!=null&&u?.length&&r.applyPostProcessor!==!1&&(e=Lf.handle(u,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,o,l,u;return J(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(r))return;let f=this.extractFromKey(d,n),h=f.key;i=h;let m=f.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));let y=n.count!==void 0&&!J(n.count),w=y&&!n.ordinal&&n.count===0,v=n.context!==void 0&&(J(n.context)||typeof n.context=="number")&&n.context!=="",T=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);m.forEach(S=>{this.isValidLookup(r)||(u=S,!Tf[`${T[0]}-${S}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(u)&&(Tf[`${T[0]}-${S}`]=!0,this.logger.warn(`key "${i}" for languages "${T.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),T.forEach(E=>{if(this.isValidLookup(r))return;l=E;let P=[h];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(P,h,E,S,n);else{let D;y&&(D=this.pluralResolver.getSuffix(E,n.count,n));let z=`${this.options.pluralSeparator}zero`,F=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(n.ordinal&&D.indexOf(F)===0&&P.push(h+D.replace(F,this.options.pluralSeparator)),P.push(h+D),w&&P.push(h+z)),v){let Z=`${h}${this.options.contextSeparator||"_"}${n.context}`;P.push(Z),y&&(n.ordinal&&D.indexOf(F)===0&&P.push(Z+D.replace(F,this.options.pluralSeparator)),P.push(Z+D),w&&P.push(Z+z))}}let _;for(;_=P.pop();)this.isValidLookup(r)||(o=_,r=this.getResource(E,S,_,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:l,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){let n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!J(e.replace),i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(let o of n)delete i[o]}return i}static hasDefaultValue(e){let n="defaultValue";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}},Ds=class{static{s(this,"LanguageUtil")}constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=jt.create("languageUtils")}getScriptPartFromCode(e){if(e=bi(e),!e||e.indexOf("-")<0)return null;let n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=bi(e),!e||e.indexOf("-")<0)return e;let n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(J(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;let i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;let i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;let o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(l=>{if(l===o)return l;if(!(l.indexOf("-")<0&&o.indexOf("-")<0)&&(l.indexOf("-")>0&&o.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===o||l.indexOf(o)===0&&o.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),J(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){let r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],o=s(l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))},"addCode");return J(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):J(e)&&o(this.formatLanguageCode(e)),r.forEach(l=>{i.indexOf(l)<0&&o(this.formatLanguageCode(l))}),i}},Ff={zero:0,one:1,two:2,few:3,many:4,other:5},Pf={select:s(t=>t===1?"one":"other","select"),resolvedOptions:s(()=>({pluralCategories:["one","other"]}),"resolvedOptions")},Dl=class{static{s(this,"PluralResolver")}constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=jt.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){let r=bi(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let l;try{l=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Pf;if(!e.match(/-|_/))return Pf;let d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,n)}return this.pluralRulesCache[o]=l,l}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,o)=>Ff[i]-Ff[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){let i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}},If=s((t,e,n,r=".",i=!0)=>{let o=vx(t,e,n);return!o&&i&&J(n)&&(o=Rl(t,n,r),o===void 0&&(o=Rl(e,n,r))),o},"deepFindWithDefaults"),Ol=s(t=>t.replace(/\$/g,"$$$$"),"regexSafe"),Nl=class{static{s(this,"Interpolator")}constructor(e={}){this.logger=jt.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});let{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:l,suffix:u,suffixEscaped:d,formatSeparator:f,unescapeSuffix:h,unescapePrefix:m,nestingPrefix:y,nestingPrefixEscaped:w,nestingSuffix:v,nestingSuffixEscaped:T,nestingOptionsSeparator:S,maxReplaces:E,alwaysFormat:P}=e.interpolation;this.escape=n!==void 0?n:Ex,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Fr(o):l||"{{",this.suffix=u?Fr(u):d||"}}",this.formatSeparator=f||",",this.unescapePrefix=h?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=y?Fr(y):w||Fr("$t("),this.nestingSuffix=v?Fr(v):T||Fr(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=E||1e3,this.alwaysFormat=P!==void 0?P:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=s((n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g"),"getOrResetRegExp");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let o,l,u,d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=s(w=>{if(w.indexOf(this.formatSeparator)<0){let E=If(n,d,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(E,void 0,r,{...i,...n,interpolationkey:w}):E}let v=w.split(this.formatSeparator),T=v.shift().trim(),S=v.join(this.formatSeparator).trim();return this.format(If(n,d,T,this.options.keySeparator,this.options.ignoreJSONStructure),S,r,{...i,...n,interpolationkey:T})},"handleFormat");this.resetRegExp();let h=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,m=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:s(w=>Ol(w),"safeValue")},{regex:this.regexp,safeValue:s(w=>this.escapeValue?Ol(this.escape(w)):Ol(w),"safeValue")}].forEach(w=>{for(u=0;o=w.regex.exec(e);){let v=o[1].trim();if(l=f(v),l===void 0)if(typeof h=="function"){let S=h(e,o,i);l=J(S)?S:""}else if(i&&Object.prototype.hasOwnProperty.call(i,v))l="";else if(m){l=o[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),l="";else!J(l)&&!this.useRawValueToEscape&&(l=kf(l));let T=w.safeValue(l);if(e=e.replace(o[0],T),m?(w.regex.lastIndex+=l.length,w.regex.lastIndex-=o[0].length):w.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,o,l,u=s((d,f)=>{let h=this.nestingOptionsSeparator;if(d.indexOf(h)<0)return d;let m=d.split(new RegExp(`${h}[ ]*{`)),y=`{${m[1]}`;d=m[0],y=this.interpolate(y,l);let w=y.match(/'/g),v=y.match(/"/g);((w?.length??0)%2===0&&!v||v.length%2!==0)&&(y=y.replace(/'/g,'"'));try{l=JSON.parse(y),f&&(l={...f,...l})}catch(T){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,T),`${d}${h}${y}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d},"handleHasOptions");for(;i=this.nestingRegexp.exec(e);){let d=[];l={...r},l=l.replace&&!J(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let f=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(f!==-1&&(d=i[1].slice(f).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),i[1]=i[1].slice(0,f)),o=n(u.call(this,i[1].trim(),l),l),o&&i[0]===e&&!J(o))return o;J(o)||(o=kf(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),d.length&&(o=d.reduce((h,m)=>this.format(h,m,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}},Ox=s(t=>{let e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){let r=t.split("(");e=r[0].toLowerCase().trim();let i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(l=>{if(l){let[u,...d]=l.split(":"),f=d.join(":").trim().replace(/^'+|'+$/g,""),h=u.trim();n[h]||(n[h]=f),f==="false"&&(n[h]=!1),f==="true"&&(n[h]=!0),isNaN(f)||(n[h]=parseInt(f,10))}})}return{formatName:e,formatOptions:n}},"parseFormatStr"),Of=s(t=>{let e={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});let l=r+JSON.stringify(o),u=e[l];return u||(u=t(bi(r),i),e[l]=u),u(n)}},"createCachedFormatter"),_x=s(t=>(e,n,r)=>t(bi(n),r)(e),"createNonCachedFormatter"),$l=class{static{s(this,"Formatter")}constructor(e={}){this.logger=jt.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";let r=n.cacheInBuiltFormats?Of:_x;this.formats={number:r((i,o)=>{let l=new Intl.NumberFormat(i,{...o});return u=>l.format(u)}),currency:r((i,o)=>{let l=new Intl.NumberFormat(i,{...o,style:"currency"});return u=>l.format(u)}),datetime:r((i,o)=>{let l=new Intl.DateTimeFormat(i,{...o});return u=>l.format(u)}),relativetime:r((i,o)=>{let l=new Intl.RelativeTimeFormat(i,{...o});return u=>l.format(u,o.range||"day")}),list:r((i,o)=>{let l=new Intl.ListFormat(i,{...o});return u=>l.format(u)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Of(n)}format(e,n,r,i={}){let o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(u=>u.indexOf(")")>-1)){let u=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,u)].join(this.formatSeparator)}return o.reduce((u,d)=>{let{formatName:f,formatOptions:h}=Ox(d);if(this.formats[f]){let m=u;try{let y=i?.formatParams?.[i.interpolationkey]||{},w=y.locale||y.lng||i.locale||i.lng||r;m=this.formats[f](u,w,{...h,...i,...y})}catch(y){this.logger.warn(y)}return m}else this.logger.warn(`there was no format function for ${f}`);return u},e)}},Rx=s((t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)},"removePending"),Bl=class extends Pr{static{s(this,"Connector")}constructor(e,n,r,i={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=jt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,i.backend,i)}queueLoad(e,n,r,i){let o={},l={},u={},d={};return e.forEach(f=>{let h=!0;n.forEach(m=>{let y=`${f}|${m}`;!r.reload&&this.store.hasResourceBundle(f,m)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?l[y]===void 0&&(l[y]=!0):(this.state[y]=1,h=!1,l[y]===void 0&&(l[y]=!0),o[y]===void 0&&(o[y]=!0),d[m]===void 0&&(d[m]=!0)))}),h||(u[f]=!0)}),(Object.keys(o).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(l),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(d)}}loaded(e,n,r){let i=e.split("|"),o=i[0],l=i[1];n&&this.emit("failedLoading",o,l,n),!n&&r&&this.store.addResourceBundle(o,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);let u={};this.queue.forEach(d=>{kx(d.loaded,[o],l),Rx(d,e),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(f=>{u[f]||(u[f]={});let h=d.loaded[f];h.length&&h.forEach(m=>{u[f][m]===void 0&&(u[f][m]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(d=>!d.done)}read(e,n,r,i=0,o=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:o,callback:l});return}this.readingCalls++;let u=s((f,h)=>{if(this.readingCalls--,this.waitingReads.length>0){let m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(f&&h&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,o*2,l)},o);return}l(f,h)},"resolver"),d=this.backend[r].bind(this.backend);if(d.length===2){try{let f=d(e,n);f&&typeof f.then=="function"?f.then(h=>u(null,h)).catch(u):u(null,f)}catch(f){u(f)}return}return d(e,n,u)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();J(e)&&(e=this.languageUtils.toResolveHierarchy(e)),J(n)&&(n=[n]);let o=this.queueLoad(e,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(l=>{this.loadOne(l)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){let r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(l,u)=>{l&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,l),!l&&u&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,u),this.loaded(e,l,u)})}saveMissing(e,n,r,i,o,l={},u=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){let d={...l,isUpdate:o},f=this.backend.create.bind(this.backend);if(f.length<6)try{let h;f.length===5?h=f(e,n,r,i,d):h=f(e,n,r,i),h&&typeof h.then=="function"?h.then(m=>u(null,m)).catch(u):u(null,h)}catch(h){u(h)}else f(e,n,r,i,u,d)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}},_f=s(()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s(t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),J(t[1])&&(e.defaultValue=t[1]),J(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){let n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},"overloadTranslationOptionHandler"),interpolation:{escapeValue:!0,format:s(t=>t,"format"),prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),"get"),Rf=s(t=>(J(t.ns)&&(t.ns=[t.ns]),J(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),J(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),"transformOptions"),_s=s(()=>{},"noop"),Mx=s(t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})},"bindMemberFunctions"),Ns=class t extends Pr{static{s(this,"I18n")}constructor(e={},n){if(super(),this.options=Rf(e),this.services={},this.logger=jt,this.modules={external:[]},Mx(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(J(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));let r=_f();this.options={...r,...this.options,...Rf(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);let i=s(f=>f?typeof f=="function"?new f:f:null,"createClassOnDemand");if(!this.options.isClone){this.modules.logger?jt.init(i(this.modules.logger),this.options):jt.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=$l;let h=new Ds(this.options);this.store=new Ms(this.options.resources,this.options);let m=this.services;m.logger=jt,m.resourceStore=this.store,m.languageUtils=h,m.pluralResolver=new Dl(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),f&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(m.formatter=i(f),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new Nl(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new Bl(i(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(w,...v)=>{this.emit(w,...v)}),this.modules.languageDetector&&(m.languageDetector=i(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=i(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new Ls(this.services,this.options),this.translator.on("*",(w,...v)=>{this.emit(w,...v)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,n||(n=_s),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...h)=>this.store[f](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...h)=>(this.store[f](...h),this)});let u=yi(),d=s(()=>{let f=s((h,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(m),n(h,m)},"finish");if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)},"load");return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),u}loadResources(e,n=_s){let r=n,i=J(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();let o=[],l=s(u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&o.indexOf(f)<0&&o.push(f)})},"append");i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload?.forEach?.(u=>l(u)),this.services.backendConnector.load(o,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(e,n,r){let i=yi();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=_s),this.services.backendConnector.reload(e,n,o=>{i.resolve(),r(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Lf.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){let r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;let r=yi();this.emit("languageChanging",e);let i=s(u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},"setLngProps"),o=s((u,d)=>{d?this.isLanguageChangingTo===e&&(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve((...f)=>this.t(...f)),n&&n(u,(...f)=>this.t(...f))},"done"),l=s(u=>{!e&&!u&&this.services.languageDetector&&(u=[]);let d=J(u)?u:u&&u[0],f=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(J(u)?[u]:u);f&&(this.language||i(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector?.cacheUserLanguage?.(f)),this.loadResources(f,h=>{o(h,f)})},"setLng");return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,n,r){let i=s((o,l,...u)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([o,l].concat(u)):d={...l},d.lng=d.lng||i.lng,d.lngs=d.lngs||i.lngs,d.ns=d.ns||i.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||i.keyPrefix);let f=this.options.keySeparator||".",h;return d.keyPrefix&&Array.isArray(o)?h=o.map(m=>(typeof m=="function"&&(m=Ll(m,{...this.options,...l})),`${d.keyPrefix}${f}${m}`)):(typeof o=="function"&&(o=Ll(o,{...this.options,...l})),h=d.keyPrefix?`${d.keyPrefix}${f}${o}`:o),this.t(h,d)},"fixedT");return J(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;let l=s((u,d)=>{let f=this.services.backendConnector.state[`${u}|${d}`];return f===-1||f===0||f===2},"loadNotPending");if(n.precheck){let u=n.precheck(this,l);if(u!==void 0)return u}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!i||l(o,e)))}loadNamespaces(e,n){let r=yi();return this.options.ns?(J(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){let r=yi();J(e)&&(e=[e]);let i=this.options.preload||[],o=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return o.length?(this.options.preload=i.concat(o),this.loadResources(l=>{r.resolve(),n&&n(l)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{let i=new Intl.Locale(e);if(i&&i.getTextInfo){let o=i.getTextInfo();if(o&&o.direction)return o.direction}}catch{}let n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new Ds(_f());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new t(e,n)}cloneInstance(e={},n=_s){let r=e.forkResourceStore;r&&delete e.forkResourceStore;let i={...this.options,...e,isClone:!0},o=new t(i);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(u=>{o[u]=this[u]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){let u=Object.keys(this.store.data).reduce((d,f)=>(d[f]={...this.store.data[f]},d[f]=Object.keys(d[f]).reduce((h,m)=>(h[m]={...d[f][m]},h),d[f]),d),{});o.store=new Ms(u,i),o.services.resourceStore=o.store}return o.translator=new Ls(o.services,i),o.translator.on("*",(u,...d)=>{o.emit(u,...d)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},Ye=Ns.createInstance();Ye.createInstance=Ns.createInstance;var JF=Ye.createInstance,XF=Ye.dir,Nf=Ye.init,ZF=Ye.loadResources,QF=Ye.reloadResources,eP=Ye.use,tP=Ye.changeLanguage,nP=Ye.getFixedT,$s=Ye.t,rP=Ye.exists,iP=Ye.setDefaultNamespace,sP=Ye.hasLoadedNamespace,oP=Ye.loadNamespaces,aP=Ye.loadLanguages;var Vf=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Bs={obsidianDevUtils:{buttons:{cancel:"Cancel",ok:"OK"},dataview:{itemsPerPage:"Items per page:",jumpToPage:"Jump to page:"},notices:{attachmentIsStillUsed:"Attachment {{attachmentPath}} is still used by other notes. It will not be deleted.",unhandledError:"An unhandled error occurred. Please check the console for more information."}}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Vl="en",Lx={en:Bs},$f=Lx;s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Bf="translation",Ul=!1;async function Uf(t){Ul||(await Nf({fallbackLng:Vl,lng:(0,Vf.getLanguage)(),resources:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,{[Bf]:n}])),returnEmptyString:!1,returnNull:!1}),Ye.addResourceBundle(Vl,Bf,Bs,!0,!1),Ul=!0)}s(Uf,"initI18N");function Dx(t,e){if(!Ul)throw new Error("I18N is not initialized");return $s(t,e)}s(Dx,"tImpl");var C=Dx;var bo=require("obsidian");var Nx={};function Gn(t,e){let n=e||Nx,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Yf(t,r,i)}s(Gn,"toString");function Yf(t,e,n){if($x(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Wf(t.children,e,n)}return Array.isArray(t)?Wf(t,e,n):""}s(Yf,"one");function Wf(t,e,n){let r=[],i=-1;for(;++i<t.length;)r[i]=Yf(t[i],e,n);return r.join("")}s(Wf,"all");function $x(t){return!!(t&&typeof t=="object")}s($x,"node");var zf=document.createElement("i");function Ir(t){let e="&"+t+";";zf.innerHTML=e;let n=zf.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}s(Ir,"decodeNamedCharacterReference");function ze(t,e,n,r){let i=t.length,o=0,l;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(e,0),t.splice(...l),o+=1e4,e+=1e4}s(ze,"splice");function it(t,e){return t.length>0?(ze(t,t.length,0,e),t):e}s(it,"push");var Hf={}.hasOwnProperty;function jf(t){let e={},n=-1;for(;++n<t.length;)Bx(e,t[n]);return e}s(jf,"combineExtensions");function Bx(t,e){let n;for(n in e){let i=(Hf.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n],l;if(o)for(l in o){Hf.call(i,l)||(i[l]=[]);let u=o[l];Vx(i[l],Array.isArray(u)?u:u?[u]:[])}}}s(Bx,"syntaxExtension");function Vx(t,e){let n=-1,r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ze(t,0,0,r)}s(Vx,"constructs");function Vs(t,e){let n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}s(Vs,"decodeNumericCharacterReference");function yn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}s(yn,"normalizeIdentifier");var mt=Sn(/[A-Za-z]/),st=Sn(/[\dA-Za-z]/),Gf=Sn(/[#-'*+\--9=?A-Z^-~]/);function Ai(t){return t!==null&&(t<32||t===127)}s(Ai,"asciiControl");var xi=Sn(/\d/),qf=Sn(/[\dA-Fa-f]/),Kf=Sn(/[!-/:-@[-`{-~]/);function Y(t){return t!==null&&t<-2}s(Y,"markdownLineEnding");function Pe(t){return t!==null&&(t<0||t===32)}s(Pe,"markdownLineEndingOrSpace");function X(t){return t===-2||t===-1||t===32}s(X,"markdownSpace");var Jf=Sn(/\p{P}|\p{S}/u),Xf=Sn(/\s/);function Sn(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}s(Sn,"regexCheck");function ee(t,e,n,r){let i=r?r-1:Number.POSITIVE_INFINITY,o=0;return l;function l(d){return X(d)?(t.enter(n),u(d)):e(d)}function u(d){return X(d)&&o++<i?(t.consume(d),u):(t.exit(n),e(d))}}s(ee,"factorySpace");var Zf={tokenize:Ux};function Ux(t){let e=t.attempt(this.parser.constructs.contentInitial,r,i),n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),ee(t,e,"linePrefix")}function i(u){return t.enter("paragraph"),o(u)}function o(u){let d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(u)}function l(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return Y(u)?(t.consume(u),t.exit("chunkText"),o):(t.consume(u),l)}}s(Ux,"initializeContent");var eh={tokenize:Wx},Qf={tokenize:Yx};function Wx(t){let e=this,n=[],r=0,i,o,l;return u;function u(_){if(r<n.length){let D=n[r];return e.containerState=D[1],t.attempt(D[0].continuation,d,f)(_)}return f(_)}function d(_){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&P();let D=e.events.length,z=D,F;for(;z--;)if(e.events[z][0]==="exit"&&e.events[z][1].type==="chunkFlow"){F=e.events[z][1].end;break}E(r);let Z=D;for(;Z<e.events.length;)e.events[Z][1].end={...F},Z++;return ze(e.events,z+1,0,e.events.slice(D)),e.events.length=Z,f(_)}return u(_)}function f(_){if(r===n.length){if(!i)return y(_);if(i.currentConstruct&&i.currentConstruct.concrete)return v(_);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Qf,h,m)(_)}function h(_){return i&&P(),E(r),y(_)}function m(_){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,v(_)}function y(_){return e.containerState={},t.attempt(Qf,w,v)(_)}function w(_){return r++,n.push([e.currentConstruct,e.containerState]),y(_)}function v(_){if(_===null){i&&P(),E(0),t.consume(_);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),T(_)}function T(_){if(_===null){S(t.exit("chunkFlow"),!0),E(0),t.consume(_);return}return Y(_)?(t.consume(_),S(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(_),T)}function S(_,D){let z=e.sliceStream(_);if(D&&z.push(null),_.previous=o,o&&(o.next=_),o=_,i.defineSkip(_.start),i.write(z),e.parser.lazy[_.start.line]){let F=i.events.length;for(;F--;)if(i.events[F][1].start.offset<l&&(!i.events[F][1].end||i.events[F][1].end.offset>l))return;let Z=e.events.length,re=Z,q,ne;for(;re--;)if(e.events[re][0]==="exit"&&e.events[re][1].type==="chunkFlow"){if(q){ne=e.events[re][1].end;break}q=!0}for(E(r),F=Z;F<e.events.length;)e.events[F][1].end={...ne},F++;ze(e.events,re+1,0,e.events.slice(Z)),e.events.length=F}}function E(_){let D=n.length;for(;D-- >_;){let z=n[D];e.containerState=z[1],z[0].exit.call(e,t)}n.length=_}function P(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}s(Wx,"initializeDocument");function Yx(t,e,n){return ee(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}s(Yx,"tokenizeContainer");function Or(t){if(t===null||Pe(t)||Xf(t))return 1;if(Jf(t))return 2}s(Or,"classifyCharacter");function _r(t,e,n){let r=[],i=-1;for(;++i<t.length;){let o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}s(_r,"resolveAll");var ki={name:"attention",resolveAll:zx,tokenize:Hx};function zx(t,e){let n=-1,r,i,o,l,u,d,f,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;let m={...t[r][1].end},y={...t[n][1].start};th(m,-d),th(y,d),l={type:d>1?"strongSequence":"emphasisSequence",start:m,end:{...t[r][1].end}},u={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:y},o={type:d>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:d>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},t[r][1].end={...l.start},t[n][1].start={...u.end},f=[],t[r][1].end.offset-t[r][1].start.offset&&(f=it(f,[["enter",t[r][1],e],["exit",t[r][1],e]])),f=it(f,[["enter",i,e],["enter",l,e],["exit",l,e],["enter",o,e]]),f=it(f,_r(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),f=it(f,[["exit",o,e],["enter",u,e],["exit",u,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,f=it(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,ze(t,r-1,n-r+3,f),n=r+f.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}s(zx,"resolveAllAttention");function Hx(t,e){let n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Or(r),o;return l;function l(d){return o=d,t.enter("attentionSequence"),u(d)}function u(d){if(d===o)return t.consume(d),u;let f=t.exit("attentionSequence"),h=Or(d),m=!h||h===2&&i||n.includes(d),y=!i||i===2&&h||n.includes(r);return f._open=!!(o===42?m:m&&(i||!y)),f._close=!!(o===42?y:y&&(h||!m)),e(d)}}s(Hx,"tokenizeAttention");function th(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}s(th,"movePoint");var Wl={name:"autolink",tokenize:jx};function jx(t,e,n){let r=0;return i;function i(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(w){return mt(w)?(t.consume(w),l):w===64?n(w):f(w)}function l(w){return w===43||w===45||w===46||st(w)?(r=1,u(w)):f(w)}function u(w){return w===58?(t.consume(w),r=0,d):(w===43||w===45||w===46||st(w))&&r++<32?(t.consume(w),u):(r=0,f(w))}function d(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||Ai(w)?n(w):(t.consume(w),d)}function f(w){return w===64?(t.consume(w),h):Gf(w)?(t.consume(w),f):n(w)}function h(w){return st(w)?m(w):n(w)}function m(w){return w===46?(t.consume(w),r=0,h):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):y(w)}function y(w){if((w===45||st(w))&&r++<63){let v=w===45?y:m;return t.consume(w),v}return n(w)}}s(jx,"tokenizeAutolink");var Fn={partial:!0,tokenize:Gx};function Gx(t,e,n){return r;function r(o){return X(o)?ee(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||Y(o)?e(o):n(o)}}s(Gx,"tokenizeBlankLine");var Us={continuation:{tokenize:Kx},exit:Jx,name:"blockQuote",tokenize:qx};function qx(t,e,n){let r=this;return i;function i(l){if(l===62){let u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),o}return n(l)}function o(l){return X(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}s(qx,"tokenizeBlockQuoteStart");function Kx(t,e,n){let r=this;return i;function i(l){return X(l)?ee(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return t.attempt(Us,e,n)(l)}}s(Kx,"tokenizeBlockQuoteContinuation");function Jx(t){t.exit("blockQuote")}s(Jx,"exit");var Ws={name:"characterEscape",tokenize:Xx};function Xx(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return Kf(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}s(Xx,"tokenizeCharacterEscape");var Ys={name:"characterReference",tokenize:Zx};function Zx(t,e,n){let r=this,i=0,o,l;return u;function u(m){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),d}function d(m){return m===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(m),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),o=31,l=st,h(m))}function f(m){return m===88||m===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(m),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,l=qf,h):(t.enter("characterReferenceValue"),o=7,l=xi,h(m))}function h(m){if(m===59&&i){let y=t.exit("characterReferenceValue");return l===st&&!Ir(r.sliceSerialize(y))?n(m):(t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(m)&&i++<o?(t.consume(m),h):n(m)}}s(Zx,"tokenizeCharacterReference");var nh={partial:!0,tokenize:ek},zs={concrete:!0,name:"codeFenced",tokenize:Qx};function Qx(t,e,n){let r=this,i={partial:!0,tokenize:z},o=0,l=0,u;return d;function d(F){return f(F)}function f(F){let Z=r.events[r.events.length-1];return o=Z&&Z[1].type==="linePrefix"?Z[2].sliceSerialize(Z[1],!0).length:0,u=F,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(F)}function h(F){return F===u?(l++,t.consume(F),h):l<3?n(F):(t.exit("codeFencedFenceSequence"),X(F)?ee(t,m,"whitespace")(F):m(F))}function m(F){return F===null||Y(F)?(t.exit("codeFencedFence"),r.interrupt?e(F):t.check(nh,T,D)(F)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),y(F))}function y(F){return F===null||Y(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),m(F)):X(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),ee(t,w,"whitespace")(F)):F===96&&F===u?n(F):(t.consume(F),y)}function w(F){return F===null||Y(F)?m(F):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(F))}function v(F){return F===null||Y(F)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(F)):F===96&&F===u?n(F):(t.consume(F),v)}function T(F){return t.attempt(i,D,S)(F)}function S(F){return t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),E}function E(F){return o>0&&X(F)?ee(t,P,"linePrefix",o+1)(F):P(F)}function P(F){return F===null||Y(F)?t.check(nh,T,D)(F):(t.enter("codeFlowValue"),_(F))}function _(F){return F===null||Y(F)?(t.exit("codeFlowValue"),P(F)):(t.consume(F),_)}function D(F){return t.exit("codeFenced"),e(F)}function z(F,Z,re){let q=0;return ne;function ne(G){return F.enter("lineEnding"),F.consume(G),F.exit("lineEnding"),me}function me(G){return F.enter("codeFencedFence"),X(G)?ee(F,ae,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):ae(G)}function ae(G){return G===u?(F.enter("codeFencedFenceSequence"),L(G)):re(G)}function L(G){return G===u?(q++,F.consume(G),L):q>=l?(F.exit("codeFencedFenceSequence"),X(G)?ee(F,j,"whitespace")(G):j(G)):re(G)}function j(G){return G===null||Y(G)?(F.exit("codeFencedFence"),Z(G)):re(G)}}}s(Qx,"tokenizeCodeFenced");function ek(t,e,n){let r=this;return i;function i(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}s(ek,"tokenizeNonLazyContinuation");var vi={name:"codeIndented",tokenize:nk},tk={partial:!0,tokenize:rk};function nk(t,e,n){let r=this;return i;function i(f){return t.enter("codeIndented"),ee(t,o,"linePrefix",5)(f)}function o(f){let h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?d(f):Y(f)?t.attempt(tk,l,d)(f):(t.enter("codeFlowValue"),u(f))}function u(f){return f===null||Y(f)?(t.exit("codeFlowValue"),l(f)):(t.consume(f),u)}function d(f){return t.exit("codeIndented"),e(f)}}s(nk,"tokenizeCodeIndented");function rk(t,e,n){let r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):Y(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),i):ee(t,o,"linePrefix",5)(l)}function o(l){let u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):Y(l)?i(l):n(l)}}s(rk,"tokenizeFurtherStart");var Yl={name:"codeText",previous:sk,resolve:ik,tokenize:ok};function ik(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}s(ik,"resolveCodeText");function sk(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}s(sk,"previous");function ok(t,e,n){let r=this,i=0,o,l;return u;function u(y){return t.enter("codeText"),t.enter("codeTextSequence"),d(y)}function d(y){return y===96?(t.consume(y),i++,d):(t.exit("codeTextSequence"),f(y))}function f(y){return y===null?n(y):y===32?(t.enter("space"),t.consume(y),t.exit("space"),f):y===96?(l=t.enter("codeTextSequence"),o=0,m(y)):Y(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),f):(t.enter("codeTextData"),h(y))}function h(y){return y===null||y===32||y===96||Y(y)?(t.exit("codeTextData"),f(y)):(t.consume(y),h)}function m(y){return y===96?(t.consume(y),o++,m):o===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(y)):(l.type="codeTextData",h(y))}}s(ok,"tokenizeCodeText");var Hs=class{static{s(this,"SpliceBuffer")}constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){let r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){let i=n||0;this.setCursor(Math.trunc(e));let o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ci(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ci(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ci(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let n=this.left.splice(e,Number.POSITIVE_INFINITY);Ci(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ci(this.left,n.reverse())}}};function Ci(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}s(Ci,"chunkedPush");function js(t){let e={},n=-1,r,i,o,l,u,d,f,h=new Hs(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,o=0,o<d.length&&d[o][1].type==="lineEndingBlank"&&(o+=2),o<d.length&&d[o][1].type==="content"))for(;++o<d.length&&d[o][1].type!=="content";)d[o][1].type==="chunkText"&&(d[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,ak(h,n)),n=e[n],f=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(l=h.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},u=h.slice(i,n),u.unshift(r),h.splice(i,n-i+1,u))}}return ze(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!f}s(js,"subtokenize");function ak(t,e){let n=t.get(e)[1],r=t.get(e)[2],i=e-1,o=[],l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));let u=l.events,d=[],f={},h,m,y=-1,w=n,v=0,T=0,S=[T];for(;w;){for(;t.get(++i)[1]!==w;);o.push(i),w._tokenizer||(h=r.sliceStream(w),w.next||h.push(null),m&&l.defineSkip(w.start),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=w,w=w.next}for(w=n;++y<u.length;)u[y][0]==="exit"&&u[y-1][0]==="enter"&&u[y][1].type===u[y-1][1].type&&u[y][1].start.line!==u[y][1].end.line&&(T=y+1,S.push(T),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(l.events=[],w?(w._tokenizer=void 0,w.previous=void 0):S.pop(),y=S.length;y--;){let E=u.slice(S[y],S[y+1]),P=o.pop();d.push([P,P+E.length-1]),t.splice(P,2,E)}for(d.reverse(),y=-1;++y<d.length;)f[v+d[y][0]]=v+d[y][1],v+=d[y][1]-d[y][0]-1;return f}s(ak,"subcontent");var zl={resolve:uk,tokenize:ck},lk={partial:!0,tokenize:dk};function uk(t){return js(t),t}s(uk,"resolveContent");function ck(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?o(u):Y(u)?t.check(lk,l,o)(u):(t.consume(u),i)}function o(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function l(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}s(ck,"tokenizeContent");function dk(t,e,n){let r=this;return i;function i(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),ee(t,o,"linePrefix")}function o(l){if(l===null||Y(l))return n(l);let u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}s(dk,"tokenizeContinuation");function Gs(t,e,n,r,i,o,l,u,d){let f=d||Number.POSITIVE_INFINITY,h=0;return m;function m(E){return E===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(E),t.exit(o),y):E===null||E===32||E===41||Ai(E)?n(E):(t.enter(r),t.enter(l),t.enter(u),t.enter("chunkString",{contentType:"string"}),T(E))}function y(E){return E===62?(t.enter(o),t.consume(E),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),w(E))}function w(E){return E===62?(t.exit("chunkString"),t.exit(u),y(E)):E===null||E===60||Y(E)?n(E):(t.consume(E),E===92?v:w)}function v(E){return E===60||E===62||E===92?(t.consume(E),w):w(E)}function T(E){return!h&&(E===null||E===41||Pe(E))?(t.exit("chunkString"),t.exit(u),t.exit(l),t.exit(r),e(E)):h<f&&E===40?(t.consume(E),h++,T):E===41?(t.consume(E),h--,T):E===null||E===32||E===40||Ai(E)?n(E):(t.consume(E),E===92?S:T)}function S(E){return E===40||E===41||E===92?(t.consume(E),T):T(E)}}s(Gs,"factoryDestination");function qs(t,e,n,r,i,o){let l=this,u=0,d;return f;function f(w){return t.enter(r),t.enter(i),t.consume(w),t.exit(i),t.enter(o),h}function h(w){return u>999||w===null||w===91||w===93&&!d||w===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(w):w===93?(t.exit(o),t.enter(i),t.consume(w),t.exit(i),t.exit(r),e):Y(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===null||w===91||w===93||Y(w)||u++>999?(t.exit("chunkString"),h(w)):(t.consume(w),d||(d=!X(w)),w===92?y:m)}function y(w){return w===91||w===92||w===93?(t.consume(w),u++,m):m(w)}}s(qs,"factoryLabel");function Ks(t,e,n,r,i,o){let l;return u;function u(y){return y===34||y===39||y===40?(t.enter(r),t.enter(i),t.consume(y),t.exit(i),l=y===40?41:y,d):n(y)}function d(y){return y===l?(t.enter(i),t.consume(y),t.exit(i),t.exit(r),e):(t.enter(o),f(y))}function f(y){return y===l?(t.exit(o),d(l)):y===null?n(y):Y(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),ee(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===l||y===null||Y(y)?(t.exit("chunkString"),f(y)):(t.consume(y),y===92?m:h)}function m(y){return y===l||y===92?(t.consume(y),h):h(y)}}s(Ks,"factoryTitle");function qn(t,e){let n;return r;function r(i){return Y(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):X(i)?ee(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}s(qn,"factoryWhitespace");var Hl={name:"definition",tokenize:hk},fk={partial:!0,tokenize:pk};function hk(t,e,n){let r=this,i;return o;function o(w){return t.enter("definition"),l(w)}function l(w){return qs.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function u(w){return i=yn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),d):n(w)}function d(w){return Pe(w)?qn(t,f)(w):f(w)}function f(w){return Gs(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function h(w){return t.attempt(fk,m,m)(w)}function m(w){return X(w)?ee(t,y,"whitespace")(w):y(w)}function y(w){return w===null||Y(w)?(t.exit("definition"),r.parser.defined.push(i),e(w)):n(w)}}s(hk,"tokenizeDefinition");function pk(t,e,n){return r;function r(u){return Pe(u)?qn(t,i)(u):n(u)}function i(u){return Ks(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return X(u)?ee(t,l,"whitespace")(u):l(u)}function l(u){return u===null||Y(u)?e(u):n(u)}}s(pk,"tokenizeTitleBefore");var jl={name:"hardBreakEscape",tokenize:mk};function mk(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return Y(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}s(mk,"tokenizeHardBreakEscape");var Gl={name:"headingAtx",resolve:gk,tokenize:yk};function gk(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ze(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}s(gk,"resolveHeadingAtx");function yk(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),o(h)}function o(h){return t.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&r++<6?(t.consume(h),l):h===null||Pe(h)?(t.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(t.enter("atxHeadingSequence"),d(h)):h===null||Y(h)?(t.exit("atxHeading"),e(h)):X(h)?ee(t,u,"whitespace")(h):(t.enter("atxHeadingText"),f(h))}function d(h){return h===35?(t.consume(h),d):(t.exit("atxHeadingSequence"),u(h))}function f(h){return h===null||h===35||Pe(h)?(t.exit("atxHeadingText"),u(h)):(t.consume(h),f)}}s(yk,"tokenizeHeadingAtx");var rh=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ql=["pre","script","style","textarea"];var Kl={concrete:!0,name:"htmlFlow",resolveTo:Ak,tokenize:xk},wk={partial:!0,tokenize:vk},bk={partial:!0,tokenize:kk};function Ak(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}s(Ak,"resolveToHtmlFlow");function xk(t,e,n){let r=this,i,o,l,u,d;return f;function f(A){return h(A)}function h(A){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(A),m}function m(A){return A===33?(t.consume(A),y):A===47?(t.consume(A),o=!0,T):A===63?(t.consume(A),i=3,r.interrupt?e:k):mt(A)?(t.consume(A),l=String.fromCharCode(A),S):n(A)}function y(A){return A===45?(t.consume(A),i=2,w):A===91?(t.consume(A),i=5,u=0,v):mt(A)?(t.consume(A),i=4,r.interrupt?e:k):n(A)}function w(A){return A===45?(t.consume(A),r.interrupt?e:k):n(A)}function v(A){let Le="CDATA[";return A===Le.charCodeAt(u++)?(t.consume(A),u===Le.length?r.interrupt?e:ae:v):n(A)}function T(A){return mt(A)?(t.consume(A),l=String.fromCharCode(A),S):n(A)}function S(A){if(A===null||A===47||A===62||Pe(A)){let Le=A===47,Jt=l.toLowerCase();return!Le&&!o&&ql.includes(Jt)?(i=1,r.interrupt?e(A):ae(A)):rh.includes(l.toLowerCase())?(i=6,Le?(t.consume(A),E):r.interrupt?e(A):ae(A)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(A):o?P(A):_(A))}return A===45||st(A)?(t.consume(A),l+=String.fromCharCode(A),S):n(A)}function E(A){return A===62?(t.consume(A),r.interrupt?e:ae):n(A)}function P(A){return X(A)?(t.consume(A),P):ne(A)}function _(A){return A===47?(t.consume(A),ne):A===58||A===95||mt(A)?(t.consume(A),D):X(A)?(t.consume(A),_):ne(A)}function D(A){return A===45||A===46||A===58||A===95||st(A)?(t.consume(A),D):z(A)}function z(A){return A===61?(t.consume(A),F):X(A)?(t.consume(A),z):_(A)}function F(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),d=A,Z):X(A)?(t.consume(A),F):re(A)}function Z(A){return A===d?(t.consume(A),d=null,q):A===null||Y(A)?n(A):(t.consume(A),Z)}function re(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||Pe(A)?z(A):(t.consume(A),re)}function q(A){return A===47||A===62||X(A)?_(A):n(A)}function ne(A){return A===62?(t.consume(A),me):n(A)}function me(A){return A===null||Y(A)?ae(A):X(A)?(t.consume(A),me):n(A)}function ae(A){return A===45&&i===2?(t.consume(A),Q):A===60&&i===1?(t.consume(A),ce):A===62&&i===4?(t.consume(A),fe):A===63&&i===3?(t.consume(A),k):A===93&&i===5?(t.consume(A),Oe):Y(A)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(wk,xe,L)(A)):A===null||Y(A)?(t.exit("htmlFlowData"),L(A)):(t.consume(A),ae)}function L(A){return t.check(bk,j,xe)(A)}function j(A){return t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),G}function G(A){return A===null||Y(A)?L(A):(t.enter("htmlFlowData"),ae(A))}function Q(A){return A===45?(t.consume(A),k):ae(A)}function ce(A){return A===47?(t.consume(A),l="",ge):ae(A)}function ge(A){if(A===62){let Le=l.toLowerCase();return ql.includes(Le)?(t.consume(A),fe):ae(A)}return mt(A)&&l.length<8?(t.consume(A),l+=String.fromCharCode(A),ge):ae(A)}function Oe(A){return A===93?(t.consume(A),k):ae(A)}function k(A){return A===62?(t.consume(A),fe):A===45&&i===2?(t.consume(A),k):ae(A)}function fe(A){return A===null||Y(A)?(t.exit("htmlFlowData"),xe(A)):(t.consume(A),fe)}function xe(A){return t.exit("htmlFlow"),e(A)}}s(xk,"tokenizeHtmlFlow");function kk(t,e,n){let r=this;return i;function i(l){return Y(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}s(kk,"tokenizeNonLazyContinuationStart");function vk(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Fn,e,n)}}s(vk,"tokenizeBlankLineBefore");var Jl={name:"htmlText",tokenize:Ck};function Ck(t,e,n){let r=this,i,o,l;return u;function u(k){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(k),d}function d(k){return k===33?(t.consume(k),f):k===47?(t.consume(k),z):k===63?(t.consume(k),_):mt(k)?(t.consume(k),re):n(k)}function f(k){return k===45?(t.consume(k),h):k===91?(t.consume(k),o=0,v):mt(k)?(t.consume(k),P):n(k)}function h(k){return k===45?(t.consume(k),w):n(k)}function m(k){return k===null?n(k):k===45?(t.consume(k),y):Y(k)?(l=m,ce(k)):(t.consume(k),m)}function y(k){return k===45?(t.consume(k),w):m(k)}function w(k){return k===62?Q(k):k===45?y(k):m(k)}function v(k){let fe="CDATA[";return k===fe.charCodeAt(o++)?(t.consume(k),o===fe.length?T:v):n(k)}function T(k){return k===null?n(k):k===93?(t.consume(k),S):Y(k)?(l=T,ce(k)):(t.consume(k),T)}function S(k){return k===93?(t.consume(k),E):T(k)}function E(k){return k===62?Q(k):k===93?(t.consume(k),E):T(k)}function P(k){return k===null||k===62?Q(k):Y(k)?(l=P,ce(k)):(t.consume(k),P)}function _(k){return k===null?n(k):k===63?(t.consume(k),D):Y(k)?(l=_,ce(k)):(t.consume(k),_)}function D(k){return k===62?Q(k):_(k)}function z(k){return mt(k)?(t.consume(k),F):n(k)}function F(k){return k===45||st(k)?(t.consume(k),F):Z(k)}function Z(k){return Y(k)?(l=Z,ce(k)):X(k)?(t.consume(k),Z):Q(k)}function re(k){return k===45||st(k)?(t.consume(k),re):k===47||k===62||Pe(k)?q(k):n(k)}function q(k){return k===47?(t.consume(k),Q):k===58||k===95||mt(k)?(t.consume(k),ne):Y(k)?(l=q,ce(k)):X(k)?(t.consume(k),q):Q(k)}function ne(k){return k===45||k===46||k===58||k===95||st(k)?(t.consume(k),ne):me(k)}function me(k){return k===61?(t.consume(k),ae):Y(k)?(l=me,ce(k)):X(k)?(t.consume(k),me):q(k)}function ae(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),i=k,L):Y(k)?(l=ae,ce(k)):X(k)?(t.consume(k),ae):(t.consume(k),j)}function L(k){return k===i?(t.consume(k),i=void 0,G):k===null?n(k):Y(k)?(l=L,ce(k)):(t.consume(k),L)}function j(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Pe(k)?q(k):(t.consume(k),j)}function G(k){return k===47||k===62||Pe(k)?q(k):n(k)}function Q(k){return k===62?(t.consume(k),t.exit("htmlTextData"),t.exit("htmlText"),e):n(k)}function ce(k){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),ge}function ge(k){return X(k)?ee(t,Oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):Oe(k)}function Oe(k){return t.enter("htmlTextData"),l(k)}}s(Ck,"tokenizeHtmlText");var Kn={name:"labelEnd",resolveAll:Fk,resolveTo:Pk,tokenize:Ik},Ek={tokenize:Ok},Tk={tokenize:_k},Sk={tokenize:Rk};function Fk(t){let e=-1,n=[];for(;++e<t.length;){let r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){let i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&ze(t,0,t.length,n),t}s(Fk,"resolveAllLabelEnd");function Pk(t,e){let n=t.length,r=0,i,o,l,u;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);let d={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},f={type:"label",start:{...t[o][1].start},end:{...t[l][1].end}},h={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[l-2][1].start}};return u=[["enter",d,e],["enter",f,e]],u=it(u,t.slice(o+1,o+r+3)),u=it(u,[["enter",h,e]]),u=it(u,_r(e.parser.constructs.insideSpan.null,t.slice(o+r+4,l-3),e)),u=it(u,[["exit",h,e],t[l-2],t[l-1],["exit",f,e]]),u=it(u,t.slice(l+1)),u=it(u,[["exit",d,e]]),ze(t,o,t.length,u),t}s(Pk,"resolveToLabelEnd");function Ik(t,e,n){let r=this,i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return u;function u(y){return o?o._inactive?m(y):(l=r.parser.defined.includes(yn(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(y),t.exit("labelMarker"),t.exit("labelEnd"),d):n(y)}function d(y){return y===40?t.attempt(Ek,h,l?h:m)(y):y===91?t.attempt(Tk,h,l?f:m)(y):l?h(y):m(y)}function f(y){return t.attempt(Sk,h,m)(y)}function h(y){return e(y)}function m(y){return o._balanced=!0,n(y)}}s(Ik,"tokenizeLabelEnd");function Ok(t,e,n){return r;function r(m){return t.enter("resource"),t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),i}function i(m){return Pe(m)?qn(t,o)(m):o(m)}function o(m){return m===41?h(m):Gs(t,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return Pe(m)?qn(t,d)(m):h(m)}function u(m){return n(m)}function d(m){return m===34||m===39||m===40?Ks(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):h(m)}function f(m){return Pe(m)?qn(t,h)(m):h(m)}function h(m){return m===41?(t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),t.exit("resource"),e):n(m)}}s(Ok,"tokenizeResource");function _k(t,e,n){let r=this;return i;function i(u){return qs.call(r,t,o,l,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes(yn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function l(u){return n(u)}}s(_k,"tokenizeReferenceFull");function Rk(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}s(Rk,"tokenizeReferenceCollapsed");var Xl={name:"labelStartImage",resolveAll:Kn.resolveAll,tokenize:Mk};function Mk(t,e,n){let r=this;return i;function i(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),o}function o(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}s(Mk,"tokenizeLabelStartImage");var Zl={name:"labelStartLink",resolveAll:Kn.resolveAll,tokenize:Lk};function Lk(t,e,n){let r=this;return i;function i(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}s(Lk,"tokenizeLabelStartLink");var Ei={name:"lineEnding",tokenize:Dk};function Dk(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),ee(t,e,"linePrefix")}}s(Dk,"tokenizeLineEnding");var Jn={name:"thematicBreak",tokenize:Nk};function Nk(t,e,n){let r=0,i;return o;function o(f){return t.enter("thematicBreak"),l(f)}function l(f){return i=f,u(f)}function u(f){return f===i?(t.enter("thematicBreakSequence"),d(f)):r>=3&&(f===null||Y(f))?(t.exit("thematicBreak"),e(f)):n(f)}function d(f){return f===i?(t.consume(f),r++,d):(t.exit("thematicBreakSequence"),X(f)?ee(t,u,"whitespace")(f):u(f))}}s(Nk,"tokenizeThematicBreak");var qe={continuation:{tokenize:Uk},exit:Yk,name:"list",tokenize:Vk},$k={partial:!0,tokenize:zk},Bk={partial:!0,tokenize:Wk};function Vk(t,e,n){let r=this,i=r.events[r.events.length-1],o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return u;function u(w){let v=r.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||w===r.containerState.marker:xi(w)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(Jn,n,f)(w):f(w);if(!r.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(w)}return n(w)}function d(w){return xi(w)&&++l<10?(t.consume(w),d):(!r.interrupt||l<2)&&(r.containerState.marker?w===r.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),f(w)):n(w)}function f(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||w,t.check(Fn,r.interrupt?n:h,t.attempt($k,y,m))}function h(w){return r.containerState.initialBlankLine=!0,o++,y(w)}function m(w){return X(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),y):n(w)}function y(w){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}s(Vk,"tokenizeListStart");function Uk(t,e,n){let r=this;return r.containerState._closeFlow=void 0,t.check(Fn,i,o);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ee(t,e,"listItemIndent",r.containerState.size+1)(u)}s(i,"onBlank");function o(u){return r.containerState.furtherBlankLines||!X(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Bk,e,l)(u))}s(o,"notBlank");function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,ee(t,t.attempt(qe,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}s(l,"notInCurrentItem")}s(Uk,"tokenizeListContinuation");function Wk(t,e,n){let r=this;return ee(t,i,"listItemIndent",r.containerState.size+1);function i(o){let l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(o):n(o)}}s(Wk,"tokenizeIndent");function Yk(t){t.exit(this.containerState.type)}s(Yk,"tokenizeListEnd");function zk(t,e,n){let r=this;return ee(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){let l=r.events[r.events.length-1];return!X(o)&&l&&l[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}s(zk,"tokenizeListItemPrefixWhitespace");var Js={name:"setextUnderline",resolveTo:Hk,tokenize:jk};function Hk(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);let l={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",l,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}s(Hk,"resolveToSetextUnderline");function jk(t,e,n){let r=this,i;return o;function o(f){let h=r.events.length,m;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){m=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(t.enter("setextHeadingLine"),i=f,l(f)):n(f)}function l(f){return t.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===i?(t.consume(f),u):(t.exit("setextHeadingLineSequence"),X(f)?ee(t,d,"lineSuffix")(f):d(f))}function d(f){return f===null||Y(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}s(jk,"tokenizeSetextUnderline");var ih={tokenize:Gk};function Gk(t){let e=this,n=t.attempt(Fn,r,t.attempt(this.parser.constructs.flowInitial,i,ee(t,t.attempt(this.parser.constructs.flow,i,t.attempt(zl,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}s(Gk,"initializeFlow");var sh={resolveAll:uh()},oh=lh("string"),ah=lh("text");function lh(t){return{resolveAll:uh(t==="text"?qk:void 0),tokenize:e};function e(n){let r=this,i=this.parser.constructs[t],o=n.attempt(i,l,u);return l;function l(h){return f(h)?o(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),d}function d(h){return f(h)?(n.exit("data"),o(h)):(n.consume(h),d)}function f(h){if(h===null)return!0;let m=i[h],y=-1;if(m)for(;++y<m.length;){let w=m[y];if(!w.previous||w.previous.call(r,r.previous))return!0}return!1}}}s(lh,"initializeFactory");function uh(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}s(uh,"createResolver");function qk(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){let r=t[n-1][1],i=e.sliceStream(r),o=i.length,l=-1,u=0,d;for(;o--;){let f=i[o];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(f===-2)d=!0,u++;else if(f!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(u=0),u){let f={type:n===t.length||d||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}s(qk,"resolveAllLineSuffixes");var Ql={};vd(Ql,{attentionMarkers:()=>nv,contentInitial:()=>Jk,disable:()=>rv,document:()=>Kk,flow:()=>Zk,flowInitial:()=>Xk,insideSpan:()=>tv,string:()=>Qk,text:()=>ev});var Kk={42:qe,43:qe,45:qe,48:qe,49:qe,50:qe,51:qe,52:qe,53:qe,54:qe,55:qe,56:qe,57:qe,62:Us},Jk={91:Hl},Xk={[-2]:vi,[-1]:vi,32:vi},Zk={35:Gl,42:Jn,45:[Js,Jn],60:Kl,61:Js,95:Jn,96:zs,126:zs},Qk={38:Ys,92:Ws},ev={[-5]:Ei,[-4]:Ei,[-3]:Ei,33:Xl,38:Ys,42:ki,60:[Wl,Jl],91:Zl,92:[jl,Ws],93:Kn,95:ki,96:Yl},tv={null:[ki,sh]},nv={null:[42,95]},rv={null:[]};function ch(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},i={},o=[],l=[],u=[],d=!0,f={attempt:q(Z),check:q(re),consume:D,enter:z,exit:F,interrupt:q(re,{interrupt:!0})},h={code:null,containerState:{},defineSkip:E,events:[],now:S,parser:t,previous:null,sliceSerialize:v,sliceStream:T,write:w},m=e.tokenize.call(h,f),y;return e.resolveAll&&o.push(e),h;function w(L){return l=it(l,L),P(),l[l.length-1]!==null?[]:(ne(e,0),h.events=_r(o,h.events,h),h.events)}s(w,"write");function v(L,j){return sv(T(L),j)}s(v,"sliceSerialize");function T(L){return iv(l,L)}s(T,"sliceStream");function S(){let{_bufferIndex:L,_index:j,line:G,column:Q,offset:ce}=r;return{_bufferIndex:L,_index:j,line:G,column:Q,offset:ce}}s(S,"now");function E(L){i[L.line]=L.column,ae()}s(E,"defineSkip");function P(){let L;for(;r._index<l.length;){let j=l[r._index];if(typeof j=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<j.length;)_(j.charCodeAt(r._bufferIndex));else _(j)}}s(P,"main");function _(L){d=void 0,y=L,m=m(L)}s(_,"go");function D(L){Y(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,ae()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),h.previous=L,d=!0}s(D,"consume");function z(L,j){let G=j||{};return G.type=L,G.start=S(),h.events.push(["enter",G,h]),u.push(G),G}s(z,"enter");function F(L){let j=u.pop();return j.end=S(),h.events.push(["exit",j,h]),j}s(F,"exit");function Z(L,j){ne(L,j.from)}s(Z,"onsuccessfulconstruct");function re(L,j){j.restore()}s(re,"onsuccessfulcheck");function q(L,j){return G;function G(Q,ce,ge){let Oe,k,fe,xe;return Array.isArray(Q)?Le(Q):"tokenize"in Q?Le([Q]):A(Q);function A(_e){return $n;function $n(Pt){let Xt=Pt!==null&&_e[Pt],kn=Pt!==null&&_e.null,Xr=[...Array.isArray(Xt)?Xt:Xt?[Xt]:[],...Array.isArray(kn)?kn:kn?[kn]:[]];return Le(Xr)(Pt)}}function Le(_e){return Oe=_e,k=0,_e.length===0?ge:Jt(_e[k])}function Jt(_e){return $n;function $n(Pt){return xe=me(),fe=_e,_e.partial||(h.currentConstruct=_e),_e.name&&h.parser.constructs.disable.null.includes(_e.name)?Nn(Pt):_e.tokenize.call(j?Object.assign(Object.create(h),j):h,f,xn,Nn)(Pt)}}function xn(_e){return d=!0,L(fe,xe),ce}function Nn(_e){return d=!0,xe.restore(),++k<Oe.length?Jt(Oe[k]):ge}}}s(q,"constructFactory");function ne(L,j){L.resolveAll&&!o.includes(L)&&o.push(L),L.resolve&&ze(h.events,j,h.events.length-j,L.resolve(h.events.slice(j),h)),L.resolveTo&&(h.events=L.resolveTo(h.events,h))}s(ne,"addResult");function me(){let L=S(),j=h.previous,G=h.currentConstruct,Q=h.events.length,ce=Array.from(u);return{from:Q,restore:ge};function ge(){r=L,h.previous=j,h.currentConstruct=G,h.events.length=Q,u=ce,ae()}}s(me,"store");function ae(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}s(ae,"accountForPotentialSkip")}s(ch,"createTokenizer");function iv(t,e){let n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex,l;if(n===i)l=[t[n].slice(r,o)];else{if(l=t.slice(n,i),r>-1){let u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}o>0&&l.push(t[i].slice(0,o))}return l}s(iv,"sliceChunks");function sv(t,e){let n=-1,r=[],i;for(;++n<t.length;){let o=t[n],l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}s(sv,"serializeChunks");function eu(t){let r={constructs:jf([Ql,...(t||{}).extensions||[]]),content:i(Zf),defined:[],document:i(eh),flow:i(ih),lazy:{},string:i(oh),text:i(ah)};return r;function i(o){return l;function l(u){return ch(r,o,u)}}}s(eu,"parse");function tu(t){for(;!js(t););return t}s(tu,"postprocess");var dh=/[\0\t\n\r]/g;function nu(){let t=1,e="",n=!0,r;return i;function i(o,l,u){let d=[],f,h,m,y,w;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),m=0,e="",n&&(o.charCodeAt(0)===65279&&m++,n=void 0);m<o.length;){if(dh.lastIndex=m,f=dh.exec(o),y=f&&f.index!==void 0?f.index:o.length,w=o.charCodeAt(y),!f){e=o.slice(m);break}if(w===10&&m===y&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),m<y&&(d.push(o.slice(m,y)),t+=y-m),w){case 0:{d.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,d.push(-2);t++<h;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:r=!0,t=1}m=y+1}return u&&(r&&d.push(-5),e&&d.push(e),d.push(null)),d}}s(nu,"preprocess");var ov=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Xs(t){return t.replace(ov,av)}s(Xs,"decodeString");function av(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){let i=n.charCodeAt(1),o=i===120||i===88;return Vs(n.slice(o?2:1),o?16:10)}return Ir(n)||t}s(av,"decode");function Pn(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?fh(t.position):"start"in t||"end"in t?fh(t):"line"in t||"column"in t?ru(t):""}s(Pn,"stringifyPosition");function ru(t){return hh(t&&t.line)+":"+hh(t&&t.column)}s(ru,"point");function fh(t){return ru(t&&t.start)+"-"+ru(t&&t.end)}s(fh,"position");function hh(t){return t&&typeof t=="number"?t:1}s(hh,"index");var mh={}.hasOwnProperty;function iu(t,e,n){return typeof e!="string"&&(n=e,e=void 0),lv(n)(tu(eu(n).document().write(nu()(t,e,!0))))}s(iu,"fromMarkdown");function lv(t){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Ze),autolinkProtocol:q,autolinkEmail:q,atxHeading:o(Ji),blockQuote:o(Pt),characterEscape:q,characterReference:q,codeFenced:o(Xt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Xt,l),codeText:o(kn,l),codeTextData:q,data:q,codeFlowValue:q,definition:o(Xr),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(Wa),hardBreakEscape:o(Xi),hardBreakTrailing:o(Xi),htmlFlow:o(Zi,l),htmlFlowData:q,htmlText:o(Zi,l),htmlTextData:q,image:o(Qi),label:l,link:o(Ze),listItem:o(Ya),listItemValue:y,listOrdered:o(or,m),listUnordered:o(or),paragraph:o(za),reference:A,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(Ji),strong:o(es),thematicBreak:o(ts)},exit:{atxHeading:d(),atxHeadingSequence:z,autolink:d(),autolinkEmail:$n,autolinkProtocol:_e,blockQuote:d(),characterEscapeValue:ne,characterReferenceMarkerHexadecimal:Jt,characterReferenceMarkerNumeric:Jt,characterReferenceValue:xn,characterReference:Nn,codeFenced:d(S),codeFencedFence:T,codeFencedFenceInfo:w,codeFencedFenceMeta:v,codeFlowValue:ne,codeIndented:d(E),codeText:d(G),codeTextData:ne,data:ne,definition:d(),definitionDestinationString:D,definitionLabelString:P,definitionTitleString:_,emphasis:d(),hardBreakEscape:d(ae),hardBreakTrailing:d(ae),htmlFlow:d(L),htmlFlowData:ne,htmlText:d(j),htmlTextData:ne,image:d(ce),label:Oe,labelText:ge,lineEnding:me,link:d(Q),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:Le,resourceDestinationString:k,resourceTitleString:fe,resource:xe,setextHeading:d(re),setextHeadingLineSequence:Z,setextHeadingText:F,strong:d(),thematicBreak:d()}};gh(e,(t||{}).mdastExtensions||[]);let n={};return r;function r(O){let M={type:"root",children:[]},N={stack:[M],tokenStack:[],config:e,enter:u,exit:f,buffer:l,resume:h,data:n},se=[],he=-1;for(;++he<O.length;)if(O[he][1].type==="listOrdered"||O[he][1].type==="listUnordered")if(O[he][0]==="enter")se.push(he);else{let He=se.pop();he=i(O,He,he)}for(he=-1;++he<O.length;){let He=e[O[he][0]];mh.call(He,O[he][1].type)&&He[O[he][1].type].call(Object.assign({sliceSerialize:O[he][2].sliceSerialize},N),O[he][1])}if(N.tokenStack.length>0){let He=N.tokenStack[N.tokenStack.length-1];(He[1]||ph).call(N,void 0,He[0])}for(M.position={start:In(O.length>0?O[0][1].start:{line:1,column:1,offset:0}),end:In(O.length>0?O[O.length-2][1].end:{line:1,column:1,offset:0})},he=-1;++he<e.transforms.length;)M=e.transforms[he](M)||M;return M}function i(O,M,N){let se=M-1,he=-1,He=!1,It,lt,wt,Bt;for(;++se<=N;){let et=O[se];switch(et[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{et[0]==="enter"?he++:he--,Bt=void 0;break}case"lineEndingBlank":{et[0]==="enter"&&(It&&!Bt&&!he&&!wt&&(wt=se),Bt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Bt=void 0}if(!he&&et[0]==="enter"&&et[1].type==="listItemPrefix"||he===-1&&et[0]==="exit"&&(et[1].type==="listUnordered"||et[1].type==="listOrdered")){if(It){let Ot=se;for(lt=void 0;Ot--;){let _t=O[Ot];if(_t[1].type==="lineEnding"||_t[1].type==="lineEndingBlank"){if(_t[0]==="exit")continue;lt&&(O[lt][1].type="lineEndingBlank",He=!0),_t[1].type="lineEnding",lt=Ot}else if(!(_t[1].type==="linePrefix"||_t[1].type==="blockQuotePrefix"||_t[1].type==="blockQuotePrefixWhitespace"||_t[1].type==="blockQuoteMarker"||_t[1].type==="listItemIndent"))break}wt&&(!lt||wt<lt)&&(It._spread=!0),It.end=Object.assign({},lt?O[lt][1].start:et[1].end),O.splice(lt||se,0,["exit",It,et[2]]),se++,N++}if(et[1].type==="listItemPrefix"){let Ot={type:"listItem",_spread:!1,start:Object.assign({},et[1].start),end:void 0};It=Ot,O.splice(se,0,["enter",Ot,et[2]]),se++,N++,wt=void 0,Bt=!0}}}return O[M][1]._spread=He,N}function o(O,M){return N;function N(se){u.call(this,O(se),se),M&&M.call(this,se)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(O,M,N){this.stack[this.stack.length-1].children.push(O),this.stack.push(O),this.tokenStack.push([M,N||void 0]),O.position={start:In(M.start),end:void 0}}function d(O){return M;function M(N){O&&O.call(this,N),f.call(this,N)}}function f(O,M){let N=this.stack.pop(),se=this.tokenStack.pop();if(se)se[0].type!==O.type&&(M?M.call(this,O,se[0]):(se[1]||ph).call(this,O,se[0]));else throw new Error("Cannot close `"+O.type+"` ("+Pn({start:O.start,end:O.end})+"): it\u2019s not open");N.position.end=In(O.end)}function h(){return Gn(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function y(O){if(this.data.expectingFirstListItemValue){let M=this.stack[this.stack.length-2];M.start=Number.parseInt(this.sliceSerialize(O),10),this.data.expectingFirstListItemValue=void 0}}function w(){let O=this.resume(),M=this.stack[this.stack.length-1];M.lang=O}function v(){let O=this.resume(),M=this.stack[this.stack.length-1];M.meta=O}function T(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){let O=this.resume(),M=this.stack[this.stack.length-1];M.value=O.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){let O=this.resume(),M=this.stack[this.stack.length-1];M.value=O.replace(/(\r?\n|\r)$/g,"")}function P(O){let M=this.resume(),N=this.stack[this.stack.length-1];N.label=M,N.identifier=yn(this.sliceSerialize(O)).toLowerCase()}function _(){let O=this.resume(),M=this.stack[this.stack.length-1];M.title=O}function D(){let O=this.resume(),M=this.stack[this.stack.length-1];M.url=O}function z(O){let M=this.stack[this.stack.length-1];if(!M.depth){let N=this.sliceSerialize(O).length;M.depth=N}}function F(){this.data.setextHeadingSlurpLineEnding=!0}function Z(O){let M=this.stack[this.stack.length-1];M.depth=this.sliceSerialize(O).codePointAt(0)===61?1:2}function re(){this.data.setextHeadingSlurpLineEnding=void 0}function q(O){let N=this.stack[this.stack.length-1].children,se=N[N.length-1];(!se||se.type!=="text")&&(se=Qe(),se.position={start:In(O.start),end:void 0},N.push(se)),this.stack.push(se)}function ne(O){let M=this.stack.pop();M.value+=this.sliceSerialize(O),M.position.end=In(O.end)}function me(O){let M=this.stack[this.stack.length-1];if(this.data.atHardBreak){let N=M.children[M.children.length-1];N.position.end=In(O.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(M.type)&&(q.call(this,O),ne.call(this,O))}function ae(){this.data.atHardBreak=!0}function L(){let O=this.resume(),M=this.stack[this.stack.length-1];M.value=O}function j(){let O=this.resume(),M=this.stack[this.stack.length-1];M.value=O}function G(){let O=this.resume(),M=this.stack[this.stack.length-1];M.value=O}function Q(){let O=this.stack[this.stack.length-1];if(this.data.inReference){let M=this.data.referenceType||"shortcut";O.type+="Reference",O.referenceType=M,delete O.url,delete O.title}else delete O.identifier,delete O.label;this.data.referenceType=void 0}function ce(){let O=this.stack[this.stack.length-1];if(this.data.inReference){let M=this.data.referenceType||"shortcut";O.type+="Reference",O.referenceType=M,delete O.url,delete O.title}else delete O.identifier,delete O.label;this.data.referenceType=void 0}function ge(O){let M=this.sliceSerialize(O),N=this.stack[this.stack.length-2];N.label=Xs(M),N.identifier=yn(M).toLowerCase()}function Oe(){let O=this.stack[this.stack.length-1],M=this.resume(),N=this.stack[this.stack.length-1];if(this.data.inReference=!0,N.type==="link"){let se=O.children;N.children=se}else N.alt=M}function k(){let O=this.resume(),M=this.stack[this.stack.length-1];M.url=O}function fe(){let O=this.resume(),M=this.stack[this.stack.length-1];M.title=O}function xe(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function Le(O){let M=this.resume(),N=this.stack[this.stack.length-1];N.label=M,N.identifier=yn(this.sliceSerialize(O)).toLowerCase(),this.data.referenceType="full"}function Jt(O){this.data.characterReferenceType=O.type}function xn(O){let M=this.sliceSerialize(O),N=this.data.characterReferenceType,se;N?(se=Vs(M,N==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):se=Ir(M);let he=this.stack[this.stack.length-1];he.value+=se}function Nn(O){let M=this.stack.pop();M.position.end=In(O.end)}function _e(O){ne.call(this,O);let M=this.stack[this.stack.length-1];M.url=this.sliceSerialize(O)}function $n(O){ne.call(this,O);let M=this.stack[this.stack.length-1];M.url="mailto:"+this.sliceSerialize(O)}function Pt(){return{type:"blockquote",children:[]}}function Xt(){return{type:"code",lang:null,meta:null,value:""}}function kn(){return{type:"inlineCode",value:""}}function Xr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Wa(){return{type:"emphasis",children:[]}}function Ji(){return{type:"heading",depth:0,children:[]}}function Xi(){return{type:"break"}}function Zi(){return{type:"html",value:""}}function Qi(){return{type:"image",title:null,url:"",alt:null}}function Ze(){return{type:"link",title:null,url:"",children:[]}}function or(O){return{type:"list",ordered:O.type==="listOrdered",start:null,spread:O._spread,children:[]}}function Ya(O){return{type:"listItem",spread:O._spread,checked:null,children:[]}}function za(){return{type:"paragraph",children:[]}}function es(){return{type:"strong",children:[]}}function Qe(){return{type:"text",value:""}}function ts(){return{type:"thematicBreak"}}}s(lv,"compiler");function In(t){return{line:t.line,column:t.column,offset:t.offset}}s(In,"point");function gh(t,e){let n=-1;for(;++n<e.length;){let r=e[n];Array.isArray(r)?gh(t,r):uv(t,r)}}s(gh,"configure");function uv(t,e){let n;for(n in e)if(mh.call(e,n))switch(n){case"canContainEols":{let r=e[n];r&&t[n].push(...r);break}case"transforms":{let r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{let r=e[n];r&&Object.assign(t[n],r);break}}}s(uv,"extension");function ph(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Pn({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Pn({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Pn({start:e.start,end:e.end})+") is still open")}s(ph,"defaultOnError");function Rr(t){let e=this;e.parser=n;function n(r){return iu(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}s(n,"parser")}s(Rr,"remarkParse");var yh={}.hasOwnProperty;function wh(t,e){let n=e||{};function r(i,...o){let l=r.invalid,u=r.handlers;if(i&&yh.call(i,t)){let d=String(i[t]);l=yh.call(u,d)?u[d]:r.unknown}if(l)return l.call(this,i,...o)}return s(r,"one"),r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}s(wh,"zwitch");var cv={}.hasOwnProperty;function su(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)su(t,e.extensions[n]);for(r in e)if(cv.call(e,r))switch(r){case"extensions":break;case"unsafe":{bh(t[r],e[r]);break}case"join":{bh(t[r],e[r]);break}case"handlers":{dv(t[r],e[r]);break}default:t.options[r]=e[r]}return t}s(su,"configure");function bh(t,e){e&&t.push(...e)}s(bh,"list");function dv(t,e){e&&Object.assign(t,e)}s(dv,"map");function Ah(t,e,n,r){let i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);let l=n.indentLines(n.containerFlow(t,o.current()),fv);return i(),l}s(Ah,"blockquote");function fv(t,e,n){return">"+(n?"":" ")+t}s(fv,"map");function Zs(t,e){return xh(t,e.inConstruct,!0)&&!xh(t,e.notInConstruct,!1)}s(Zs,"patternInScope");function xh(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}s(xh,"listInScope");function ou(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Zs(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}s(ou,"hardBreak");function kh(t,e){let n=String(t),r=n.indexOf(e),i=r,o=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>l&&(l=o):o=1,i=r+e.length,r=n.indexOf(e,i);return l}s(kh,"longestStreak");function Ti(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}s(Ti,"formatCodeAsIndented");function vh(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}s(vh,"checkFence");function Ch(t,e,n,r){let i=vh(n),o=t.value||"",l=i==="`"?"GraveAccent":"Tilde";if(Ti(t,n)){let m=n.enter("codeIndented"),y=n.indentLines(o,hv);return m(),y}let u=n.createTracker(r),d=i.repeat(Math.max(kh(o,i)+1,3)),f=n.enter("codeFenced"),h=u.move(d);if(t.lang){let m=n.enter(`codeFencedLang${l}`);h+=u.move(n.safe(t.lang,{before:h,after:" ",encode:["`"],...u.current()})),m()}if(t.lang&&t.meta){let m=n.enter(`codeFencedMeta${l}`);h+=u.move(" "),h+=u.move(n.safe(t.meta,{before:h,after:`
`,encode:["`"],...u.current()})),m()}return h+=u.move(`
`),o&&(h+=u.move(o+`
`)),h+=u.move(d),f(),h}s(Ch,"code");function hv(t,e,n){return(n?"":"    ")+t}s(hv,"map");function Mr(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}s(Mr,"checkQuote");function Eh(t,e,n,r){let i=Mr(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("definition"),u=n.enter("label"),d=n.createTracker(r),f=d.move("[");return f+=d.move(n.safe(n.associationId(t),{before:f,after:"]",...d.current()})),f+=d.move("]: "),u(),!t.url||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(t.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(u=n.enter("destinationRaw"),f+=d.move(n.safe(t.url,{before:f,after:t.title?" ":`
`,...d.current()}))),u(),t.title&&(u=n.enter(`title${o}`),f+=d.move(" "+i),f+=d.move(n.safe(t.title,{before:f,after:i,...d.current()})),f+=d.move(i),u()),l(),f}s(Eh,"definition");function Th(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}s(Th,"checkEmphasis");function gt(t){return"&#x"+t.toString(16).toUpperCase()+";"}s(gt,"encodeCharacterReference");function Lr(t,e,n){let r=Or(t),i=Or(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}s(Lr,"encodeInfo");au.peek=pv;function au(t,e,n,r){let i=Th(n),o=n.enter("emphasis"),l=n.createTracker(r),u=l.move(i),d=l.move(n.containerPhrasing(t,{after:i,before:u,...l.current()})),f=d.charCodeAt(0),h=Lr(r.before.charCodeAt(r.before.length-1),f,i);h.inside&&(d=gt(f)+d.slice(1));let m=d.charCodeAt(d.length-1),y=Lr(r.after.charCodeAt(0),m,i);y.inside&&(d=d.slice(0,-1)+gt(m));let w=l.move(i);return o(),n.attentionEncodeSurroundingInfo={after:y.outside,before:h.outside},u+d+w}s(au,"emphasis");function pv(t,e,n){return n.options.emphasis||"*"}s(pv,"emphasisPeek");var Dr=s((function(t){if(t==null)return wv;if(typeof t=="function")return Qs(t);if(typeof t=="object")return Array.isArray(t)?mv(t):gv(t);if(typeof t=="string")return yv(t);throw new Error("Expected function, string, or object as test")}),"convert");function mv(t){let e=[],n=-1;for(;++n<t.length;)e[n]=Dr(t[n]);return Qs(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}s(mv,"anyFactory");function gv(t){let e=t;return Qs(n);function n(r){let i=r,o;for(o in t)if(i[o]!==e[o])return!1;return!0}}s(gv,"propsFactory");function yv(t){return Qs(e);function e(n){return n&&n.type===t}}s(yv,"typeFactory");function Qs(t){return e;function e(n,r,i){return!!(bv(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}s(Qs,"castFactory");function wv(){return!0}s(wv,"ok");function bv(t){return t!==null&&typeof t=="object"&&"type"in t}s(bv,"looksLikeANode");function Sh(t){return"\x1B[33m"+t+"\x1B[39m"}s(Sh,"color");var Fh=[],eo=!0,Xn=!1,to="skip";function lu(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;let o=Dr(i),l=r?-1:1;u(t,void 0,[])();function u(d,f,h){let m=d&&typeof d=="object"?d:{};if(typeof m.type=="string"){let w=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(y,"name",{value:"node ("+Sh(d.type+(w?"<"+w+">":""))+")"})}return y;function y(){let w=Fh,v,T,S;if((!e||o(d,f,h[h.length-1]||void 0))&&(w=Av(n(d,h)),w[0]===Xn))return w;if("children"in d&&d.children){let E=d;if(E.children&&w[0]!==to)for(T=(r?E.children.length:-1)+l,S=h.concat(E);T>-1&&T<E.children.length;){let P=E.children[T];if(v=u(P,T,S)(),v[0]===Xn)return v;T=typeof v[1]=="number"?v[1]:T+l}}return w}}s(u,"factory")}s(lu,"visitParents");function Av(t){return Array.isArray(t)?t:typeof t=="number"?[eo,t]:t==null?Fh:[t]}s(Av,"toResult");function Si(t,e,n,r){let i,o,l;typeof e=="function"&&typeof n!="function"?(o=void 0,l=e,i=n):(o=e,l=n,i=r),lu(t,o,u,i);function u(d,f){let h=f[f.length-1],m=h?h.children.indexOf(d):void 0;return l(d,m,h)}s(u,"overload")}s(Si,"visit");function no(t,e){let n=!1;return Si(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Xn}),!!((!t.depth||t.depth<3)&&Gn(t)&&(e.options.setext||n))}s(no,"formatHeadingAsSetext");function Ph(t,e,n,r){let i=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(no(t,n)){let h=n.enter("headingSetext"),m=n.enter("phrasing"),y=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return m(),h(),y+`
`+(i===1?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf(`
`))+1))}let l="#".repeat(i),u=n.enter("headingAtx"),d=n.enter("phrasing");o.move(l+" ");let f=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=gt(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,n.options.closeAtx&&(f+=" "+l),d(),u(),f}s(Ph,"heading");uu.peek=xv;function uu(t){return t.value||""}s(uu,"html");function xv(){return"<"}s(xv,"htmlPeek");cu.peek=kv;function cu(t,e,n,r){let i=Mr(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("image"),u=n.enter("label"),d=n.createTracker(r),f=d.move("![");return f+=d.move(n.safe(t.alt,{before:f,after:"]",...d.current()})),f+=d.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(t.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(u=n.enter("destinationRaw"),f+=d.move(n.safe(t.url,{before:f,after:t.title?" ":")",...d.current()}))),u(),t.title&&(u=n.enter(`title${o}`),f+=d.move(" "+i),f+=d.move(n.safe(t.title,{before:f,after:i,...d.current()})),f+=d.move(i),u()),f+=d.move(")"),l(),f}s(cu,"image");function kv(){return"!"}s(kv,"imagePeek");du.peek=vv;function du(t,e,n,r){let i=t.referenceType,o=n.enter("imageReference"),l=n.enter("label"),u=n.createTracker(r),d=u.move("!["),f=n.safe(t.alt,{before:d,after:"]",...u.current()});d+=u.move(f+"]["),l();let h=n.stack;n.stack=[],l=n.enter("reference");let m=n.safe(n.associationId(t),{before:d,after:"]",...u.current()});return l(),n.stack=h,o(),i==="full"||!f||f!==m?d+=u.move(m+"]"):i==="shortcut"?d=d.slice(0,-1):d+=u.move("]"),d}s(du,"imageReference");function vv(){return"!"}s(vv,"imageReferencePeek");fu.peek=Cv;function fu(t,e,n){let r=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){let l=n.unsafe[o],u=n.compilePattern(l),d;if(l.atBreak)for(;d=u.exec(r);){let f=d.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(d.index+1)}}return i+r+i}s(fu,"inlineCode");function Cv(){return"`"}s(Cv,"inlineCodePeek");function hu(t,e){let n=Gn(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}s(hu,"formatLinkAsAutolink");pu.peek=Ev;function pu(t,e,n,r){let i=Mr(n),o=i==='"'?"Quote":"Apostrophe",l=n.createTracker(r),u,d;if(hu(t,n)){let h=n.stack;n.stack=[],u=n.enter("autolink");let m=l.move("<");return m+=l.move(n.containerPhrasing(t,{before:m,after:">",...l.current()})),m+=l.move(">"),u(),n.stack=h,m}u=n.enter("link"),d=n.enter("label");let f=l.move("[");return f+=l.move(n.containerPhrasing(t,{before:f,after:"](",...l.current()})),f+=l.move("]("),d(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(d=n.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(n.safe(t.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(d=n.enter("destinationRaw"),f+=l.move(n.safe(t.url,{before:f,after:t.title?" ":")",...l.current()}))),d(),t.title&&(d=n.enter(`title${o}`),f+=l.move(" "+i),f+=l.move(n.safe(t.title,{before:f,after:i,...l.current()})),f+=l.move(i),d()),f+=l.move(")"),u(),f}s(pu,"link");function Ev(t,e,n){return hu(t,n)?"<":"["}s(Ev,"linkPeek");mu.peek=Tv;function mu(t,e,n,r){let i=t.referenceType,o=n.enter("linkReference"),l=n.enter("label"),u=n.createTracker(r),d=u.move("["),f=n.containerPhrasing(t,{before:d,after:"]",...u.current()});d+=u.move(f+"]["),l();let h=n.stack;n.stack=[],l=n.enter("reference");let m=n.safe(n.associationId(t),{before:d,after:"]",...u.current()});return l(),n.stack=h,o(),i==="full"||!f||f!==m?d+=u.move(m+"]"):i==="shortcut"?d=d.slice(0,-1):d+=u.move("]"),d}s(mu,"linkReference");function Tv(){return"["}s(Tv,"linkReferencePeek");function Nr(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}s(Nr,"checkBullet");function Ih(t){let e=Nr(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}s(Ih,"checkBulletOther");function Oh(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}s(Oh,"checkBulletOrdered");function ro(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}s(ro,"checkRule");function _h(t,e,n,r){let i=n.enter("list"),o=n.bulletCurrent,l=t.ordered?Oh(n):Nr(n),u=t.ordered?l==="."?")":".":Ih(n),d=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){let h=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),ro(n)===l&&h){let m=-1;for(;++m<t.children.length;){let y=t.children[m];if(y&&y.type==="listItem"&&y.children&&y.children[0]&&y.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(l=u),n.bulletCurrent=l;let f=n.containerFlow(t,r);return n.bulletLastUsed=l,n.bulletCurrent=o,i(),f}s(_h,"list");function Rh(t){let e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}s(Rh,"checkListItemIndent");function Mh(t,e,n,r){let i=Rh(n),o=n.bulletCurrent||Nr(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let l=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);let u=n.createTracker(r);u.move(o+" ".repeat(l-o.length)),u.shift(l);let d=n.enter("listItem"),f=n.indentLines(n.containerFlow(t,u.current()),h);return d(),f;function h(m,y,w){return y?(w?"":" ".repeat(l))+m:(w?o:o+" ".repeat(l-o.length))+m}s(h,"map")}s(Mh,"listItem");function Lh(t,e,n,r){let i=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(t,r);return o(),i(),l}s(Lh,"paragraph");var gu=Dr(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Dh(t,e,n,r){return(t.children.some(function(l){return gu(l)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}s(Dh,"root");function Nh(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}s(Nh,"checkStrong");yu.peek=Sv;function yu(t,e,n,r){let i=Nh(n),o=n.enter("strong"),l=n.createTracker(r),u=l.move(i+i),d=l.move(n.containerPhrasing(t,{after:i,before:u,...l.current()})),f=d.charCodeAt(0),h=Lr(r.before.charCodeAt(r.before.length-1),f,i);h.inside&&(d=gt(f)+d.slice(1));let m=d.charCodeAt(d.length-1),y=Lr(r.after.charCodeAt(0),m,i);y.inside&&(d=d.slice(0,-1)+gt(m));let w=l.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:y.outside,before:h.outside},u+d+w}s(yu,"strong");function Sv(t,e,n){return n.options.strong||"*"}s(Sv,"strongPeek");function $h(t,e,n,r){return n.safe(t.value,r)}s($h,"text");function Bh(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}s(Bh,"checkRuleRepetition");function Vh(t,e,n){let r=(ro(n)+(n.options.ruleSpaces?" ":"")).repeat(Bh(n));return n.options.ruleSpaces?r.slice(0,-1):r}s(Vh,"thematicBreak");var Uh={blockquote:Ah,break:ou,code:Ch,definition:Eh,emphasis:au,hardBreak:ou,heading:Ph,html:uu,image:cu,imageReference:du,inlineCode:fu,link:pu,linkReference:mu,list:_h,listItem:Mh,paragraph:Lh,root:Dh,strong:yu,text:$h,thematicBreak:Vh};var Wh=[Fv];function Fv(t,e,n,r){if(e.type==="code"&&Ti(e,r)&&(t.type==="list"||t.type===e.type&&Ti(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&no(e,r))?void 0:n.spread?1:0}s(Fv,"joinDefaults");var Zn=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],Yh=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Zn},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Zn},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Zn},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Zn},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Zn},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Zn},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Zn},{atBreak:!0,character:"~"}];function zh(t){return t.label||!t.identifier?t.label||"":Xs(t.identifier)}s(zh,"association");function Hh(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}s(Hh,"compilePattern");function jh(t,e,n){let r=e.indexStack,i=t.children||[],o=[],l=-1,u=n.before,d;r.push(-1);let f=e.createTracker(n);for(;++l<i.length;){let h=i[l],m;if(r[r.length-1]=l,l+1<i.length){let v=e.handle.handlers[i[l+1].type];v&&v.peek&&(v=v.peek),m=v?v(i[l+1],t,e,{before:"",after:"",...f.current()}).charAt(0):""}else m=n.after;o.length>0&&(u==="\r"||u===`
`)&&h.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),u=" ",f=e.createTracker(n),f.move(o.join("")));let y=e.handle(h,t,e,{...f.current(),after:m,before:u});d&&d===y.slice(0,1)&&(y=gt(d.charCodeAt(0))+y.slice(1));let w=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,d=void 0,w&&(o.length>0&&w.before&&u===o[o.length-1].slice(-1)&&(o[o.length-1]=o[o.length-1].slice(0,-1)+gt(u.charCodeAt(0))),w.after&&(d=m)),f.move(y),o.push(y),u=y.slice(-1)}return r.pop(),o.join("")}s(jh,"containerPhrasing");function Gh(t,e,n){let r=e.indexStack,i=t.children||[],o=e.createTracker(n),l=[],u=-1;for(r.push(-1);++u<i.length;){let d=i[u];r[r.length-1]=u,l.push(o.move(e.handle(d,t,e,{before:`
`,after:`
`,...o.current()}))),d.type!=="list"&&(e.bulletLastUsed=void 0),u<i.length-1&&l.push(o.move(Pv(d,i[u+1],t,e)))}return r.pop(),l.join("")}s(Gh,"containerFlow");function Pv(t,e,n,r){let i=r.join.length;for(;i--;){let o=r.join[i](t,e,n,r);if(o===!0||o===1)break;if(typeof o=="number")return`
`.repeat(1+o);if(o===!1)return`

<!---->

`}return`

`}s(Pv,"between");var Iv=/\r?\n|\r/g;function qh(t,e){let n=[],r=0,i=0,o;for(;o=Iv.exec(t);)l(t.slice(r,o.index)),n.push(o[0]),r=o.index+o[0].length,i++;return l(t.slice(r)),n.join("");function l(u){n.push(e(u,i,!u))}s(l,"one")}s(qh,"indentLines");function Jh(t,e,n){let r=(n.before||"")+(e||"")+(n.after||""),i=[],o=[],l={},u=-1;for(;++u<t.unsafe.length;){let h=t.unsafe[u];if(!Zs(t.stack,h))continue;let m=t.compilePattern(h),y;for(;y=m.exec(r);){let w="before"in h||!!h.atBreak,v="after"in h,T=y.index+(w?y[1].length:0);i.includes(T)?(l[T].before&&!w&&(l[T].before=!1),l[T].after&&!v&&(l[T].after=!1)):(i.push(T),l[T]={before:w,after:v})}}i.sort(Ov);let d=n.before?n.before.length:0,f=r.length-(n.after?n.after.length:0);for(u=-1;++u<i.length;){let h=i[u];h<d||h>=f||h+1<f&&i[u+1]===h+1&&l[h].after&&!l[h+1].before&&!l[h+1].after||i[u-1]===h-1&&l[h].before&&!l[h-1].before&&!l[h-1].after||(d!==h&&o.push(Kh(r.slice(d,h),"\\")),d=h,/[!-/:-@[-`{-~]/.test(r.charAt(h))&&(!n.encode||!n.encode.includes(r.charAt(h)))?o.push("\\"):(o.push(gt(r.charCodeAt(h))),d++))}return o.push(Kh(r.slice(d,f),n.after)),o.join("")}s(Jh,"safe");function Ov(t,e){return t-e}s(Ov,"numerical");function Kh(t,e){let n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=t+e,l=-1,u=0,d;for(;d=n.exec(o);)r.push(d.index);for(;++l<r.length;)u!==r[l]&&i.push(t.slice(u,r[l])),i.push("\\"),u=r[l];return i.push(t.slice(u)),i.join("")}s(Kh,"escapeBackslashes");function Xh(t){let e=t||{},n=e.now||{},r=e.lineShift||0,i=n.line||1,o=n.column||1;return{move:d,current:l,shift:u};function l(){return{now:{line:i,column:o},lineShift:r}}function u(f){r+=f}function d(f){let h=f||"",m=h.split(/\r?\n|\r/g),y=m[m.length-1];return i+=m.length-1,o=m.length===1?o+y.length:1+y.length+r,h}}s(Xh,"track");function wu(t,e){let n=e||{},r={associationId:zh,containerPhrasing:Lv,containerFlow:Dv,createTracker:Xh,compilePattern:Hh,enter:o,handlers:{...Uh},handle:void 0,indentLines:qh,indexStack:[],join:[...Wh],options:{},safe:Nv,stack:[],unsafe:[...Yh]};su(r,n),r.options.tightDefinitions&&r.join.push(Mv),r.handle=wh("type",{invalid:_v,unknown:Rv,handlers:r.handlers});let i=r.handle(t,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function o(l){return r.stack.push(l),u;function u(){r.stack.pop()}s(u,"exit")}s(o,"enter")}s(wu,"toMarkdown");function _v(t){throw new Error("Cannot handle value `"+t+"`, expected node")}s(_v,"invalid");function Rv(t){let e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}s(Rv,"unknown");function Mv(t,e){if(t.type==="definition"&&t.type===e.type)return 0}s(Mv,"joinDefinition");function Lv(t,e){return jh(t,this,e)}s(Lv,"containerPhrasingBound");function Dv(t,e){return Gh(t,this,e)}s(Dv,"containerFlowBound");function Nv(t,e){return Jh(this,t,e)}s(Nv,"safeBound");function io(t){let e=this;e.compiler=n;function n(r){return wu(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}s(n,"compiler")}s(io,"remarkStringify");function bu(t){if(t)throw t}s(bu,"bail");var lo=Ve(op(),1);function Fi(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}s(Fi,"isPlainObject");function Au(){let t=[],e={run:n,use:r};return e;function n(...i){let o=-1,l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...i);function u(d,...f){let h=t[++o],m=-1;if(d){l(d);return}for(;++m<i.length;)(f[m]===null||f[m]===void 0)&&(f[m]=i[m]);i=f,h?ap(h,u)(...f):l(null,...f)}s(u,"next")}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}s(Au,"trough");function ap(t,e){let n;return r;function r(...l){let u=t.length>l.length,d;u&&l.push(i);try{d=t.apply(this,l)}catch(f){let h=f;if(u&&n)throw h;return i(h)}u||(d&&d.then&&typeof d.then=="function"?d.then(o,i):d instanceof Error?i(d):o(d))}function i(l,...u){n||(n=!0,e(l,...u))}function o(l){i(null,l)}}s(ap,"wrap");var $e=class extends Error{static{s(this,"VFileMessage")}constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(l=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){let d=r.indexOf(":");d===-1?o.ruleId=r:(o.source=r.slice(0,d),o.ruleId=r.slice(d+1))}if(!o.place&&o.ancestors&&o.ancestors){let d=o.ancestors[o.ancestors.length-1];d&&(o.place=d.position)}let u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=Pn(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}};$e.prototype.file="";$e.prototype.name="";$e.prototype.reason="";$e.prototype.message="";$e.prototype.stack="";$e.prototype.column=void 0;$e.prototype.line=void 0;$e.prototype.ancestors=void 0;$e.prototype.cause=void 0;$e.prototype.fatal=void 0;$e.prototype.place=void 0;$e.prototype.ruleId=void 0;$e.prototype.source=void 0;var Et=Ve(require("node:path"),1);var xu=Ve(require("node:process"),1);var ku=require("node:url");function oo(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}s(oo,"isUrl");var vu=["history","path","basename","stem","extname","dirname"],Pi=class{static{s(this,"VFile")}constructor(e){let n;e?oo(e)?n={path:e}:typeof e=="string"||$v(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":xu.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<vu.length;){let o=vu[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)vu.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Et.default.basename(this.path):void 0}set basename(e){Eu(e,"basename"),Cu(e,"basename"),this.path=Et.default.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Et.default.dirname(this.path):void 0}set dirname(e){lp(this.basename,"dirname"),this.path=Et.default.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Et.default.extname(this.path):void 0}set extname(e){if(Cu(e,"extname"),lp(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Et.default.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){oo(e)&&(e=(0,ku.fileURLToPath)(e)),Eu(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Et.default.basename(this.path,this.extname):void 0}set stem(e){Eu(e,"stem"),Cu(e,"stem"),this.path=Et.default.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){let i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){let i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){let i=new $e(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function Cu(t,e){if(t&&t.includes(Et.default.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Et.default.sep+"`")}s(Cu,"assertPart");function Eu(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}s(Eu,"assertNonEmpty");function lp(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}s(lp,"assertPath");function $v(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}s($v,"isUint8Array");var up=s((function(t){let r=this.constructor.prototype,i=r[t],o=s(function(){return i.apply(o,arguments)},"apply");return Object.setPrototypeOf(o,r),o}),"CallableInstance");var Bv={}.hasOwnProperty,Pu=class t extends up{static{s(this,"Processor")}constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Au()}copy(){let e=new t,n=-1;for(;++n<this.attachers.length;){let r=this.attachers[n];e.use(...r)}return e.data((0,lo.default)(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Fu("data",this.frozen),this.namespace[e]=n,this):Bv.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Fu("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);let i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let n=ao(e),r=this.parser||this.Parser;return Tu("parse",r),r(String(n),n)}process(e,n){let r=this;return this.freeze(),Tu("process",this.parser||this.Parser),Su("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){let u=ao(e),d=r.parse(u);r.run(d,u,function(h,m,y){if(h||!m||!y)return f(h);let w=m,v=r.stringify(w,y);Uv(v)?y.value=v:y.result=v,f(h,y)});function f(h,m){h||!m?l(h):o?o(m):n(void 0,m)}s(f,"realDone")}s(i,"executor")}processSync(e){let n=!1,r;return this.freeze(),Tu("processSync",this.parser||this.Parser),Su("processSync",this.compiler||this.Compiler),this.process(e,i),dp("processSync","process",n),r;function i(o,l){n=!0,bu(o),r=l}s(i,"realDone")}run(e,n,r){cp(e),this.freeze();let i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,u){let d=ao(n);i.run(e,d,f);function f(h,m,y){let w=m||e;h?u(h):l?l(w):r(void 0,w,y)}s(f,"realDone")}s(o,"executor")}runSync(e,n){let r=!1,i;return this.run(e,n,o),dp("runSync","run",r),i;function o(l,u){bu(l),i=u,r=!0}s(o,"realDone")}stringify(e,n){this.freeze();let r=ao(n),i=this.compiler||this.Compiler;return Su("stringify",i),cp(e),i(e,r)}use(e,...n){let r=this.attachers,i=this.namespace;if(Fu("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){let[h,...m]=f;d(h,m)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(i.settings=(0,lo.default)(!0,i.settings,f.settings))}function u(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){let m=f[h];o(m)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,h){let m=-1,y=-1;for(;++m<r.length;)if(r[m][0]===f){y=m;break}if(y===-1)r.push([f,...h]);else if(h.length>0){let[w,...v]=h,T=r[y][1];Fi(T)&&Fi(w)&&(w=(0,lo.default)(!0,T,w)),r[y]=[f,w,...v]}}}},Iu=new Pu().freeze();function Tu(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}s(Tu,"assertParser");function Su(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}s(Su,"assertCompiler");function Fu(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}s(Fu,"assertUnfrozen");function cp(t){if(!Fi(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}s(cp,"assertNode");function dp(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}s(dp,"assertDone");function ao(t){return Vv(t)?t:new Pi(t)}s(ao,"vfile");function Vv(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}s(Vv,"looksLikeAVFile");function Uv(t){return typeof t=="string"||Wv(t)}s(Uv,"looksLikeAValue");function Wv(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}s(Wv,"isUint8Array");var fp=Iu().use(Rr).use(io).freeze();var _u={d:s((t,e)=>{for(var n in e)_u.o(e,n)&&!_u.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},"d"),o:s((t,e)=>Object.prototype.hasOwnProperty.call(t,e),"o")},Ru={};_u.d(Ru,{Z:s(()=>jv,"Z"),$:s(()=>gp,"$")});var $r={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function hp(t){return t<$r.nul||t===$r.space}s(hp,"n");function Ou(t){return t<$r.horizontalTab}s(Ou,"i");var Yv={553:t=>{t.exports=function(e){var n,r;return e._compiled||(n=e.before?"(?:"+e.before+")":"",r=e.after?"(?:"+e.after+")":"",e.atBreak&&(n="[\\r\\n][\\t ]*"+n),e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(r||""),"g")),e._compiled}},112:t=>{function e(n,r,i){var o;if(!r)return i;for(typeof r=="string"&&(r=[r]),o=-1;++o<r.length;)if(n.indexOf(r[o])!==-1)return!0;return!1}s(e,"t"),t.exports=function(n,r){return e(n,r.inConstruct,!0)&&!e(n,r.notInConstruct)}},113:(t,e,n)=>{t.exports=function(u,d,f){for(var h,m,y,w,v,T,S,E,P=(f.before||"")+(d||"")+(f.after||""),_=[],D=[],z={},F=-1;++F<u.unsafe.length;)if(w=u.unsafe[F],i(u.stack,w))for(v=r(w);T=v.exec(P);)h="before"in w||w.atBreak,m="after"in w,y=T.index+(h?T[1].length:0),_.indexOf(y)===-1?(_.push(y),z[y]={before:h,after:m}):(z[y].before&&!h&&(z[y].before=!1),z[y].after&&!m&&(z[y].after=!1));for(_.sort(o),S=f.before?f.before.length:0,E=P.length-(f.after?f.after.length:0),F=-1;++F<_.length;)(y=_[F])<S||y>=E||y+1<E&&_[F+1]===y+1&&z[y].after&&!z[y+1].before&&!z[y+1].after||(S!==y&&D.push(l(P.slice(S,y),"\\")),S=y,!/[!-/:-@[-`{-~]/.test(P.charAt(y))||f.encode&&f.encode.indexOf(P.charAt(y))!==-1?(D.push("&#x"+P.charCodeAt(y).toString(16).toUpperCase()+";"),S++):D.push("\\"));return D.push(l(P.slice(S,E),f.after)),D.join("")};var r=n(553),i=n(112);function o(u,d){return u-d}s(o,"a");function l(u,d){for(var f,h=/\\(?=[!-/:-@[-`{-~])/g,m=[],y=[],w=-1,v=0,T=u+d;f=h.exec(T);)m.push(f.index);for(;++w<m.length;)v!==m[w]&&y.push(u.slice(v,m[w])),y.push("\\"),v=m[w];return y.push(u.slice(v)),y.join("")}s(l,"o")}},pp={};function Gt(t){var e=pp[t];if(e!==void 0)return e.exports;var n=pp[t]={exports:{}};return Yv[t](n,n.exports,Gt),n.exports}s(Gt,"s");Gt.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return Gt.d(e,{a:e}),e},Gt.d=(t,e)=>{for(var n in e)Gt.o(e,n)&&!Gt.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},Gt.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Mu={};(()=>{function t(i={}){let o=i.permalinks||[],l=i.pageResolver||(y=>[y.replace(/ /g,"_").toLowerCase()]),u=i.newClassName||"new",d=i.wikiLinkClassName||"internal",f=i.hrefTemplate||(y=>`#/page/${y}`),h;function m(y){return y[y.length-1]}return s(m,"s"),{enter:{wikiLink:s(function(y){h={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(h,y)},"wikiLink")},exit:{wikiLinkTarget:s(function(y){let w=this.sliceSerialize(y);m(this.stack).value=w},"wikiLinkTarget"),wikiLinkAlias:s(function(y){let w=this.sliceSerialize(y);m(this.stack).data.alias=w},"wikiLinkAlias"),wikiLink:s(function(y){this.exit(y);let w=h,v=l(w.value),T=v.find((D=>o.indexOf(D)!==-1)),S=T!==void 0,E;E=S?T:v[0]||"";let P=w.value;w.data.alias&&(P=w.data.alias);let _=d;S||(_+=" "+u),w.data.alias=P,w.data.permalink=E,w.data.exists=S,w.data.hName="a",w.data.hProperties={className:_,href:f(E)},w.data.hChildren=[{type:"text",value:P}]},"wikiLink")}}}s(t,"e"),Gt.d(Mu,{V:s(()=>t,"V"),x:s(()=>r,"x")});var e=Gt(113),n=Gt.n(e);function r(i={}){let o=i.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:s(function(l,u,d){let f=d.enter("wikiLink"),h=n()(d,l.value,{before:"[",after:"]"}),m=n()(d,l.data.alias,{before:"[",after:"]"}),y;return y=m!==h?`[[${h}${o}${m}]]`:`[[${h}]]`,f(),y},"wikiLink")}}}s(r,"n")})();var zv=Mu.V,Hv=Mu.x,mp=!1;function gp(t={}){let e=this.data();function n(r,i){e[r]?e[r].push(i):e[r]=[i]}s(n,"a"),!mp&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(mp=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",(function(){var r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",i="]]";return{text:{91:{tokenize:s(function(o,l,u){var d,f,h=0,m=0,y=0;return function(P){return P!=="[[".charCodeAt(m)?u(P):(o.enter("wikiLink"),o.enter("wikiLinkMarker"),w(P))};function w(P){return m===2?(o.exit("wikiLinkMarker"),(function(_){return Ou(_)||_===$r.eof?u(_):(o.enter("wikiLinkData"),o.enter("wikiLinkTarget"),v(_))})(P)):P!=="[[".charCodeAt(m)?u(P):(o.consume(P),m++,w)}function v(P){return P===r.charCodeAt(h)?d?(o.exit("wikiLinkTarget"),o.enter("wikiLinkAliasMarker"),T(P)):u(P):P===i.charCodeAt(y)?d?(o.exit("wikiLinkTarget"),o.exit("wikiLinkData"),o.enter("wikiLinkMarker"),E(P)):u(P):Ou(P)||P===$r.eof?u(P):(hp(P)||(d=!0),o.consume(P),v)}function T(P){return h===r.length?(o.exit("wikiLinkAliasMarker"),o.enter("wikiLinkAlias"),S(P)):P!==r.charCodeAt(h)?u(P):(o.consume(P),h++,T)}function S(P){return P===i.charCodeAt(y)?f?(o.exit("wikiLinkAlias"),o.exit("wikiLinkData"),o.enter("wikiLinkMarker"),E(P)):u(P):Ou(P)||P===$r.eof?u(P):(hp(P)||(f=!0),o.consume(P),S)}function E(P){return y===2?(o.exit("wikiLinkMarker"),o.exit("wikiLink"),l(P)):P!==i.charCodeAt(y)?u(P):(o.consume(P),y++,E)}},"tokenize")}}}})(t)),n("fromMarkdownExtensions",zv(t)),n("toMarkdownExtensions",Hv(t))}s(gp,"k");var jv=gp,rN=Ru.Z,yp=Ru.$;s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Gv=/^[A-Za-z][A-Za-z0-9+\-.]*:\S+$/;function Lu(t){if(/\s/.test(t))return!1;if(t.includes("://"))try{return new URL(t),!0}catch{return!1}return Gv.test(t)}s(Lu,"isUrl");var Qn=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function uo(t){let e=(0,Qn.getFrontMatterInfo)(t);return(0,Qn.parseYaml)(e.frontmatter)??{}}s(uo,"parseFrontmatter");function wp(t,e){let n=(0,Qn.getFrontMatterInfo)(t);if(Object.keys(e).length===0)return t.slice(n.contentStart);let r=(0,Qn.stringifyYaml)(e);return n.exists?tf(t,r,n.from,n.to):`---
${r}---
${t}`}s(wp,"setFrontmatter");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function yt(t){if(!pt(t))return!1;let e=t;return e.startOffset!==void 0&&e.endOffset!==void 0}s(yt,"isFrontmatterLinkCacheWithOffsets");function co(t){return yt(t)?t:{...t,endOffset:t.original.length,startOffset:0}}s(co,"toFrontmatterLinkCacheWithOffsets");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function bp(t){return Du(t)&&t.type==="file"}s(bp,"isCanvasFileNodeReference");function Du(t){return pt(t)&&!!t.isCanvas}s(Du,"isCanvasReference");function Br(t,e){return{newContent:e,oldContent:t.original,reference:t}}s(Br,"referenceToFileChange");function Ap(t){return t.sort((e,n)=>{if(pt(e)&&pt(n)){let r=yt(e)?e.startOffset:0,i=yt(n)?n.startOffset:0;return e.key.localeCompare(n.key)||Number(yt(n))-Number(yt(e))||r-i}return fn(e)&&fn(n)?e.position.start.offset-n.position.start.offset:pt(e)?1:-1})}s(Ap,"sortReferences");var xp=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function kp(t,e,n){let r=We(t,e),i=vt(n);await fo(t,i);let o=vp(t,n);try{await t.vault.copy(r,o)}catch(l){if(!await t.vault.exists(o))throw l}return o}s(kp,"copySafe");async function fo(t,e){if(await t.vault.adapter.exists(e))return!1;try{return await t.vault.createFolder(e),!0}catch(n){if(!await t.vault.exists(e))throw n;return!0}}s(fo,"createFolderSafe");function vp(t,e){let n=Ge(e);return t.vault.getAvailablePath(Te(Ce(e),Ie(e,n)),n.slice(1))}s(vp,"getAvailablePath");function Nu(t,e,n){let r=Se(t,e);if(t.vault.adapter.insensitive){let i=Ce(n),o=Ie(n),l;for(;l=Ht(t,i,!0),!l;)o=Te(Ie(i),o),i=Ce(i);n=Te(l.getParentPrefix(),o)}return r.toLowerCase()===n.toLowerCase()?n:vp(t,n)}s(Nu,"getSafeRenamePath");async function $u(t,e){let n=await Bu(t,Se(t,e));return n.files.length===0&&n.folders.length===0}s($u,"isEmptyFolder");async function Bu(t,e){let n=Se(t,e),r={files:[],folders:[]};if((await t.vault.adapter.stat(n))?.type!=="folder")return r;try{return await t.vault.adapter.list(n)}catch(i){if(await t.vault.exists(n))throw i;return r}}s(Bu,"listSafe");async function ho(t,e,n,r={}){let o={...{shouldFailOnMissingFile:!0},...r};await Fs(async l=>{l.throwIfAborted();let u=await Vu(t,e);if(l.throwIfAborted(),u===null)return m();let d=await Hn(n,l,u);if(l.throwIfAborted(),d===null)return!1;let f=!0;if(!await Cp(t,e,async y=>{l.throwIfAborted(),await t.vault.process(y,w=>(l.throwIfAborted(),w!==u?(console.warn("Content has changed since it was read. Retrying...",{actualContent:w,expectedContent:u,path:y.path}),f=!1,w):d)),l.throwIfAborted()}))return m();return f;function m(){if(o.shouldFailOnMissingFile){let y=Se(t,e);throw new Error(`File '${y}' not found`)}return!0}},o)}s(ho,"process");async function Vu(t,e){let n=null;return await Cp(t,e,async r=>{n=await t.vault.read(r)}),n}s(Vu,"readSafe");async function po(t,e,n){let r=We(t,e,!1,!0),i=Nu(t,e,n);if(r.path.toLowerCase()===i.toLowerCase())return r.path!==n&&await t.vault.rename(r,i),i;let o=vt(i);await fo(t,o);try{await t.vault.rename(r,i)}catch(l){if(!await t.vault.exists(i)||await t.vault.exists(r.path))throw l}return i}s(po,"renameSafe");async function Uu(t,e){if(!mn(t,e))return;let n=Se(t,e);for(let r of t.workspace.getLeavesOfType(pi.Markdown))r.view instanceof xp.MarkdownView&&r.view.file?.path===n&&r.view.dirty&&await r.view.save()}s(Uu,"saveNote");async function Cp(t,e,n){let r=Se(t,e),i=Me(t,r);if(!i||i.deleted)return!1;try{return await n(i),!0}catch(o){if(i=Me(t,r),!i||i.deleted)return!1;throw o}}s(Cp,"invokeFileActionSafe");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function yo(t,e,n,r,i=!0){t.throwIfAborted();let o=await Hn(r,t,e);if(t.throwIfAborted(),o===null)return null;let{frontmatter:l,hasFrontmatterError:u}=tC(e,n);if(!sC(o,e,l,n,i))return i?null:e;if(o=rC(o),!iC(o))return null;let{frontmatterChanged:d,newContent:f}=Zv(o,e,u,n);return await Qv(t,l,d,n),t.throwIfAborted(),eC(f,l,d)}s(yo,"applyContentChanges");async function wo(t,e,n,r={},i=!0){await ho(t,e,async(o,l)=>pn(t,e)?await Xv(o,l,Se(t,e),n,i):await yo(o,l,Se(t,e),n,i),r)}s(wo,"applyFileChanges");function Ii(t){return Du(t.reference)}s(Ii,"isCanvasChange");function qv(t){return Ii(t)&&t.reference.type==="file"}s(qv,"isCanvasFileNodeChange");function Kv(t){return Ii(t)&&t.reference.type==="text"}s(Kv,"isCanvasTextNodeChange");function wn(t){return fn(t.reference)}s(wn,"isContentChange");function mo(t){return pt(t.reference)}s(mo,"isFrontmatterChange");function go(t){return yt(t.reference)}s(go,"isFrontmatterChangeWithOffsets");function Jv(t){return go(t)?t:{...t,reference:co(t.reference)}}s(Jv,"toFrontmatterChangeWithOffsets");async function Xv(t,e,n,r,i=!0){let o=await Hn(r,t,e);if(t.throwIfAborted(),o===null)return null;let l=nC(e),u=new Map;for(let d of o){if(!Ii(d))return console.warn("Only canvas changes are supported for canvas files",{change:d,path:n}),null;let f=l.nodes[d.reference.nodeIndex];if(!f)return console.warn("Node not found",{nodeIndex:d.reference.nodeIndex,path:n}),null;if(qv(d)){if(f.file!==d.oldContent)return console.warn("Content mismatch",{actualContent:f.file,expectedContent:d.oldContent,nodeIndex:d.reference.nodeIndex,path:n,type:"file"}),null;f.file=d.newContent}else if(Kv(d)){let h=u.get(d.reference.nodeIndex);h||(h=[],u.set(d.reference.nodeIndex,h)),h.push(d)}}for(let[d,f]of u.entries()){let h=l.nodes[d];if(!h)return console.warn("Node not found",{nodeIndex:d,path:n}),null;if(typeof h.text!="string")return console.warn("Node text is not a string",{nodeIndex:d,path:n}),null;let m=f.map(y=>Br(y.reference.originalReference,y.newContent));h.text=await yo(t,h.text,`${n}.node${String(d)}.VIRTUAL_FILE.md`,m,i)}return JSON.stringify(l,null,"	")}s(Xv,"applyCanvasChanges");function Zv(t,e,n,r){let i="",o=0,l=new Map;for(let u of t)if(wn(u))i+=e.slice(o,u.reference.position.start.offset),i+=u.newContent,o=u.reference.position.end.offset;else if(mo(u))if(n)console.error(`Cannot apply frontmatter change in ${r}, because frontmatter parsing failed`,{change:u});else{let d=l.get(u.reference.key);d||(d=[],l.set(u.reference.key,d)),d.push(Jv(u))}return i+=e.slice(o),{frontmatterChanged:l,newContent:i}}s(Zv,"applyContentChangesToText");async function Qv(t,e,n,r){for(let[i,o]of n.entries()){let l=Tn(e,i);if(typeof l!="string")return;let u=o.map(f=>({newContent:f.newContent,oldContent:f.oldContent,reference:{link:"",original:"",position:{end:{col:f.reference.endOffset,line:0,offset:f.reference.endOffset},start:{col:f.reference.startOffset,line:0,offset:f.reference.startOffset}}}})),d=await yo(t,l,`${r}.frontmatter.${i}.VIRTUAL_FILE.md`,u);if(d===null)return;af(e,i,d)}}s(Qv,"applyFrontmatterChangesWithOffsets");function eC(t,e,n){return n.size>0?wp(t,e):t}s(eC,"buildFinalContent");function tC(t,e){let n={},r=!1;try{n=uo(t)}catch(i){console.error(new Error(`Frontmatter parsing failed in ${e}`,{cause:i})),r=!0}return{frontmatter:n,hasFrontmatterError:r}}s(tC,"parseFrontmatterSafely");function nC(t){let e;try{e=JSON.parse(t)}catch{e=null}return(e===null||typeof e!="object")&&(e={}),e}s(nC,"parseJsonSafe");function rC(t){return t.sort((e,n)=>wn(e)&&wn(n)?e.reference.position.start.offset-n.reference.position.start.offset:go(e)&&go(n)?e.reference.key.localeCompare(n.reference.key)||e.reference.startOffset-n.reference.startOffset:mo(e)&&mo(n)?e.reference.key.localeCompare(n.reference.key):wn(e)?-1:1),t.filter((e,n)=>e.oldContent===e.newContent?!1:n===0?!0:!xt(e,t[n-1]))}s(rC,"sortAndFilterChanges");function iC(t){for(let e=1;e<t.length;e++){let n=t[e];if(!n)continue;let r=t[e-1];if(r&&wn(r)&&wn(n)&&r.reference.position.end.offset&&r.reference.position.end.offset>n.reference.position.start.offset)return console.warn("Overlapping changes",{change:n,previousChange:r}),!1}return!0}s(iC,"validateChangeOverlaps");function sC(t,e,n,r,i){let o=br("FileChange:validateChanges"),l=i?console.warn.bind(console):o;for(let u of t)if(wn(u)){let d=u.reference.position.start.offset,f=u.reference.position.end.offset,h=e.slice(d,f);if(h!==u.oldContent)return l("Content mismatch",{actualContent:h,endOffset:f,expectedContent:u.oldContent,path:r,startOffset:d}),!1}else if(go(u)){let d=Tn(n,u.reference.key);if(typeof d!="string")return l("Property value is not a string",{frontmatterKey:u.reference.key,path:r,propertyValue:d}),!1;let f=d.slice(u.reference.startOffset,u.reference.endOffset);if(f!==u.oldContent)return l("Content mismatch",{actualContent:f,expectedContent:u.oldContent,frontmatterKey:u.reference.key,path:r,startOffset:u.reference.startOffset}),!1}else if(mo(u)){let d=Tn(n,u.reference.key);if(d!==u.oldContent)return l("Content mismatch",{actualContent:d,expectedContent:u.oldContent,frontmatterKey:u.reference.key,path:r}),!1}return!0}s(sC,"validateChanges");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Ep(t){await new Promise(e=>{t.metadataCache.onCleanCache(e)})}s(Ep,"ensureMetadataCacheReady");function On(t){let e=[];return t.links&&e.push(...t.links),t.embeds&&e.push(...t.embeds),t.frontmatterLinks&&e.push(...t.frontmatterLinks),Ap(e),e=e.filter((n,r)=>{if(r===0)return!0;let i=e[r-1];if(!i)return!0;if(fn(n)&&fn(i))return n.position.start.offset!==i.position.start.offset;if(pt(n)&&pt(i)){let o=yt(n)?n.startOffset:0,l=yt(i)?i.startOffset:0;return n.key!==i.key||yt(n)!==yt(i)||o!==l}return!0}),e}s(On,"getAllLinks");function Wu(t,e){let n=We(t,e,!0);return Oi(t,[n],()=>t.metadataCache.getBacklinksForFile(n))}s(Wu,"getBacklinksForFileOrPath");async function bn(t,e,n={}){let r=t.metadataCache.getBacklinksForFile.safe;if(r)return r(e);let i=new lf;return await Fs(async o=>{o.throwIfAborted();let l=We(t,e);await Ep(t),o.throwIfAborted(),i=Wu(t,l);for(let u of i.keys()){o.throwIfAborted();let d=Me(t,u);if(!d)return!1;await Uu(t,d),o.throwIfAborted();let f=await Vu(t,d);if(o.throwIfAborted(),!f)return!1;let h=uo(f),m=i.get(u);if(!m)return!1;for(let y of m){let w;if(fn(y))w=f.slice(y.position.start.offset,y.position.end.offset);else if(pt(y)){let v=Tn(h,y.key);if(typeof v!="string")return!1;let T=co(y);w=v.slice(T.startOffset,T.endOffset)}else return!0;if(w!==y.original)return!1}}return!0},n),i}s(bn,"getBacklinksForFileSafe");async function Vr(t,e){let n=Me(t,e);try{if(!n||n.deleted)return null;await Uu(t,n);let r=t.metadataCache.fileCache[n.path];return r&&r.mtime===n.stat.mtime&&r.size===n.stat.size&&t.metadataCache.metadataCache[r.hash]||(await t.metadataCache.computeFileMetadataAsync(n),await Ep(t)),t.metadataCache.getFileCache(n)}catch(r){if(!n||n.deleted)return null;throw r}}s(Vr,"getCacheSafe");function oC(t,e){let n=new Set;for(let r of e){if(!r.deleted)continue;let i=r;for(;i.deleted;)n.add(i.path),t.vault.fileMap[i.path]=i,i=i.parent??mi(t,vt(i.path),!0);Ct(r)&&t.metadataCache.uniqueFileLookup.add(r.name.toLowerCase(),r)}return()=>{for(let r of n)delete t.vault.fileMap[r];for(let r of e)r.deleted&&Ct(r)&&t.metadataCache.uniqueFileLookup.remove(r.name.toLowerCase(),r)}}s(oC,"registerFiles");function Oi(t,e,n){let r=oC(t,e);try{return n()}finally{r()}}s(Oi,"tempRegisterFilesAndRun");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Tp(t){return t.vault.getConfig("newLinkFormat")==="relative"}s(Tp,"shouldUseRelativeLinks");function Yu(t){return!t.vault.getConfig("useMarkdownLinks")}s(Yu,"shouldUseWikilinks");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var aC="\\|",lC=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,uC=/[\\[\]<>_*~=`$]/g,Pp=/(?<!\\)\|/g,Ip="|",zu=(t=>(t.Markdown="Markdown",t.ObsidianSettingsDefault="ObsidianSettingsDefault",t.PreserveExisting="PreserveExisting",t.Wikilink="Wikilink",t))(zu||{});function cC(t){let e=Ur(t.app,t.link,t.oldSourcePathOrFile??t.newSourcePathOrFile);return e?Mi({app:t.app,link:t.link,linkStyle:t.linkStyle,newSourcePathOrFile:t.newSourcePathOrFile,newTargetPathOrFile:e,oldSourcePathOrFile:t.oldSourcePathOrFile,shouldUpdateFileNameAlias:t.shouldUpdateFileNameAlias}):t.link.original}s(cC,"convertLink");async function Hu(t,e,n,r={}){await wo(t,e,async(i,o)=>{let l=await Vr(t,e);i.throwIfAborted();let u=We(t,e),d=await t.vault.cachedRead(u);return i.throwIfAborted(),o!==d?null:await wC(l,pn(t,e),n,i)},r)}s(Hu,"editLinks");function _i(t){return Ee(t,lC,({substring:e})=>encodeURIComponent(e))}s(_i,"encodeUrl");function Ur(t,e,n,r=!1){let{linkPath:i}=Op(e.link),o=Se(t,n),l=t.metadataCache.getFirstLinkpathDest(i,o);if(l)return l;if(!r)return null;if(i.startsWith("/"))return We(t,i,!0);let u=Te(Ce(o),`./${i}`);return u.startsWith("../")?null:We(t,u,!0)}s(Ur,"extractLinkFile");function ju(t){let{app:e}=t,r=(e.fileManager.generateMarkdownLink.defaultOptionsFn??(()=>({})))();t={...{isEmptyEmbedAliasAllowed:!0},...r,...t};let o=We(e,t.targetPathOrFile,t.isNonExistingFileAllowed);return Oi(e,[o],()=>mC(t))}s(ju,"generateMarkdownLink");function Ri(t){let e=dC(t);return e[0]?.raw===t?e[0]:null}s(Ri,"parseLink");function dC(t){let e=new Set,n="![",r=" [",i=Ee(t,n,h=>(e.add(h.offset),r)),l=fp().use(Rr).use(yp,{aliasDivider:Ip}).parse(i),u=[],d=[];Si(l,h=>{let m;switch(h.type){case"link":m=AC(h,t);break;case"wikiLink":m=xC(h,t);break;default:return}e.has(m.startOffset-1)&&(m.isEmbed=!0,m.startOffset--,m.raw=`!${m.raw}`),u.push(m)}),u.sort((h,m)=>h.startOffset-m.startOffset);let f=0;for(let h of u)Sp(t,f,h.startOffset-1,d),f=h.endOffset+1;return Sp(t,f,t.length-1,d),u.push(...d),u.sort((h,m)=>h.startOffset-m.startOffset),u}s(dC,"parseLinks");function fC(t){let{app:e,displayText:n,isWikilink:r,newSourcePathOrFile:i,oldSourcePathOrFile:o,oldTargetPath:l,targetPathOrFile:u}=t;if(r===!1)return!1;if(!n)return!0;let d=We(e,u,!0),f=Se(e,i),h=Se(e,o??i),m=Ce(f),y=Ce(h),w=new Set;for(let T of[d.path,l]){if(!T)continue;let S=Se(e,T);w.add(S),w.add(Ie(S)),w.add(Tr(m,S)),w.add(Tr(y,S))}for(let T of[h,f])w.add(e.metadataCache.fileToLinktext(d,T,!1));let v=Ee((0,bo.normalizePath)(n.split(" > ")[0]??""),/^\.\//g,"").toLowerCase();for(let T of w){if(T.toLowerCase()===v)return!0;let S=Ce(T),E=Ie(T,Ge(T));if(Te(S,E).toLowerCase()===v)return!0}return!1}s(fC,"shouldResetAlias");function Op(t){let e=(0,bo.parseLinktext)(hi(t));return{linkPath:e.path,subpath:e.subpath}}s(Op,"splitSubpath");function Gu(t){return Ri(t)?.hasAngleBrackets??!1}s(Gu,"testAngleBrackets");function _p(t){return Ri(t)?.isEmbed??!1}s(_p,"testEmbed");function hC(t){return Ri(t)?.url.startsWith("./")??!1}s(hC,"testLeadingDot");function qu(t){return Ri(t)?.isWikilink??!1}s(qu,"testWikilink");function Mi(t){let{app:e,link:n,linkStyle:r,newSourcePathOrFile:i,newTargetPathOrFile:o,oldSourcePathOrFile:l,oldTargetPathOrFile:u,shouldUpdateFileNameAlias:d}=t;if(!o)return n.original;let f=We(e,o,!0),h=Se(e,l??i),m=Se(e,u??o),y=Lp(e,n.original,r),{subpath:w}=Op(n.link),v=!d;if(pn(e,i)&&bp(n))return f.path+w;let T=Ri(n.original),S;return y&&T?.alias&&(S=T.alias,v=!0),S??=fC({app:e,displayText:n.displayText,isWikilink:y,newSourcePathOrFile:i,oldSourcePathOrFile:l,oldTargetPath:m,targetPathOrFile:f})?void 0:T?.alias,v||(S===Ie(m,Ge(m))?S=f.basename:S===Ie(m)&&(S=f.name)),ju({alias:S,app:e,isSingleSubpathAllowed:h===m&&!!T?.alias,linkStyle:r,originalLink:n.original,sourcePathOrFile:i,subpath:w,targetPathOrFile:f})}s(Mi,"updateLink");async function Rp(t){let{app:e,linkStyle:n,newSourcePathOrFile:r,oldSourcePathOrFile:i,shouldUpdateEmbedOnlyLinks:o,shouldUpdateFileNameAlias:l}=t;pn(e,r)&&!e.internalPlugins.getEnabledPluginById(kt.Canvas)||await Hu(e,r,u=>{let d=_p(u.original);if(!(o!==void 0&&o!==d))return cC({app:e,link:u,linkStyle:n,newSourcePathOrFile:r,oldSourcePathOrFile:i,shouldUpdateFileNameAlias:l})},t)}s(Rp,"updateLinksInFile");function Sp(t,e,n,r){if(e>n)return;let i=t.slice(e,n+1);Ee(i,/(?<Url>\S+)/g,(o,l)=>{Lu(l)&&r.push({encodedUrl:_i(l),endOffset:e+o.offset+l.length,hasAngleBrackets:!1,isEmbed:!1,isExternal:!0,isWikilink:!1,raw:l,startOffset:e+o.offset,url:l})})}s(Sp,"extractTextLinks");function pC(t,e,n,r,i){n==="/"&&(n="");let o;return e.path===n&&r&&i.isSingleSubpathAllowed?o=r:i.shouldForceRelativePath?o=Tr(Ce(n),i.isWikilink?bf(t,e):e.path)+r:o=t.metadataCache.fileToLinktext(e,n,i.isWikilink)+r,i.shouldForceRelativePath&&i.shouldUseLeadingDot&&!o.startsWith(".")&&!o.startsWith("#")&&(o=`./${o}`),o}s(pC,"generateLinkText");function mC(t){let{app:e}=t,n=We(e,t.targetPathOrFile,t.isNonExistingFileAllowed),r=Se(e,t.sourcePathOrFile),i=t.subpath??"",o=bC(t,n),l=pC(e,n,r,i,o);return o.isWikilink?yC(l,t.alias,o.isEmbed):gC(l,n,t,o)}s(mC,"generateMarkdownLinkImpl");function gC(t,e,n,r){let{app:i}=n,o=r.isEmbed?"!":"",l=r.shouldUseAngleBrackets?`<${t}>`:_i(t),u=n.alias??"";!u&&(!r.isEmbed||!n.isEmptyEmbedAliasAllowed)&&(u=!n.shouldIncludeAttachmentExtensionToEmbedAlias||mn(i,e)?e.basename:e.name);let d=n.shouldEscapeAlias?Ee(u,uC,"\\$&"):u;return`${o}[${d}](${l})`}s(gC,"generateMarkdownStyleLink");function yC(t,e,n){let r=n?"!":"",i=e??"";if(i&&i.toLowerCase()===t.toLowerCase())return`${r}[[${i}]]`;let o=i?`|${i}`:"";return`${r}[[${t}${o}]]`}s(yC,"generateWikiLink");async function wC(t,e,n,r){if(r??=Ue(),r.throwIfAborted(),!t)return[];let i=[],o=(t.sections??[]).filter(l=>l.type==="table").map(l=>({end:l.position.end.offset,start:l.position.start.offset}));for(let l of On(t)){r.throwIfAborted();let u=await n(l,r);if(r.throwIfAborted(),u===void 0)continue;let d=Br(l,u);e?Ii(d)?i.push(d):console.warn("Unsupported file change",d):(kC(d,o)&&(d.newContent=d.newContent.replaceAll(Pp,aC)),i.push(d))}return i}s(wC,"getFileChanges");function bC(t,e){let{app:n}=t;return{isEmbed:t.isEmbed??(t.originalLink?_p(t.originalLink):void 0)??!mn(n,e),isSingleSubpathAllowed:t.isSingleSubpathAllowed??!0,isWikilink:Lp(n,t.originalLink,t.linkStyle),shouldForceRelativePath:t.shouldForceRelativePath??Tp(n),shouldUseAngleBrackets:t.shouldUseAngleBrackets??(t.originalLink?Gu(t.originalLink):void 0)??!1,shouldUseLeadingDot:t.shouldUseLeadingDot??(t.originalLink?hC(t.originalLink):void 0)??!1}}s(bC,"getLinkConfig");function Mp(t,e){return e.slice(t.position?.start.offset??0,t.position?.end.offset??0)}s(Mp,"getRawLink");function AC(t,e){let o=Mp(t,e),l=t.children[0]?.position?.start.offset??1,u=t.children.at(-1)?.position?.end.offset??1,d=e.slice(u+2,(t.position?.end.offset??0)-1),f=o.startsWith("<")||d.startsWith("<"),h=Lu(t.url),m=t.url;if(!h&&!f)try{m=decodeURIComponent(m)}catch(y){console.error(`Failed to decode URL ${m}`,y)}return{alias:l<u?e.slice(l,u):void 0,encodedUrl:h?_i(m):void 0,endOffset:t.position?.end.offset??0,hasAngleBrackets:f,isEmbed:!1,isExternal:h,isWikilink:!1,raw:o,startOffset:t.position?.start.offset??0,title:t.title??void 0,url:m}}s(AC,"parseLinkNode");function xC(t,e){return{alias:e.includes(Ip)?t.data.alias:void 0,endOffset:t.position?.end.offset??0,isEmbed:!1,isExternal:!1,isWikilink:!0,raw:Mp(t,e),startOffset:t.position?.start.offset??0,url:t.value}}s(xC,"parseWikilinkNode");function kC(t,e){return!wn(t)||!Pp.test(t.newContent)?!1:e.some(n=>n.start<=t.reference.position.start.offset&&t.reference.position.end.offset<=n.end)}s(kC,"shouldEscapeWikilinkDivider");function Lp(t,e,n){switch(n??"PreserveExisting"){case"Markdown":return!1;case"ObsidianSettingsDefault":return Yu(t);case"PreserveExisting":return e===void 0?Yu(t):qu(e);case"Wikilink":return!0;default:throw new Error(`Invalid link style: ${n}.`)}}s(Lp,"shouldUseWikilinkStyle");function Dp(t,e){let n=Object.keys(e).map(r=>vC(t,r,e[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}s(Dp,"around");function vC(t,e,n){let r=t[e],i=t.hasOwnProperty(e),o=i?r:function(){return Object.getPrototypeOf(t)[e].apply(this,arguments)},l=n(o);return r&&Object.setPrototypeOf(l,r),Object.setPrototypeOf(u,l),t[e]=u,d;function u(...f){return l===o&&t[e]===u&&d(),l.apply(this,f)}s(u,"wrapper");function d(){t[e]===u&&(i?t[e]=o:delete t[e]),l!==o&&(l=o,Object.setPrototypeOf(u,r||Function))}s(d,"remove")}s(vC,"around1");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function CC(t,e){return Dp(t,e)}s(CC,"around");function qt(t,e,n){let r=CC(e,n),i=!1;function o(){if(!i)try{r()}finally{i=!0}}return s(o,"uninstallerWrapper"),t.register(o),r}s(qt,"registerPatch");var Co=require("obsidian");var Np=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ao=class extends Np.Component{static{s(this,"AsyncEventsComponent")}registerAsyncEvent(e){xo(this,e)}};function xo(t,e){t.register(()=>{e.asyncEvents.offref(e)})}s(xo,"registerAsyncEvent");var Up=Ve(Bp(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var W=(t=>(t.AlertModal="alert-modal",t.CancelButton="cancel-button",t.CheckboxComponent="checkbox-component",t.CodeHighlighterComponent="code-highlighter-component",t.ConfirmModal="confirm-modal",t.DateComponent="date-component",t.DateTimeComponent="datetime-component",t.EmailComponent="email-component",t.FileComponent="file-component",t.IsPlaceholder="is-placeholder",t.LibraryName="obsidian-dev-utils",t.MonthComponent="month-component",t.MultipleDropdownComponent="multiple-dropdown-component",t.MultipleEmailComponent="multiple-email-component",t.MultipleFileComponent="multiple-file-component",t.MultipleTextComponent="multiple-text-component",t.NumberComponent="number-component",t.OkButton="ok-button",t.OverlayValidator="overlay-validator",t.PasswordComponent="password-component",t.PluginSettingsTab="plugin-settings-tab",t.PromptModal="prompt-modal",t.SelectItemModal="select-item-modal",t.SettingComponentWrapper="setting-component-wrapper",t.TelephoneComponent="telephone-component",t.TextBox="text-box",t.TimeComponent="time-component",t.Tooltip="tooltip",t.TooltipArrow="tooltip-arrow",t.TooltipValidator="tooltip-validator",t.TriStateCheckboxComponent="tri-state-checkbox-component",t.TypedDropdownComponent="typed-dropdown-component",t.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",t.UrlComponent="url-component",t.WeekComponent="week-component",t))(W||{});s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Vp=`${Cs}-styles`;function pe(t,...e){t.addClass(W.LibraryName,Es(),...e)}s(pe,"addPluginCssClasses");function Wp(t,e){Hd(e),qd(e);let n=cn(t,"lastLibraryVersion","0.0.0");if((0,Up.compareVersions)(gl,n.value)<=0)return;n.value=gl;let r=EC();r.DEBUG=Gd(),document.head.querySelector(`#${Vp}`)?.remove(),document.head.createEl("style",{attr:{id:Vp},text:Yd})}s(Wp,"initPluginContext");function EC(){return window}s(EC,"getPluginContextWindow");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var vo=class extends Co.Plugin{static{s(this,"PluginBase")}events=new Wt;get abortSignal(){return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...n){br(this.manifest.id,1)(e,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),Xd(this.afterLoad.bind(this))}onunload(){super.onunload(),ve(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}registerForLifecycleEvent(e,n){ve(async()=>{await this.waitForLifecycleEvent(e),await n()})}registerPopupDocumentDomEvent(e,n,r){this.registerPopupDomEvent(i=>{this.registerDomEvent(i.document,e,n,r)})}registerPopupWindowDomEvent(e,n,r){this.registerPopupDomEvent(i=>{this.registerDomEvent(i,e,n,r)})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(n=>{this.events.once(e,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}createTranslationsMap(){return $f}handleAsyncError(e){this.showNotice(C(n=>n.obsidianDevUtils.notices.unhandledError))}async onLayoutReady(){await Ut()}async onloadImpl(){Wp(this.app,this.manifest.id),await Uf(this.createTranslationsMap()),this.register(Wd(this.handleAsyncError.bind(this))),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(xo(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),xo(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort(new wr(`Plugin ${this.manifest.id} had been unloaded`))})}async onLoadSettings(e,n){await Ut()}async onSaveSettings(e,n,r){await Ut()}async onunloadImpl(){await Ut()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new Co.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this._abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(rt(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}registerPopupDomEvent(e){this.app.workspace.iterateRootLeaves(n=>{e(n.view.containerEl.win)}),this.registerEvent(this.app.workspace.on("window-open",n=>{e(n.win)}))}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};var Kp=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Yp(t,e,n,r){n.throwIfAborted();let i=ht("Logger:invokeAsyncAndLog"),o=performance.now();r??=nt(1),dn(i,r,`${t}:start`,{fn:e,timestampStart:o});try{await e(n);let l=performance.now(),u=l-o;n.aborted&&(dn(i,r,`${t}:aborted`,{abortReason:n.reason,duration:u,fn:e,timestampEnd:l,timestampStart:o}),n.throwIfAborted()),dn(i,r,`${t}:end`,{duration:u,fn:e,timestampEnd:l,timestampStart:o})}catch(l){let u=performance.now();throw dn(i,r,`${t}:error`,{duration:u-o,error:l,fn:e,timestampEnd:u,timestampStart:o}),l}}s(Yp,"invokeAsyncAndLog");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function _n(t,e,n,r,i){i??=nt(1),ve(()=>TC(t,e,n,r,i),i)}s(_n,"addToQueue");async function TC(t,e,n,r,i){n??=Ue(),n.throwIfAborted(),r??=6e4,i??=nt(1);let l=zp(t).value;l.items.push({abortSignal:n,fn:e,stackTrace:i,timeoutInMilliseconds:r}),l.promise=l.promise.then(()=>Hp(t)),await l.promise}s(TC,"addToQueueAndWait");function zp(t){return cn(t,"queue",{items:[],promise:Promise.resolve()})}s(zp,"getQueue");async function Hp(t){let e=zp(t).value,n=e.items[0];n&&(await Al(()=>xl(n.timeoutInMilliseconds,r=>Yp(Hp.name,n.fn,Wn(r,n.abortSignal),n.stackTrace),{queuedFn:n.fn}),n.stackTrace),e.items.shift())}s(Hp,"processNextQueueItem");var jp=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Eo(t,e){let n=Ht(t,e);for(;n;){if(!await $u(t,n))return;let r=n.parent;await Wr(t,n.path),n=r}}s(Eo,"deleteEmptyFolderHierarchy");async function Wr(t,e,n,r,i){let o=jn(t,e);if(!o)return!1;let l=Ct(o)||(i??!0);if(Ct(o)){let u=await bn(t,o);n&&u.clear(n),u.count()!==0&&(r&&new jp.Notice(C(d=>d.obsidianDevUtils.notices.attachmentIsStillUsed,{attachmentPath:o.path})),l=!1)}else if(Sl(o)){let u=await Bu(t,o);for(let d of[...u.files,...u.folders])l&&=await Wr(t,d,n,r);l&&=await $u(t,o)}if(l)try{await t.fileManager.trashFile(o)}catch(u){await t.vault.exists(o.path)&&(zn(new Error(`Failed to delete ${o.path}`,{cause:u})),l=!1)}return l}s(Wr,"deleteSafe");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ku=new Map,Li=new Set,To=new Map,ct=(t=>(t.Delete="Delete",t.DeleteWithEmptyParents="DeleteWithEmptyParents",t.Keep="Keep",t))(ct||{});function Jp(t,e){let n=So(t.app),r=t.manifest.id;n.set(r,e),qp(t.app),t.register(()=>{n.delete(r),qp(t.app)});let i=t.app,o=t.abortSignal??Ue();t.registerEvent(i.vault.on("delete",l=>{OC(t,l,o)})),t.registerEvent(i.vault.on("rename",(l,u)=>{LC(t,l,u,o)})),t.registerEvent(i.metadataCache.on("deleted",(l,u)=>{RC(t,l,u)})),qt(t,i.fileManager,{runAsyncLinkUpdate:s(l=>u=>NC(i,l,u),"runAsyncLinkUpdate")})}s(Jp,"registerRenameDeleteHandlers");async function Xp(t,e,n){let r=Rn(t);if(r.emptyAttachmentFolderBehavior!=="Keep")for(let i of e)switch(r.emptyAttachmentFolderBehavior){case"Delete":await Wr(t,i,n,void 0,!0);break;case"DeleteWithEmptyParents":await Eo(t,i);break;default:break}}s(Xp,"cleanupParentFolders");async function SC(t,e,n,r,i){let o=To.get(e);if(o){To.delete(e);for(let l of o)await Ju(t,l.oldPath,n,r,i,l.combinedBacklinksMap)}}s(SC,"continueInterruptedRenames");async function FC(t,e,n,r,i,o){if(o.throwIfAborted(),r.set(e,n),!Di(t,e))return;let l=Rn(t),u=await Sr(t,e),d=l.shouldRenameAttachmentFolder?await Sr(t,n):u,f=u==="/",h=Ht(t,u);if(!h||u===d&&!l.shouldRenameAttachmentFiles)return;let m=[];if(await Il(t,e))Kp.Vault.recurseChildren(h,y=>{o.throwIfAborted(),Ct(y)&&m.push(y)});else for(let y of i){o.throwIfAborted();let w=Ur(t,y,e);if(w&&(f||w.path.startsWith(u))){let v=await bn(t,w);o.throwIfAborted(),v.keys().length===1&&m.push(w)}}for(let y of m){if(o.throwIfAborted(),Di(t,y.path))continue;let w;if(l.shouldRenameAttachmentFiles)w=await Fl({app:t,attachmentPathOrFile:y,notePathOrFile:n,shouldSkipDuplicateCheck:!0}),o.throwIfAborted();else{let v=f?y.path:Tr(u,y.path),T=Te(d,Ce(v));w=Te(T,y.name)}if(y.path!==w){if(l.shouldDeleteConflictingAttachments){let v=Me(t,w);v&&(console.warn(`Removing conflicting attachment ${v.path}.`),await t.fileManager.trashFile(v),o.throwIfAborted())}else{let v=Ce(w),T=Ge(w),S=Ie(w,T);w=t.vault.getAvailablePath(Te(v,S),T.slice(1))}r.set(y.path,w)}}}s(FC,"fillRenameMap");function So(t){return cn(t,"renameDeleteHandlersMap",new Map).value}s(So,"getRenameDeleteHandlersMap");function Rn(t){let e=So(t),n=Array.from(e.values()).reverse(),r={};r.isNote=i=>gi(t,i),r.isPathIgnored=()=>!1;for(let i of n){let o=i();r.shouldDeleteConflictingAttachments||=o.shouldDeleteConflictingAttachments??!1,o.emptyAttachmentFolderBehavior&&(r.emptyAttachmentFolderBehavior??=o.emptyAttachmentFolderBehavior),r.shouldHandleDeletions||=o.shouldHandleDeletions??!1,r.shouldHandleRenames||=o.shouldHandleRenames??!1,r.shouldRenameAttachmentFiles||=o.shouldRenameAttachmentFiles??!1,r.shouldRenameAttachmentFolder||=o.shouldRenameAttachmentFolder??!1,r.shouldUpdateFileNameAliases||=o.shouldUpdateFileNameAliases??!1;let l=r.isPathIgnored;r.isPathIgnored=d=>l(d)||(o.isPathIgnored?.(d)??!1);let u=r.isNote;r.isNote=d=>u(d)&&(o.isNote?.(d)??!0)}return r.emptyAttachmentFolderBehavior??="Keep",r}s(Rn,"getSettings");async function PC(t,e,n,r,i){if(!t.vault.adapter.insensitive||e.toLowerCase()!==n.toLowerCase())return!1;let o=Te(Ce(n),`__temp__${Ie(n)}`);return await Qp(t,n,o),await Ju(t,e,o,r,i),await t.vault.rename(We(t,o),n),!0}s(PC,"handleCaseCollision");async function IC(t,e,n){if(n.throwIfAborted(),ht("RenameDeleteHandler:handleDelete")(`Handle Delete ${e}`),!Di(t,e))return;let r=Rn(t);if(!r.shouldHandleDeletions)return;if(r.isPathIgnored?.(e)){console.warn(`Skipping delete handler of ${e} as the path is ignored.`);return}let i=Ku.get(e);Ku.delete(e);let o=new Set;if(i){let d=On(i);for(let f of d){let h=Ur(t,f,e);h&&(Di(t,h.path)||(o.add(h.parent?.path??""),await Wr(t,h,e,!1,r.emptyAttachmentFolderBehavior!=="Keep"),n.throwIfAborted()))}}await Xp(t,Array.from(o),e),n.throwIfAborted();let l=await Sr(t,e),u=Ht(t,l);u&&await Il(t,e)&&(n.throwIfAborted(),await Wr(t,u,e,!1,r.emptyAttachmentFolderBehavior!=="Keep"),n.throwIfAborted())}s(IC,"handleDelete");function OC(t,e,n){let r=t.app;if(!Xu(t))return;let i=e.path;_n(r,o=>IC(r,i,o),n)}s(OC,"handleDeleteIfEnabled");function _C(t,e,n){let r=Rn(t);if(r.isPathIgnored?.(e.path)){console.warn(`Skipping metadata delete handler of ${e.path} as the path is ignored.`);return}r.shouldHandleDeletions&&mn(t,e)&&n&&Ku.set(e.path,n)}s(_C,"handleMetadataDeleted");function RC(t,e,n){Xu(t)&&_C(t.app,e,n)}s(RC,"handleMetadataDeletedIfEnabled");function MC(t,e,n,r){let i=Zp(e,n);if(ht("RenameDeleteHandler:handleRename")(`Handle Rename ${i}`),Li.has(i)){Li.delete(i);return}let o=Rn(t);if(!o.shouldHandleRenames)return;if(o.isPathIgnored?.(e)){console.warn(`Skipping rename handler of old path ${e} as the path is ignored.`);return}if(o.isPathIgnored?.(n)){console.warn(`Skipping rename handler of new path ${n} as the path is ignored.`);return}let l=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),u=l?On(l):[],d=Wu(t,e).data;_n(t,f=>Ju(t,e,n,d,u,void 0,f),r)}s(MC,"handleRename");async function Ju(t,e,n,r,i,o,l){if(l??=Ue(),l.throwIfAborted(),await SC(t,e,n,r,i),l.throwIfAborted(),await DC(t,e,n,r,i),l.throwIfAborted(),!await PC(t,e,n,r,i)){l.throwIfAborted();try{let u=new Map;await FC(t,e,n,u,i,l),l.throwIfAborted();let d=new Map;Gp(r,u,d,e);for(let m of u.keys()){if(m===e)continue;let y=(await bn(t,m)).data;Gp(y,u,d,m)}let f=new Set;for(let[m,y]of u.entries()){if(m===e)continue;let w=await Qp(t,m,y);u.set(m,w),f.add(Ce(m))}await Xp(t,Array.from(f),e),l.throwIfAborted();let h=Rn(t);for(let[m,y]of Array.from(d.entries()).concat(Array.from(o?.entries()??[])))await Hu(t,m,w=>{let v=y.get(vr(w));if(!v)return;let T=u.get(v);if(T)return Mi({app:t,link:w,newSourcePathOrFile:m,newTargetPathOrFile:T,oldTargetPathOrFile:v,shouldUpdateFileNameAlias:h.shouldUpdateFileNameAliases})},{shouldFailOnMissingFile:!1}),l.throwIfAborted();if(Di(t,n)&&(await Rp({app:t,newSourcePathOrFile:n,oldSourcePathOrFile:e,shouldFailOnMissingFile:!1,shouldUpdateFileNameAlias:h.shouldUpdateFileNameAliases}),l.throwIfAborted()),!Me(t,n)){let m=To.get(n);m||(m=[],To.set(n,m)),m.push({combinedBacklinksMap:d,oldPath:e})}}finally{let u=Array.from(Li);_n(t,()=>{for(let d of u)Li.delete(d)},l)}}}s(Ju,"handleRenameAsync");function LC(t,e,n,r){if(!Xu(t)||!Ct(e))return;let i=e.path;MC(t.app,n,i,r)}s(LC,"handleRenameIfEnabled");function Gp(t,e,n,r){for(let[i,o]of t.entries()){let l=e.get(i)??i,u=n.get(l)??new Map;n.set(l,u);for(let d of o)u.set(vr(d),r)}}s(Gp,"initBacklinksMap");function Di(t,e){return Rn(t).isNote?.(e)??!1}s(Di,"isNoteEx");function qp(t){let e=So(t);ht("RenameDeleteHandler:logRegisteredHandlers")(`Plugins with registered rename/delete handlers: ${JSON.stringify(Array.from(e.keys()))}`)}s(qp,"logRegisteredHandlers");function Zp(t,e){return`${t} -> ${e}`}s(Zp,"makeKey");async function DC(t,e,n,r,i){let o=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),l=o?On(o):[],u=We(t,e,!0),d=new Map;await Oi(t,[u],async()=>{d=(await bn(t,u)).data});for(let f of l)i.includes(f)||i.push(f);for(let[f,h]of d.entries()){let m=r.get(f);m||(m=[],r.set(f,m));for(let y of h)m.includes(y)||m.push(y)}}s(DC,"refreshLinks");async function Qp(t,e,n){if(n=Nu(t,e,n),e===n)return n;let r=Zp(e,n);return Li.add(r),n=await po(t,e,n),n}s(Qp,"renameHandled");async function NC(t,e,n){await e.call(t.fileManager,r);async function r(i){let o=!1,l=t.vault.on("rename",()=>{o=!0});try{await n(i)}finally{t.vault.offref(l)}let u=Rn(t);o&&u.shouldHandleRenames&&ui(i,d=>u.isPathIgnored?.(d.sourceFile.path)?(console.warn(`Roll back to default link update of source file ${d.sourceFile.path} as the path is ignored.`),!0):u.isPathIgnored?.(d.resolvedFile.path)?(console.warn(`Roll back to default link update of resolved file ${d.resolvedFile.path} as the path is ignored.`),!0):!t.internalPlugins.getEnabledPluginById(kt.Canvas)||t.plugins.getPlugin("backlink-cache")?!1:d.sourceFile.extension==="canvas"||d.resolvedFile.extension==="canvas")}s(r,"wrappedHandler")}s(NC,"runAsyncLinkUpdate");function Xu(t){let e=t.app,n=t.manifest.id,r=So(e);return Array.from(r.keys())[0]===n}s(Xu,"shouldInvokeHandler");var Mn=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function ie(t,e){t.createEl("strong",{cls:"markdown-rendered code"},n=>{n.createEl("code",{text:e})})}s(ie,"appendCodeBlock");function em(t){return`${String(t)}px`}s(em,"toPx");var tm=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function nm(t){let n={...{abortSignal:Ue(),buildNoticeMessage(){throw new Error("buildNoticeMessage is required")},items:[],noticeMinTimeoutInMilliseconds:2e3,processItem:Lt,progressBarTitle:"",shouldContinueOnError:!0,shouldShowProgressBar:!0,uiUpdateThresholdInMilliseconds:100},...t},r=nt(1),i=n.items,o=0,l=null;n.shouldShowProgressBar&&(l=new tm.Notice("",0));let u=sleep(n.noticeMinTimeoutInMilliseconds),d=createEl("progress");if(d.max=i.length,n.shouldShowProgressBar){let h=createFragment();h.createDiv({text:n.progressBarTitle}),h.appendChild(d),l?.setMessage(h)}let f=performance.now();for(let h of i){if(n.abortSignal.aborted){l?.hide();return}o++;let m=`# ${String(o)} / ${String(i.length)}`,y=n.buildNoticeMessage(h,m);n.shouldShowProgressBar||l?.setMessage(y),ht("Loop")(y);try{performance.now()-f>n.uiUpdateThresholdInMilliseconds&&(await Zd(),f=performance.now()),await n.processItem(h)}catch(w){if(console.error("Error processing item",h),!n.shouldContinueOnError)throw l?.hide(),new Dt("loop failed",r,w);ks(new Dt(xs,r,w))}d.value++}await u,l?.hide()}s(nm,"loop");var Zu=require("obsidian");var rm=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Yr=class extends rm.Modal{static{s(this,"ModalBase")}constructor(e,n,r){super(e.app),this.resolve=n,pe(this.containerEl,r),e.cssClass&&this.containerEl.addClass(e.cssClass)}};async function Fo(t){return await new Promise(e=>{t(e).open()})}s(Fo,"showModal");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Qu=class extends Yr{static{s(this,"ConfirmModal")}isConfirmed=!1;options;constructor(e,n){super(e,n,W.ConfirmModal);let r={app:e.app,cancelButtonText:C(i=>i.obsidianDevUtils.buttons.cancel),cssClass:"",message:e.message,okButtonText:C(i=>i.obsidianDevUtils.buttons.ok),title:""};this.options={...r,...e}}onClose(){super.onClose(),this.resolve(this.isConfirmed)}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new Zu.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(()=>{this.isConfirmed=!0,this.close()}),e.setClass(W.OkButton);let n=new Zu.ButtonComponent(this.contentEl);n.setButtonText(this.options.cancelButtonText),n.onClick(this.close.bind(this)),n.setClass(W.CancelButton)}};async function Po(t){return await Fo(e=>new Qu(t,e))}s(Po,"confirm");var _o=require("obsidian");var Ni=Ve(ln(),1),VC=Ve(require("obsidian"),1);var im=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function sm(t){return t.validationMessage!==void 0}s(sm,"isValidationMessageHolder");var $C=/[*\\/<>:|?"]/g,BC=/[\0/]/g;function Io(t){return t??=im.Platform.isWin,t?$C:BC}s(Io,"getOsUnsafePathCharsRegExp");var cm=Ve(om(),1);var An=require("obsidian");var nc=class extends An.Modal{constructor(n){super(n.ctx.app);this.options=n;pe(this.containerEl,"preview-modal")}static{s(this,"PreviewModal")}embedComponent;tempFile;onClose(){super.onClose(),this.embedComponent.unload(),ve(async()=>{await this.app.vault.delete(this.tempFile)})}onOpen(){super.onOpen(),ve(this.onOpenAsync.bind(this))}async onOpenAsync(){let n=this.app.embedRegistry.embedByExtension[this.options.ctx.originalAttachmentFileExtension];if(!n||!this.options.ctx.attachmentFileContent)return;let r=`${this.options.ctx.originalAttachmentFileName}.${this.options.ctx.originalAttachmentFileExtension}`;this.titleEl.setText(C(l=>l.promptWithPreviewModal.previewModal.title,{fullFileName:r}));let i=`__temp${String(Date.now())}__${r}`;this.tempFile=await this.app.vault.createBinary(i,this.options.ctx.attachmentFileContent);let o=this.contentEl.createDiv("preview-container");this.embedComponent=n({app:this.app,containerEl:o},this.tempFile),this.embedComponent.load(),this.embedComponent.loadFile()}},rc=class extends An.Modal{constructor(n,r){super(n.ctx.app);this.options=n;this.resolve=r;pe(this.containerEl,W.PromptModal),this.value=n.ctx.originalAttachmentFileName}static{s(this,"PromptWithPreviewModal")}isOkClicked=!1;value;onClose(){super.onClose(),this.resolve(this.isOkClicked?this.value:null)}onOpen(){super.onOpen();let n=createFragment(h=>{h.appendText(C(m=>m.promptWithPreviewModal.title)),h.createEl("br"),h.appendText(this.options.ctx.fullTemplate.slice(0,this.options.ctx.tokenStartOffset)),h.createSpan({cls:"highlighted-token",text:this.options.ctx.tokenWithFormat}),h.appendText(this.options.ctx.fullTemplate.slice(this.options.ctx.tokenEndOffset))});this.titleEl.setText(n);let r=new An.TextComponent(this.contentEl),i=r.inputEl,o=s(async()=>{let h=await this.options.valueValidator(i.value);i.setCustomValidity(h??""),i.reportValidity()},"validate");r.setValue(this.value),r.setPlaceholder(C(h=>h.promptWithPreviewModal.title)),i.addClass(W.TextBox),r.onChange(h=>{this.value=h}),i.addEventListener("keydown",h=>{h.key==="Enter"?this.handleOk(h,r):h.key==="Escape"&&this.close()}),i.addEventListener("input",rt(o)),i.addEventListener("focus",rt(o)),ve(o);let l=new An.ButtonComponent(this.contentEl);l.setButtonText(C(h=>h.obsidianDevUtils.buttons.ok)),l.setCta(),l.onClick(h=>{this.handleOk(h,r)}),l.setClass(W.OkButton);let u=new An.ButtonComponent(this.contentEl);u.setButtonText(C(h=>h.obsidianDevUtils.buttons.cancel)),u.onClick(this.close.bind(this)),u.setClass(W.CancelButton);let d=new An.ButtonComponent(this.contentEl);d.setButtonText(C(h=>h.buttons.previewAttachmentFile)),d.onClick(this.preview.bind(this));let f=this.app.embedRegistry.embedByExtension[this.options.ctx.originalAttachmentFileExtension];(!this.options.ctx.attachmentFileContent||!f)&&d.setDisabled(!0)}handleOk(n,r){n.preventDefault(),r.inputEl.checkValidity()&&(this.isOkClicked=!0,this.close())}preview(){new nc(this.options).open()}};function am(t){return new Promise(e=>{new rc(t,e).open()})}s(am,"promptWithPreview");var UC=sf(cm.default),WC=["1","2","3","4","5","6","any"],YC=/^\.{3,}$/,zC=/\.+$/,$i=/\${(?<Token>.+?)(?::(?<Format>.*?))?}/g;function ic(t){let e=new Map;try{return new Function("registerCustomToken",t)(n),e}catch(r){return zn(new Error("Error registering custom tokens",{cause:r})),null}function n(r,i){e.set(r,i)}s(n,"registerCustomToken")}s(ic,"parseCustomTokens");function lm(t,e){let n=",default=now",r=",default=empty",i="empty";return e.endsWith(n)?(e=Ar(e,n),i="now"):e.endsWith(r)&&(e=Ar(e,r),i="empty"),t?(0,Ni.default)(t).format(e):i==="now"?(0,Ni.default)().format(e):""}s(lm,"formatAttachmentFileDate");function HC(t){return(0,Ni.default)().format(t)}s(HC,"formatDate");function um(t,e,n,r){let i=Me(t,e);return i?(0,Ni.default)(r(i)).format(n):""}s(um,"formatFileDate");function jC(t,e){let{base:i,parameter:o}=Oo(e);switch(i){case"":case"B":return t.toFixed(o??0);case"KB":return(t/1024).toFixed(o??0);case"MB":return(t/1048576).toFixed(o??0);default:throw new Error(`Invalid file size format: ${e}`)}}s(jC,"formatFileSize");function GC(t,e){let n=t.split("/"),r=n.length-1,i=e.indexOf(",");i===-1&&(i=e.length);let l=e.slice(0,i),u=e.slice(i+1),d=Oo(l);switch(d.base){case"indexFromEnd":r=n.length-1-(d.parameter??0);break;case"indexFromStart":r=d.parameter??0;break;default:if(u)throw new Error(`Invalid format: ${l}`);return er(n[r]??"",l)}let f=n[r]??"";return er(f,u)}s(GC,"formatFolderName");function er(t,e){let{base:n,parameter:r}=Oo(e);switch(n){case"":return t;case"left":return t.slice(0,r??1);case"lower":return t.toLowerCase();case"right":return t.slice(-(r??1));case"slug":return QC(t);case"upper":return t.toUpperCase();default:throw new Error(`Invalid file name format: ${e}`)}}s(er,"formatString");function qC(t){if(t==="uuid")return crypto.randomUUID();let{base:e,parameter:n}=Oo(t),r;switch(e){case"D":r="0123456789";break;case"DL":r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;case"L":r="ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;default:throw new Error(`Invalid random value format: ${t}`)}let i="";for(let o=0;o<(n??1);o++)i+=XC(r);return i}s(qC,"generateRandomValue");function KC(t,e,n){let r=Me(t,e);if(!r)return"";let i=t.metadataCache.getFileCache(r);if(!i?.frontmatter)return"";let o=Tn(i.frontmatter,n)??"";return String(o)}s(KC,"getFrontmatterValue");async function JC(t){if(er("",t.format),t.originalAttachmentFileName===gn)return gn;let e=await am({ctx:t,valueValidator:s(n=>tr({app:t.app,areTokensAllowed:!1,path:n}),"valueValidator")});if(e===null)throw new Error("Prompt cancelled");return er(e,t.format)}s(JC,"prompt");var Ke=class t{static{s(this,"Substitutions")}static evaluators=new Map;static{this.registerCustomTokens("")}noteFolderPath;app;attachmentFileContent;attachmentFileStat;cursorLine;generatedAttachmentFileName;generatedAttachmentFilePath;headingsInfo=null;noteFileName;noteFilePath;noteFolderName;originalAttachmentFileExtension;originalAttachmentFileName;constructor(e){this.app=e.app,this.noteFilePath=e.noteFilePath,this.noteFileName=Ie(this.noteFilePath,Ge(this.noteFilePath)),this.noteFolderName=Ie(Ce(this.noteFilePath)),this.noteFolderPath=Ce(this.noteFilePath);let n=e.originalAttachmentFileName??"",r=Ge(n);if(this.originalAttachmentFileName=Ie(n,r),this.originalAttachmentFileExtension=r.slice(1),this.attachmentFileContent=e.attachmentFileContent,this.attachmentFileStat=e.attachmentFileStat,this.generatedAttachmentFileName=e.generatedAttachmentFileName??"",this.generatedAttachmentFilePath=e.generatedAttachmentFilePath??"",this.cursorLine=null,this.app.workspace.activeEditor?.file?.path===this.noteFilePath){let i=this.app.workspace.activeEditor.editor?.getCursor();i&&(this.cursorLine=i.line)}}static isRegisteredToken(e){return t.evaluators.has(e.toLowerCase())}static registerCustomTokens(e){this.evaluators.clear(),this.registerToken("date",r=>HC(r.format)),this.registerToken("noteFileCreationDate",r=>um(r.app,r.noteFilePath,r.format,i=>i.stat.ctime)),this.registerToken("noteFileModificationDate",r=>um(r.app,r.noteFilePath,r.format,i=>i.stat.mtime)),this.registerToken("originalAttachmentFileCreationDate",r=>lm(r.attachmentFileStat?.ctime,r.format)),this.registerToken("originalAttachmentFileModificationDate",r=>lm(r.attachmentFileStat?.mtime,r.format)),this.registerToken("noteFileName",r=>er(r.noteFileName,r.format)),this.registerToken("noteFilePath",r=>r.noteFilePath),this.registerToken("noteFolderName",r=>GC(r.noteFolderPath,r.format)),this.registerToken("noteFolderPath",r=>r.noteFolderPath),this.registerToken("frontmatter",r=>KC(r.app,r.noteFilePath,r.format)),this.registerToken("originalAttachmentFileExtension",r=>r.originalAttachmentFileExtension),this.registerToken("originalAttachmentFileName",r=>er(r.originalAttachmentFileName,r.format)),this.registerToken("prompt",r=>JC(r)),this.registerToken("random",r=>qC(r.format)),this.registerToken("attachmentFileSize",r=>jC(r.attachmentFileContent?.byteLength??0,r.format)),this.registerToken("generatedAttachmentFileName",r=>er(r.generatedAttachmentFileName,r.format)),this.registerToken("generatedAttachmentFilePath",r=>r.generatedAttachmentFilePath),this.registerToken("heading",async(r,i)=>i.getHeading(r.format));let n=ic(e)??new Map;for(let[r,i]of n.entries())this.registerToken(r,i)}static registerToken(e,n){this.evaluators.set(e.toLowerCase(),n)}async fillTemplate(e){return await nf(e,$i,async(n,r,i,o)=>{n.throwIfAborted();let l=t.evaluators.get(i.toLowerCase());if(!l)throw new Error(`Unknown token '${i}'.`);let u={abortSignal:n,app:this.app,attachmentFileContent:this.attachmentFileContent,attachmentFileStat:this.attachmentFileStat,fillTemplate:this.fillTemplate.bind(this),format:o,fullTemplate:e,generatedAttachmentFileName:this.generatedAttachmentFileName,generatedAttachmentFilePath:this.generatedAttachmentFilePath,noteFileName:this.noteFileName,noteFilePath:this.noteFilePath,noteFolderName:this.noteFolderName,noteFolderPath:this.noteFolderPath,obsidian:VC,originalAttachmentFileExtension:this.originalAttachmentFileExtension,originalAttachmentFileName:this.originalAttachmentFileName,token:i,tokenEndOffset:r.offset+r.substring.length,tokenStartOffset:r.offset,tokenWithFormat:r.substring};try{let d=await l(u,this);if(n.throwIfAborted(),typeof d!="string")throw console.error("Token returned non-string value.",{ctx:u,result:d}),new Error("Token returned non-string value");return d}catch(d){throw new Error(`Error formatting token \${${i}}`,{cause:d})}})}async getHeading(e){if(e||="any",!WC.includes(e))throw new Error(`Invalid heading level: ${e}`);return(await this.initHeadings()).get(e)??""}async initHeadings(){if(this.headingsInfo)return this.headingsInfo;if(this.headingsInfo=new Map,!this.cursorLine)return this.headingsInfo;let e=await Vr(this.app,this.noteFilePath);if(!e?.headings)return this.headingsInfo;let n=new Map;for(let r of e.headings){if(r.position.start.line>this.cursorLine)continue;let i=String(r.level),o=n.get(i)??-1;r.position.start.line>o&&(this.headingsInfo.set(i,r.heading),n.set(i,r.position.start.line),r.position.start.line>(n.get("any")??-1)&&(n.set("any",r.position.start.line),this.headingsInfo.set("any",r.heading)))}return this.headingsInfo}};function sc(t){return dm(t).some(e=>e.token==="prompt")}s(sc,"hasPromptToken");async function Bi(t){switch(t.tokenValidationMode){case"Error":{if(t.fileName.match($i))return"Tokens are not allowed in file name";break}case"Skip":break;case"Validate":{let n=await fm(t.app,t.fileName);if(n)return n;break}default:throw new Error(`Invalid token validation mode: ${t.tokenValidationMode}`)}let e=ZC(t.fileName);return e==="."||e===".."?t.areSingleDotsAllowed?"":"Single dots are not allowed in file name":e?Io().test(e)?`File name "${t.fileName}" contains invalid symbols`:YC.test(e)?`File name "${t.fileName}" contains more than two dots`:zC.test(e)?`File name "${t.fileName}" contains trailing dots`:"":t.isEmptyAllowed?"":"File name is empty"}s(Bi,"validateFileName");async function tr(t){if(t.areTokensAllowed){let r=await fm(t.app,t.path);if(r)return`Unknown token: ${r}`}else if(t.path.match($i))return"Tokens are not allowed in path";let e=xr(t.path,"/");if(e=Ar(e,"/"),e==="")return"";let n=e.split("/");for(let r of n){let i=await Bi({app:t.app,areSingleDotsAllowed:!0,fileName:r,isEmptyAllowed:!0,tokenValidationMode:"Skip"});if(i)return i}return""}s(tr,"validatePath");function dm(t){let e=t.matchAll($i);return Array.from(e).map(n=>({format:n.groups?.Format??"",token:n.groups?.Token??""}))}s(dm,"extractTokens");function XC(t){return t[Math.floor(Math.random()*t.length)]??""}s(XC,"generateRandomSymbol");function Oo(t){let e=/^(?<Base>\w*?)(?<Parameter>\d*)$/.exec(t);if(!e)throw new Error(`Invalid format: ${t}`);let n=e.groups?.Base??"",r=e.groups?.Parameter,i=r?parseInt(r,10):void 0;return{base:n,parameter:i}}s(Oo,"parseFormatWithParameter");function ZC(t){return Ee(t,$i,(e,n,r)=>`_${n}_${r}_`)}s(ZC,"removeTokens");function QC(t){return UC(t,{lower:!0})}s(QC,"slugifyEx");async function fm(t,e){let n=new Ke({app:t,noteFilePath:gn,originalAttachmentFileName:gn}),r=dm(e);for(let i of r){if(!Ke.isRegisteredToken(i.token))return`Unknown token '${i.token}'.`;let o=i.format.split(",");for(let l of o)try{await n.fillTemplate(`\${${i.token}:${l}}`)}catch{return`Token '${i.token}' is used with unknown format '${l}'.`}}return null}s(fm,"validateTokens");async function Vi(t,e,n,r,i){return await nE(t,new Ke({app:t.app,attachmentFileContent:r,attachmentFileStat:i,noteFilePath:e,originalAttachmentFileName:n}))}s(Vi,"getAttachmentFolderFullPathForPath");async function zr(t,e){let n=await hm(t,t.settings.generatedAttachmentFileName,e,!0),r=await tr({app:t.app,areTokensAllowed:!1,path:n});if(!r){let o=n.split("/").at(-1)??"";r=await Bi({app:t.app,areSingleDotsAllowed:!1,fileName:o,isEmptyAllowed:!1,tokenValidationMode:"Error"})}if(r){new _o.Notice(createFragment(o=>{o.appendText(C(l=>l.notice.generatedAttachmentFileNameIsInvalid.part1,{path:n,validationMessage:r})),o.appendText(" "),ie(o,C(l=>l.pluginSettingsTab.generatedAttachmentFileName.name)),o.appendText(" "),o.appendText(C(l=>l.notice.generatedAttachmentFileNameIsInvalid.part2))}));let i=`Generated attachment file name "${n}" is invalid.
${r}
Check your 'Generated attachment file name' setting.`;throw console.error(i,e),new Error(i)}return n}s(zr,"getGeneratedAttachmentFileBaseName");function tE(t,e){return t.settings.specialCharacters&&(e=e.replace(t.settings.specialCharactersRegExp,t.settings.specialCharactersReplacement)),e}s(tE,"replaceSpecialCharacters");async function nE(t,e){return await hm(t,t.settings.attachmentFolderPath,e,!1)}s(nE,"getAttachmentFolderPath");async function hm(t,e,n,r){let i=await n.fillTemplate(e);i=i.split("/").map(u=>u.replace(/[\s.]+$/,"")||u).join("/");let l=await tr({app:t.app,areTokensAllowed:!1,path:i});if(l)throw new Error(`Resolved path ${i} is invalid: ${l}`);return i=tE(t,i),r||((i.startsWith("./")||i.startsWith("../"))&&(i=Te(n.noteFolderPath,i)),i=(0,_o.normalizePath)(i)),i}s(hm,"resolvePathTemplate");var Hr=require("obsidian");var Lo=`registerCustomToken('foo', (ctx) => {
  return ctx.noteFileName + ctx.app.appId + ctx.format + ctx.obsidian.apiVersion;
});

registerCustomToken('bar', async (ctx) => {
  await sleep(100);
  return ctx.noteFileName + ctx.app.appId + ctx.format + ctx.obsidian.apiVersion;
});

registerCustomToken('baz', async (ctx) => {
  return ctx.noteFileName + await ctx.fillTemplate('corge \${grault} garply \${waldo:fred} plugh');
});
`,pm=/(?:)/,Ro=/$./,Ui=(r=>(r.None="None",r.OnlyPastedImages="Only pasted images",r.All="All",r))(Ui||{}),nr=(o=>(o.Cancel="Cancel",o.Copy="Copy",o.Move="Move",o.Prompt="Prompt",o.Skip="Skip",o))(nr||{}),Mo=class{static{s(this,"PluginSettings")}attachmentFolderPath="./assets/${noteFileName}";attachmentRenameMode="Only pasted images";collectAttachmentUsedByMultipleNotesMode="Skip";duplicateNameSeparator=" ";emptyAttachmentFolderBehavior=ct.DeleteWithEmptyParents;generatedAttachmentFileName="file-${date:YYYYMMDDHHmmssSSS}";jpegQuality=.8;markdownUrlFormat="";shouldConvertPastedImagesToJpeg=!1;shouldDeleteOrphanAttachments=!1;shouldRenameAttachmentFiles=!1;shouldRenameAttachmentFolder=!0;shouldRenameCollectedAttachments=!1;specialCharacters="#^[]|*\\<>:?";specialCharactersReplacement="-";timeoutInSeconds=5;treatAsAttachmentExtensions=[".excalidraw.md"];warningVersion="";get customTokensStr(){return this._customTokensStr}set customTokensStr(e){this._customTokensStr=e}get excludePaths(){return this._excludePaths}set excludePaths(e){this._excludePaths=e.filter(Boolean),this._excludePathsRegExp=oc(this._excludePaths,Ro)}get excludePathsFromAttachmentCollecting(){return this._excludePathsFromAttachmentCollecting}set excludePathsFromAttachmentCollecting(e){this._excludePathsFromAttachmentCollecting=e.filter(Boolean),this._excludePathsFromAttachmentCollectingRegExp=oc(this._excludePathsFromAttachmentCollecting,Ro)}get includePaths(){return this._includePaths}set includePaths(e){this._includePaths=e.filter(Boolean),this._includePathsRegExp=oc(this._includePaths,pm)}get specialCharactersRegExp(){return new RegExp(`[${Ps(this.specialCharacters)}]+`,"g")}_customTokensStr="";_excludePaths=[];_excludePathsFromAttachmentCollecting=[];_excludePathsFromAttachmentCollectingRegExp=Ro;_excludePathsRegExp=Ro;_includePaths=[];_includePathsRegExp=pm;getTimeoutInMilliseconds(){return this.timeoutInSeconds===0?li:this.timeoutInSeconds*1e3}isExcludedFromAttachmentCollecting(e){return this._excludePathsFromAttachmentCollectingRegExp.test(e)}isPathIgnored(e){return!this._includePathsRegExp.test(e)||this._excludePathsRegExp.test(e)}};function oc(t,e){if(t.length===0)return e;let n=t.map(r=>r.startsWith("/")&&r.endsWith("/")?r.slice(1,-1):`^${Ps(r)}`).map(r=>`(${r})`).join("|");return new RegExp(n)}s(oc,"makeRegExp");var ac=class extends Hr.Modal{constructor(n,r,i,o){super(n);this.attachmentPath=r;this.backlinks=i;this.resolve=o}static{s(this,"CollectAttachmentUsedByMultipleNotesModal")}isSelected=!1;onClose(){this.isSelected||this.select("Cancel",!1)}onOpen(){super.onOpen(),new Hr.Setting(this.contentEl).setName(C(r=>r.collectAttachmentUsedByMultipleNotesModal.heading)).setHeading(),this.contentEl.appendChild(createFragment(r=>{r.appendText(C(i=>i.collectAttachmentUsedByMultipleNotesModal.content.part1)),r.appendText(" "),ie(r,this.attachmentPath),r.appendText(" "),r.appendText(C(i=>i.collectAttachmentUsedByMultipleNotesModal.content.part2)),r.createEl("ul",{},i=>{for(let o of this.backlinks)i.createEl("li",{},l=>[l.appendChild(createFragment(u=>{ie(u,o)}))])})}));let n=!1;new Hr.Setting(this.contentEl).setName(C(r=>r.collectAttachmentUsedByMultipleNotesModal.shouldUseSameActionForOtherProblematicAttachmentsToggle)).addToggle(r=>{r.setValue(!1),r.onChange(i=>{n=i})}),new Hr.Setting(this.contentEl).addButton(r=>{r.setButtonText(C(i=>i.buttons.skip)),r.onClick(()=>{this.select("Skip",n)})}).addButton(r=>{r.setButtonText(C(i=>i.buttons.move)),r.onClick(()=>{this.select("Move",n)})}).addButton(r=>{r.setButtonText(C(i=>i.buttons.copy)),r.onClick(()=>{this.select("Copy",n)})}).addButton(r=>{r.setButtonText(C(i=>i.obsidianDevUtils.buttons.cancel)),r.onClick(()=>{this.select("Cancel",n)})})}select(n,r){this.isSelected=!0,this.resolve({mode:n,shouldUseSameActionForOtherProblematicAttachments:r}),this.close()}};function mm(t,e,n){return new Promise(r=>{new ac(t,e,n,r).open()})}s(mm,"selectMode");async function gm(t,e,n,r){r.throwIfAborted();let i=t.app;if(n.isAborted)return;let o=new Mn.Notice(C(d=>d.notice.collectingAttachments,{noteFilePath:e.path})),l=new Map,u=pn(i,e);await wo(i,e,async(d,f)=>{d.throwIfAborted();let h=await Vr(i,e);d.throwIfAborted();let m=await i.vault.cachedRead(e);if(d.throwIfAborted(),n.isAborted)return[];if(f!==m)return null;if(!h)return[];let y=u?await rE(i,e):On(h);d.throwIfAborted();let w=[];for(let v of y){if(n.isAborted)return w;let T=await iE(t,v,e.path,e.path);if(d.throwIfAborted(),!T)continue;if(t.settings.isExcludedFromAttachmentCollecting(T.oldAttachmentPath)){console.warn(`Skipping collecting attachment ${T.oldAttachmentPath} as it is excluded from attachment collecting.`);continue}let S=await bn(i,T.oldAttachmentPath,{timeoutInMilliseconds:t.settings.getTimeoutInMilliseconds()});if(d.throwIfAborted(),S.keys().length>1){let P=S.keys().sort((z,F)=>z.localeCompare(F)),_=P.map(z=>`- ${z}`).join(`
`);async function D(z){if(d.throwIfAborted(),!T)return!1;switch(z){case"Cancel":return console.error(`Cancelling collecting attachments, as attachment ${T.oldAttachmentPath} is referenced by multiple notes.
${_}`),new Mn.Notice(C(F=>F.notice.collectingAttachmentsCancelled)),n.isAborted=!0,!1;case"Copy":T.newAttachmentPath=await kp(i,T.oldAttachmentPath,T.newAttachmentPath);break;case"Move":await E(),d.throwIfAborted();break;case"Prompt":{let{mode:F,shouldUseSameActionForOtherProblematicAttachments:Z}=await mm(i,T.oldAttachmentPath,P);return Z&&(n.collectAttachmentUsedByMultipleNotesMode=F),D(F)}case"Skip":return console.warn(`Skipping collecting attachment ${T.oldAttachmentPath} as it is referenced by multiple notes.
${_}`),!1;default:throw new Error(`Unknown collect attachment used by multiple notes mode: ${t.settings.collectAttachmentUsedByMultipleNotesMode}`)}return!0}if(s(D,"applyCollectAttachmentUsedByMultipleNotesMode"),!await D(n.collectAttachmentUsedByMultipleNotesMode??t.settings.collectAttachmentUsedByMultipleNotesMode)){d.throwIfAborted();continue}}else d.throwIfAborted(),await E(),d.throwIfAborted();async function E(){d.throwIfAborted(),T&&(T.newAttachmentPath=await po(i,T.oldAttachmentPath,T.newAttachmentPath),d.throwIfAborted(),await Eo(i,Ce(T.oldAttachmentPath)))}if(s(E,"moveAttachment"),l.set(T.oldAttachmentPath,T.newAttachmentPath),!u){let P=Mi({app:i,link:v,newSourcePathOrFile:e,newTargetPathOrFile:T.newAttachmentPath,oldTargetPathOrFile:T.oldAttachmentPath});w.push(Br(v,P))}}return w},{timeoutInMilliseconds:No(t)}),u&&await ho(i,e,(d,f)=>{d.throwIfAborted();let h=JSON.parse(f);for(let m of h.nodes){if(m.type!=="file")continue;let y=l.get(m.file);y&&(m.file=y)}return vr(h)},{timeoutInMilliseconds:t.settings.getTimeoutInMilliseconds()}),o.hide()}s(gm,"collectAttachments");function ym(t,e){let n=t.app.workspace.getActiveFile();return rr(t,n)?(e||_n(t.app,r=>Do(t,n?.parent??un(new Error("Parent folder not found")),r),t.abortSignal,No(t)),!0):!1}s(ym,"collectAttachmentsCurrentFolder");function wm(t,e){let n=t.app.workspace.getActiveFile();if(!n||!rr(t,n))return!1;if(!e){if(t.settings.isPathIgnored(n.path))return new Mn.Notice(C(r=>r.notice.notePathIsIgnored)),console.warn(`Cannot collect attachments in the note as note path is ignored: ${n.path}.`),!0;_n(t.app,r=>gm(t,n,{},r),t.abortSignal,No(t))}return!0}s(wm,"collectAttachmentsCurrentNote");function bm(t){_n(t.app,e=>Do(t,t.app.vault.getRoot(),e),t.abortSignal,No(t))}s(bm,"collectAttachmentsEntireVault");async function Do(t,e,n){if(n.throwIfAborted(),!await Po({app:t.app,cancelButtonText:C(u=>u.obsidianDevUtils.buttons.cancel),message:createFragment(u=>{u.appendText(C(d=>d.attachmentCollector.confirm.part1)),u.appendText(" "),ie(u,e.path),u.appendText(" "),u.appendText(C(d=>d.attachmentCollector.confirm.part2)),u.createEl("br"),u.appendText(C(d=>d.attachmentCollector.confirm.part3))}),okButtonText:C(u=>u.obsidianDevUtils.buttons.ok),title:createFragment(u=>{(0,Mn.setIcon)(u.createSpan(),"lucide-alert-triangle"),u.appendText(" "),u.appendText(C(d=>d.menuItems.collectAttachmentsInFolder))})})){n.throwIfAborted();return}t.consoleDebug(`Collect attachments in folder: ${e.path}`);let r=[];Mn.Vault.recurseChildren(e,u=>{rr(t,u)&&r.push(u)}),r.sort((u,d)=>u.path.localeCompare(d.path));let i={},o=new AbortController,l=Wn(o.signal,t.abortSignal);await nm({abortSignal:l,buildNoticeMessage:s((u,d)=>C(f=>f.attachmentCollector.progressBar.message,{iterationStr:d,noteFilePath:u.path}),"buildNoticeMessage"),items:r,processItem:s(async u=>{if(l.throwIfAborted(),t.settings.isPathIgnored(u.path)){console.warn(`Cannot collect attachments in the note as note path is ignored: ${u.path}.`);return}await gm(t,u,i,l),l.throwIfAborted(),i.isAborted&&o.abort()},"processItem"),progressBarTitle:`${t.manifest.name}: ${C(u=>u.attachmentCollector.progressBar.title)}`,shouldContinueOnError:!0,shouldShowProgressBar:!0})}s(Do,"collectAttachmentsInFolder");function rr(t,e){if(!e||!gi(t.app,e))return!1;let n=Se(t.app,e);return t.settings.treatAsAttachmentExtensions.every(r=>!n.endsWith(r))}s(rr,"isNoteEx");async function rE(t,e){return(await t.vault.readJson(e.path)).nodes.filter(i=>i.type==="file").map(i=>i.file).map(i=>({link:i,original:i,position:{end:{col:0,line:0,loc:0,offset:0},start:{col:0,line:0,loc:0,offset:0}}}))}s(rE,"getCanvasLinks");function No(t){return t.settings.collectAttachmentUsedByMultipleNotesMode==="Prompt"||sc(t.settings.attachmentFolderPath)||sc(t.settings.generatedAttachmentFileName)?li:t.settings.getTimeoutInMilliseconds()}s(No,"getTimeoutInMilliseconds");async function iE(t,e,n,r){let i=t.app,o=Ur(i,e,r);if(!o)return console.warn(`Skipping collecting attachment ${e.link} as it could not be resolved.`),null;if(rr(t,o))return console.warn(`Skipping collecting attachment ${o.path} as it is a note.`),null;let l=o.path,u=o.name,d,f=await t.app.vault.readBinary(o);t.settings.shouldRenameCollectedAttachments?d=Nt(await zr(t,new Ke({app:t.app,attachmentFileContent:f,attachmentFileStat:o.stat,noteFilePath:n,originalAttachmentFileName:o.name})),o.extension):d=u;let h=await Vi(t,n,d,f,o.stat),m=Te(h,d);return l===m?(console.warn(`Skipping collecting attachment ${o.path} as it is already in the destination folder.`),null):{newAttachmentPath:m,oldAttachmentPath:l}}s(iE,"prepareAttachmentToMove");var Am={attachmentCollector:{confirm:{part1:"Do you want to collect attachments for all notes in folder:",part2:"and all its subfolders?",part3:"This operation cannot be undone."},progressBar:{message:"Collecting attachments {{iterationStr}} - '{{noteFilePath}}'.",title:"Collecting attachments..."}},buttons:{copy:"Copy",move:"Move",previewAttachmentFile:"Preview attachment file",skip:"Skip"},collectAttachmentUsedByMultipleNotesModal:{content:{part1:"Attachment",part2:"is referenced by multiple notes."},heading:"Collecting attachment used by multiple notes",shouldUseSameActionForOtherProblematicAttachmentsToggle:"Should use the same action for other problematic attachments"},commands:{collectAttachmentsCurrentFolder:"Collect attachments in current folder",collectAttachmentsCurrentNote:"Collect attachments in current note",collectAttachmentsEntireVault:"Collect attachments in entire vault"},menuItems:{collectAttachmentsInFolder:"Collect attachments in folder"},notice:{collectingAttachments:"Collecting attachments for '{{noteFilePath}}'",collectingAttachmentsCancelled:"Collecting attachments cancelled. See console for details.",generatedAttachmentFileNameIsInvalid:{part1:`Generated attachment file name '{{path}}' is invalid.
{{validationMessage}}
Check your`,part2:"setting."},notePathIsIgnored:"Note path is ignored"},obsidianDevUtils:{buttons:{cancel:"Cancel",ok:"OK"},dataview:{itemsPerPage:"Items per page:",jumpToPage:"Jump to page:"},notices:{attachmentIsStillUsed:"Attachment {{attachmentPath}} is still used by other notes. It will not be deleted.",unhandledError:"An unhandled error occurred. Please check the console for more information."}},pluginSettings:{attachmentRenameMode:{all:{description:"all files are renamed.",displayText:"All"},none:{description:"their names are preserved.",displayText:"None"},onlyPastedImages:{description:"only pasted images are renamed.",displayText:"Only pasted images"}},collectAttachmentUsedByMultipleNotesMode:{cancel:{description:"cancel the attachment collecting.",displayText:"Cancel"},copy:{description:"copy the attachment to the new location.",displayText:"Copy"},move:{description:"move the attachment to the new location.",displayText:"Move"},prompt:{description:"prompt the user to choose the action.",displayText:"Prompt"},skip:{description:"skip the attachment and proceed to the next one.",displayText:"Skip"}},emptyAttachmentFolderBehavior:{delete:{description:"will delete the empty attachment folder.",displayText:"Delete"},deleteWithEmptyParents:{description:"will delete the empty attachment folder and its empty parent folders.",displayText:"Delete with empty parents"},keep:{description:"will keep the empty attachment folder.",displayText:"Keep"}}},pluginSettingsManager:{customToken:{codeComment:`// Custom tokens were commented out as they have to be updated to the new format introduced in plugin version 9.0.0.
// Refer to the documentation (https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens) for more information.`,deprecated:{part1:"In plugin version 9.0.0, the format of custom token registration changed. Please update your tokens accordingly. Refer to the",part2:"documentation",part3:"for more information"}},legacyRenameAttachmentsToLowerCase:{part1:"In plugin version 9.0.0, the",part2:"setting is deprecated. Use",part3:"format instead. See",part4:"documentation",part5:"for more information"},markdownUrlFormat:{deprecated:{part1:"You have potentially incorrect value set for the",part2:"format. Please refer to the",part3:"documentation",part4:"for more information",part5:"This message will not be shown again."}},validation:{invalidCustomTokensCode:"Invalid custom tokens code",invalidRegularExpression:"Invalid regular expression {{regExp}}",specialCharactersMustNotContainSlash:"Special characters must not contain /",specialCharactersReplacementMustNotContainInvalidFileNamePathCharacters:"Special character replacement must not contain invalid file name path characters."}},pluginSettingsTab:{attachmentRenameMode:{description:{part1:"When attaching files:"},name:"Attachment rename mode"},collectAttachmentUsedByMultipleNotesMode:{description:{part1:"When the collected attachment is used by multiple notes:"},name:"Collect attachment used by multiple notes mode"},customTokens:{description:{part1:"Custom tokens to be used.",part2:"See",part3:"documentation",part4:"for more information.",part5:"\u26A0\uFE0F Custom tokens can be an arbitrary JavaScript code. If poorly written, it can cause the data loss. Use it at your own risk."},name:"Custom tokens"},duplicateNameSeparator:{description:{part1:"When you are pasting/dragging a file with the same name as an existing file, this separator will be added to the file name.",part2:"E.g., when you are dragging file",part3:", it will be renamed to ",part4:", etc, getting the first name available."},name:"Duplicate name separator"},emptyAttachmentFolderBehavior:{description:{part1:"When the attachment folder becomes empty:"},name:"Empty attachment folder behavior"},excludePaths:{description:{part1:"Exclude notes from the following paths.",part2:"Insert each path on a new line.",part3:"You can use path string or",part4:"If the setting is empty, no notes are excluded."},name:"Exclude paths"},excludePathsFromAttachmentCollecting:{description:{part1:"Exclude attachments from the following paths when",part2:"Collect attachments",part3:"command is executed.",part4:"Insert each path on a new line.",part5:"You can use path string or",part6:"If the setting is empty, no paths are excluded from attachment collecting."},name:"Exclude paths from attachment collecting"},generatedAttachmentFileName:{description:{part1:"See available",part2:"tokens"},name:"Generated attachment file name"},includePaths:{description:{part1:"Include notes from the following paths.",part2:"Insert each path on a new line.",part3:"You can use path string or",part4:"If the setting is empty, all notes are included."},name:"Include paths"},jpegQuality:{description:"The smaller the quality, the greater the compression ratio.",name:"JPEG Quality"},locationForNewAttachments:{description:{part1:"Start with",part2:"to use relative path.",part3:"See available",part4:"tokens",part5:"Dot-folders like",part6:"are not recommended, because Obsidian does not track them. You might need to use",part7:"Plugin to manage them."},name:"Location for new attachments"},markdownUrlFormat:{description:{part1:"Format for the URL that will be inserted into Markdown.",part2:"See available",part3:"tokens",part4:"Leave blank to use the default format."},name:"Markdown URL format"},renameAttachmentsToLowerCase:"Rename attachments to lower case",resetToSampleCustomTokens:{message:"Are you sure you want to reset the custom tokens to the sample custom tokens? Your changes will be lost.",title:"Reset to sample custom tokens"},shouldConvertPastedImagesToJpeg:{description:"Whether to convert pasted images to JPEG.",name:"Should convert pasted images to JPEG"},shouldDeleteOrphanAttachments:{description:"If enabled, when the note is deleted, its orphan attachments are deleted as well.",name:"Should delete orphan attachments"},shouldRenameAttachmentFiles:{description:"Whether to rename attachment files when a note is renamed or moved.",name:"Should rename attachment files"},shouldRenameAttachmentFolders:{description:"Whether to rename attachment folders when a note is renamed or moved.",name:"Should rename attachment folders"},shouldRenameCollectedAttachments:{description:{part1:"If enabled, attachments processed via",part2:"Collect attachments",part3:"commands will be renamed according to the",part4:"setting."},name:"Should rename collected attachments"},specialCharacters:{description:{part1:"Special characters in attachment folder and file name to be replaced or removed.",part2:"Leave blank to preserve special characters."},name:"Special characters"},specialCharactersReplacement:{description:{part1:"Replacement string for special characters in attachment folder and file name.",part2:"Leave blank to remove special characters."},name:"Special characters replacement"},timeoutInSeconds:{description:{part1:"The timeout in seconds for all operations.",part2:"If",part3:"is set, the operations execution timeout is disabled."},name:"Timeout in seconds"},treatAsAttachmentExtensions:{description:{part1:"Treat files with these extensions as attachments.",part2:"By default",part3:"and",part4:"linked files are not treated as attachments and are not moved with the note.",part5:"You can add custom extensions, e.g.",part6:", to override this behavior."},name:"Treat as attachment extensions"}},promptWithPreviewModal:{previewModal:{title:"Preview attachment file '{{fullFileName}}'"},title:"Provide a value for the prompt token"},regularExpression:"/regular expression/"};var xm=Am;var km={attachmentCollector:{confirm:{part1:"\u662F\u5426\u8981\u4E3A\u6587\u4EF6\u5939\u4E2D\u7684\u6240\u6709\u7B14\u8BB0\u6536\u96C6\u9644\u4EF6\uFF1A",part2:"\u4EE5\u53CA\u5176\u6240\u6709\u5B50\u6587\u4EF6\u5939\uFF1F",part3:"\u6B64\u64CD\u4F5C\u65E0\u6CD5\u64A4\u9500\u3002"},progressBar:{message:"\u6B63\u5728\u6536\u96C6\u9644\u4EF6 {{iterationStr}} - '{{noteFilePath}}'\u3002",title:"\u6B63\u5728\u6536\u96C6\u9644\u4EF6..."}},buttons:{copy:"\u590D\u5236",move:"\u79FB\u52A8",previewAttachmentFile:"\u9884\u89C8\u9644\u4EF6\u6587\u4EF6",skip:"\u8DF3\u8FC7"},collectAttachmentUsedByMultipleNotesModal:{content:{part1:"\u9644\u4EF6",part2:"\u88AB\u591A\u4E2A\u7B14\u8BB0\u5F15\u7528\u3002"},heading:"\u6B63\u5728\u6536\u96C6\u88AB\u591A\u4E2A\u7B14\u8BB0\u4F7F\u7528\u7684\u9644\u4EF6",shouldUseSameActionForOtherProblematicAttachmentsToggle:"\u662F\u5426\u5BF9\u5176\u4ED6\u6709\u95EE\u9898\u7684\u9644\u4EF6\u4F7F\u7528\u76F8\u540C\u64CD\u4F5C"},commands:{collectAttachmentsCurrentFolder:"\u6536\u96C6\u5F53\u524D\u6587\u4EF6\u5939\u4E2D\u7684\u9644\u4EF6",collectAttachmentsCurrentNote:"\u6536\u96C6\u5F53\u524D\u7B14\u8BB0\u4E2D\u7684\u9644\u4EF6",collectAttachmentsEntireVault:"\u6536\u96C6\u6574\u4E2A\u5E93\u4E2D\u7684\u9644\u4EF6"},menuItems:{collectAttachmentsInFolder:"\u6536\u96C6\u6587\u4EF6\u5939\u4E2D\u7684\u9644\u4EF6"},notice:{collectingAttachments:"\u6B63\u5728\u4E3A '{{noteFilePath}}' \u6536\u96C6\u9644\u4EF6",collectingAttachmentsCancelled:"\u9644\u4EF6\u6536\u96C6\u5DF2\u53D6\u6D88\u3002\u8BE6\u60C5\u8BF7\u67E5\u770B\u63A7\u5236\u53F0\u3002",generatedAttachmentFileNameIsInvalid:{part1:`\u751F\u6210\u7684\u9644\u4EF6\u6587\u4EF6\u540D '{{path}}' \u65E0\u6548\u3002
{{validationMessage}}
\u8BF7\u68C0\u67E5`,part2:"\u8BBE\u7F6E\u3002"},notePathIsIgnored:"\u7B14\u8BB0\u8DEF\u5F84\u5DF2\u88AB\u5FFD\u7565"},obsidianDevUtils:{buttons:{cancel:"\u53D6\u6D88",ok:"\u786E\u5B9A"},dataview:{itemsPerPage:"\u6BCF\u9875\u9879\u6570:",jumpToPage:"\u8DF3\u8F6C\u81F3\u9875\u6570:"},notices:{attachmentIsStillUsed:"\u9644\u4EF6 {{attachmentPath}} \u4ECD\u7136\u88AB\u5176\u4ED6\u7B14\u8BB0\u4F7F\u7528\u3002\u5B83\u4E0D\u4F1A\u88AB\u5220\u9664\u3002",unhandledError:"\u672A\u5904\u7406\u7684\u9519\u8BEF\u53D1\u751F\u3002\u8BF7\u68C0\u67E5\u63A7\u5236\u53F0\u4EE5\u83B7\u53D6\u66F4\u591A\u4FE1\u606F\u3002"}},pluginSettings:{attachmentRenameMode:{all:{description:"\u6240\u6709\u6587\u4EF6\u90FD\u4F1A\u88AB\u91CD\u547D\u540D\u3002",displayText:"\u5168\u90E8"},none:{description:"\u6587\u4EF6\u540D\u4FDD\u6301\u4E0D\u53D8\u3002",displayText:"\u65E0"},onlyPastedImages:{description:"\u53EA\u6709\u7C98\u8D34\u7684\u56FE\u7247\u4F1A\u88AB\u91CD\u547D\u540D\u3002",displayText:"\u4EC5\u7C98\u8D34\u7684\u56FE\u7247"}},collectAttachmentUsedByMultipleNotesMode:{cancel:{description:"\u53D6\u6D88\u9644\u4EF6\u6536\u96C6\u3002",displayText:"\u53D6\u6D88"},copy:{description:"\u5C06\u9644\u4EF6\u590D\u5236\u5230\u65B0\u4F4D\u7F6E\u3002",displayText:"\u590D\u5236"},move:{description:"\u5C06\u9644\u4EF6\u79FB\u52A8\u5230\u65B0\u4F4D\u7F6E\u3002",displayText:"\u79FB\u52A8"},prompt:{description:"\u63D0\u793A\u7528\u6237\u9009\u62E9\u64CD\u4F5C\u3002",displayText:"\u63D0\u793A"},skip:{description:"\u8DF3\u8FC7\u9644\u4EF6\u5E76\u7EE7\u7EED\u4E0B\u4E00\u4E2A\u3002",displayText:"\u8DF3\u8FC7"}},emptyAttachmentFolderBehavior:{delete:{description:"\u5C06\u5220\u9664\u7A7A\u7684\u9644\u4EF6\u6587\u4EF6\u5939\u3002",displayText:"\u5220\u9664"},deleteWithEmptyParents:{description:"\u5C06\u5220\u9664\u7A7A\u7684\u9644\u4EF6\u6587\u4EF6\u5939\u53CA\u5176\u7A7A\u7684\u7236\u6587\u4EF6\u5939\u3002",displayText:"\u5220\u9664\u5E76\u5220\u9664\u7A7A\u7236\u6587\u4EF6\u5939"},keep:{description:"\u5C06\u4FDD\u7559\u7A7A\u7684\u9644\u4EF6\u6587\u4EF6\u5939\u3002",displayText:"\u4FDD\u7559"}}},pluginSettingsManager:{customToken:{codeComment:`// \u81EA\u5B9A\u4E49\u4EE4\u724C\u5DF2\u88AB\u6CE8\u91CA\u6389\uFF0C\u56E0\u4E3A\u5B83\u4EEC\u9700\u8981\u66F4\u65B0\u4E3A\u63D2\u4EF6 9.0.0 \u7248\u672C\u5F15\u5165\u7684\u65B0\u683C\u5F0F\u3002
// \u66F4\u591A\u4FE1\u606F\u8BF7\u53C2\u8003\u6587\u6863 (https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens)\u3002`,deprecated:{part1:"\u5728\u63D2\u4EF6 9.0.0 \u7248\u672C\u4E2D\uFF0C\u81EA\u5B9A\u4E49\u4EE4\u724C\u6CE8\u518C\u683C\u5F0F\u5DF2\u66F4\u6539\u3002\u8BF7\u76F8\u5E94\u66F4\u65B0\u4F60\u7684\u4EE4\u724C\u3002\u53C2\u8003",part2:"\u6587\u6863",part3:"\u4E86\u89E3\u66F4\u591A\u4FE1\u606F"}},legacyRenameAttachmentsToLowerCase:{part1:"\u5728\u63D2\u4EF6 9.0.0 \u7248\u672C\u4E2D\uFF0C",part2:"\u8BBE\u7F6E\u5DF2\u5F03\u7528\u3002\u8BF7\u4F7F\u7528",part3:"\u683C\u5F0F\u4EE3\u66FF\u3002\u53C2\u89C1",part4:"\u6587\u6863",part5:"\u4E86\u89E3\u66F4\u591A\u4FE1\u606F"},markdownUrlFormat:{deprecated:{part1:"\u4F60\u53EF\u80FD\u4E3A",part2:"\u683C\u5F0F\u8BBE\u7F6E\u4E86\u9519\u8BEF\u7684\u503C\u3002\u8BF7\u53C2\u8003",part3:"\u6587\u6863",part4:"\u4E86\u89E3\u66F4\u591A\u4FE1\u606F",part5:"\u6B64\u6D88\u606F\u4E0D\u4F1A\u518D\u6B21\u663E\u793A\u3002"}},validation:{invalidCustomTokensCode:"\u65E0\u6548\u7684\u81EA\u5B9A\u4E49\u4EE4\u724C\u4EE3\u7801",invalidRegularExpression:"\u65E0\u6548\u7684\u6B63\u5219\u8868\u8FBE\u5F0F {{regExp}}",specialCharactersMustNotContainSlash:"\u7279\u6B8A\u5B57\u7B26\u4E0D\u80FD\u5305\u542B /",specialCharactersReplacementMustNotContainInvalidFileNamePathCharacters:"\u7279\u6B8A\u5B57\u7B26\u66FF\u6362\u4E0D\u80FD\u5305\u542B\u65E0\u6548\u7684\u6587\u4EF6\u540D\u8DEF\u5F84\u5B57\u7B26\u3002"}},pluginSettingsTab:{attachmentRenameMode:{description:{part1:"\u5F53\u9644\u52A0\u6587\u4EF6\u65F6\uFF1A"},name:"\u9644\u4EF6\u91CD\u547D\u540D\u6A21\u5F0F"},collectAttachmentUsedByMultipleNotesMode:{description:{part1:"\u5F53\u6536\u96C6\u7684\u9644\u4EF6\u88AB\u591A\u4E2A\u7B14\u8BB0\u4F7F\u7528\u65F6\uFF1A"},name:"\u6536\u96C6\u88AB\u591A\u4E2A\u7B14\u8BB0\u4F7F\u7528\u7684\u9644\u4EF6\u6A21\u5F0F"},customTokens:{description:{part1:"\u8981\u4F7F\u7528\u7684\u81EA\u5B9A\u4E49\u4EE4\u724C\u3002",part2:"\u53C2\u89C1",part3:"\u6587\u6863",part4:"\u4E86\u89E3\u66F4\u591A\u4FE1\u606F\u3002",part5:"\u26A0\uFE0F \u81EA\u5B9A\u4E49\u4EE4\u724C\u53EF\u4EE5\u662F\u4EFB\u610F JavaScript \u4EE3\u7801\u3002\u5982\u679C\u7F16\u5199\u4E0D\u5F53\uFF0C\u53EF\u80FD\u4F1A\u5BFC\u81F4\u6570\u636E\u4E22\u5931\u3002\u98CE\u9669\u81EA\u62C5\u3002"},name:"\u81EA\u5B9A\u4E49\u4EE4\u724C"},duplicateNameSeparator:{description:{part1:"\u5F53\u4F60\u7C98\u8D34/\u62D6\u62FD\u4E00\u4E2A\u4E0E\u73B0\u6709\u6587\u4EF6\u540C\u540D\u7684\u6587\u4EF6\u65F6\uFF0C\u6B64\u5206\u9694\u7B26\u4F1A\u6DFB\u52A0\u5230\u6587\u4EF6\u540D\u4E2D\u3002",part2:"\u4F8B\u5982\uFF0C\u5F53\u4F60\u62D6\u62FD\u6587\u4EF6",part3:"\u65F6\uFF0C\u5B83\u4F1A\u88AB\u91CD\u547D\u540D\u4E3A",part4:"\uFF0C\u4F9D\u6B64\u7C7B\u63A8\uFF0C\u76F4\u5230\u83B7\u5F97\u7B2C\u4E00\u4E2A\u53EF\u7528\u540D\u79F0\u3002"},name:"\u91CD\u590D\u6587\u4EF6\u540D\u5206\u9694\u7B26"},emptyAttachmentFolderBehavior:{description:{part1:"\u5F53\u9644\u4EF6\u6587\u4EF6\u5939\u53D8\u4E3A\u7A7A\u65F6\uFF1A"},name:"\u7A7A\u9644\u4EF6\u6587\u4EF6\u5939\u5904\u7406"},excludePaths:{description:{part1:"\u6392\u9664\u4EE5\u4E0B\u8DEF\u5F84\u4E2D\u7684\u7B14\u8BB0\u3002",part2:"\u6BCF\u884C\u8F93\u5165\u4E00\u4E2A\u8DEF\u5F84\u3002",part3:"\u4F60\u53EF\u4EE5\u4F7F\u7528\u8DEF\u5F84\u5B57\u7B26\u4E32\u6216",part4:"\u5982\u679C\u8BBE\u7F6E\u4E3A\u7A7A\uFF0C\u5219\u4E0D\u6392\u9664\u4EFB\u4F55\u7B14\u8BB0\u3002"},name:"\u6392\u9664\u8DEF\u5F84"},excludePathsFromAttachmentCollecting:{description:{part1:"\u5F53\u6267\u884C",part2:"\u6536\u96C6\u9644\u4EF6",part3:"\u547D\u4EE4\u65F6\uFF0C\u6392\u9664\u4EE5\u4E0B\u8DEF\u5F84\u4E2D\u7684\u9644\u4EF6\u3002",part4:"\u6BCF\u884C\u8F93\u5165\u4E00\u4E2A\u8DEF\u5F84\u3002",part5:"\u4F60\u53EF\u4EE5\u4F7F\u7528\u8DEF\u5F84\u5B57\u7B26\u4E32\u6216",part6:"\u5982\u679C\u8BBE\u7F6E\u4E3A\u7A7A\uFF0C\u5219\u4E0D\u4F1A\u6392\u9664\u4EFB\u4F55\u8DEF\u5F84\u3002"},name:"\u4ECE\u9644\u4EF6\u6536\u96C6\u4E2D\u6392\u9664\u8DEF\u5F84"},generatedAttachmentFileName:{description:{part1:"\u67E5\u770B\u53EF\u7528",part2:"\u4EE4\u724C"},name:"\u751F\u6210\u7684\u9644\u4EF6\u6587\u4EF6\u540D"},includePaths:{description:{part1:"\u5305\u542B\u4EE5\u4E0B\u8DEF\u5F84\u4E2D\u7684\u7B14\u8BB0\u3002",part2:"\u6BCF\u884C\u8F93\u5165\u4E00\u4E2A\u8DEF\u5F84\u3002",part3:"\u4F60\u53EF\u4EE5\u4F7F\u7528\u8DEF\u5F84\u5B57\u7B26\u4E32\u6216",part4:"\u5982\u679C\u8BBE\u7F6E\u4E3A\u7A7A\uFF0C\u5219\u5305\u542B\u6240\u6709\u7B14\u8BB0\u3002"},name:"\u5305\u542B\u8DEF\u5F84"},jpegQuality:{description:"\u8D28\u91CF\u8D8A\u4F4E\uFF0C\u538B\u7F29\u7387\u8D8A\u9AD8\u3002",name:"JPEG \u8D28\u91CF"},locationForNewAttachments:{description:{part1:"\u4EE5",part2:"\u5F00\u5934\u4F7F\u7528\u76F8\u5BF9\u8DEF\u5F84\u3002",part3:"\u67E5\u770B\u53EF\u7528",part4:"\u4EE4\u724C",part5:"\u50CF",part6:"\u8FD9\u6837\u7684\u70B9\u6587\u4EF6\u5939\u4E0D\u63A8\u8350\u4F7F\u7528\uFF0C\u56E0\u4E3A Obsidian \u4E0D\u4F1A\u8DDF\u8E2A\u5B83\u4EEC\u3002\u4F60\u53EF\u80FD\u9700\u8981\u4F7F\u7528",part7:"\u63D2\u4EF6\u6765\u7BA1\u7406\u5B83\u4EEC\u3002"},name:"\u65B0\u9644\u4EF6\u4F4D\u7F6E"},markdownUrlFormat:{description:{part1:"\u63D2\u5165\u5230 Markdown \u4E2D\u7684 URL \u683C\u5F0F\u3002",part2:"\u67E5\u770B\u53EF\u7528",part3:"\u4EE4\u724C",part4:"\u7559\u7A7A\u4EE5\u4F7F\u7528\u9ED8\u8BA4\u683C\u5F0F\u3002"},name:"Markdown URL \u683C\u5F0F"},renameAttachmentsToLowerCase:"\u5C06\u9644\u4EF6\u91CD\u547D\u540D\u4E3A\u5C0F\u5199",resetToSampleCustomTokens:{message:"\u786E\u5B9A\u8981\u5C06\u81EA\u5B9A\u4E49\u4EE4\u724C\u91CD\u7F6E\u4E3A\u793A\u4F8B\u81EA\u5B9A\u4E49\u4EE4\u724C\u5417\uFF1F\u4F60\u7684\u66F4\u6539\u5C06\u4F1A\u4E22\u5931\u3002",title:"\u91CD\u7F6E\u4E3A\u793A\u4F8B\u81EA\u5B9A\u4E49\u4EE4\u724C"},shouldConvertPastedImagesToJpeg:{description:"\u662F\u5426\u5C06\u7C98\u8D34\u7684\u56FE\u7247\u8F6C\u6362\u4E3A JPEG\u3002",name:"\u662F\u5426\u5C06\u7C98\u8D34\u7684\u56FE\u7247\u8F6C\u6362\u4E3A JPEG"},shouldDeleteOrphanAttachments:{description:"\u5982\u679C\u542F\u7528\uFF0C\u5F53\u7B14\u8BB0\u88AB\u5220\u9664\u65F6\uFF0C\u5176\u5B64\u7ACB\u7684\u9644\u4EF6\u4E5F\u4F1A\u88AB\u5220\u9664\u3002",name:"\u662F\u5426\u5220\u9664\u5B64\u7ACB\u9644\u4EF6"},shouldRenameAttachmentFiles:{description:"\u5F53\u7B14\u8BB0\u88AB\u91CD\u547D\u540D\u6216\u79FB\u52A8\u65F6\uFF0C\u662F\u5426\u91CD\u547D\u540D\u9644\u4EF6\u6587\u4EF6\u3002",name:"\u662F\u5426\u91CD\u547D\u540D\u9644\u4EF6\u6587\u4EF6"},shouldRenameAttachmentFolders:{description:"\u5F53\u7B14\u8BB0\u88AB\u91CD\u547D\u540D\u6216\u79FB\u52A8\u65F6\uFF0C\u662F\u5426\u91CD\u547D\u540D\u9644\u4EF6\u6587\u4EF6\u5939\u3002",name:"\u662F\u5426\u91CD\u547D\u540D\u9644\u4EF6\u6587\u4EF6\u5939"},shouldRenameCollectedAttachments:{description:{part1:"\u5982\u679C\u542F\u7528\uFF0C\u901A\u8FC7",part2:"\u6536\u96C6\u9644\u4EF6",part3:"\u547D\u4EE4\u5904\u7406\u7684\u9644\u4EF6\u5C06\u6839\u636E",part4:"\u8BBE\u7F6E\u91CD\u547D\u540D\u3002"},name:"\u662F\u5426\u91CD\u547D\u540D\u6536\u96C6\u7684\u9644\u4EF6"},specialCharacters:{description:{part1:"\u8981\u66FF\u6362\u6216\u5220\u9664\u7684\u9644\u4EF6\u6587\u4EF6\u5939\u548C\u6587\u4EF6\u540D\u4E2D\u7684\u7279\u6B8A\u5B57\u7B26\u3002",part2:"\u7559\u7A7A\u4EE5\u4FDD\u7559\u7279\u6B8A\u5B57\u7B26\u3002"},name:"\u7279\u6B8A\u5B57\u7B26"},specialCharactersReplacement:{description:{part1:"\u9644\u4EF6\u6587\u4EF6\u5939\u548C\u6587\u4EF6\u540D\u4E2D\u7528\u4E8E\u66FF\u6362\u7279\u6B8A\u5B57\u7B26\u7684\u5B57\u7B26\u4E32\u3002",part2:"\u7559\u7A7A\u4EE5\u5220\u9664\u7279\u6B8A\u5B57\u7B26\u3002"},name:"\u7279\u6B8A\u5B57\u7B26\u66FF\u6362"},timeoutInSeconds:{description:{part1:"\u6240\u6709\u64CD\u4F5C\u7684\u8D85\u65F6\u65F6\u95F4\uFF08\u79D2\uFF09\u3002",part2:"\u5982\u679C",part3:"\u5DF2\u8BBE\u7F6E\uFF0C\u5219\u7981\u7528\u64CD\u4F5C\u6267\u884C\u8D85\u65F6\u3002"},name:"\u8D85\u65F6\u65F6\u95F4\uFF08\u79D2\uFF09"},treatAsAttachmentExtensions:{description:{part1:"\u5C06\u8FD9\u4E9B\u6269\u5C55\u540D\u7684\u6587\u4EF6\u89C6\u4E3A\u9644\u4EF6\u3002",part2:"\u9ED8\u8BA4\u60C5\u51B5\u4E0B",part3:"\u548C",part4:"\u94FE\u63A5\u6587\u4EF6\u4E0D\u4F1A\u88AB\u89C6\u4E3A\u9644\u4EF6\uFF0C\u4E5F\u4E0D\u4F1A\u968F\u7B14\u8BB0\u79FB\u52A8\u3002",part5:"\u4F60\u53EF\u4EE5\u6DFB\u52A0\u81EA\u5B9A\u4E49\u6269\u5C55\u540D\uFF0C\u4F8B\u5982",part6:"\uFF0C\u4EE5\u8986\u76D6\u6B64\u884C\u4E3A\u3002"},name:"\u89C6\u4E3A\u9644\u4EF6\u7684\u6269\u5C55\u540D"}},promptWithPreviewModal:{previewModal:{title:"\u9884\u89C8\u9644\u4EF6\u6587\u4EF6 '{{fullFileName}}'"},title:"\u4E3A\u63D0\u793A\u4EE4\u724C\u63D0\u4F9B\u4E00\u4E2A\u503C"},regularExpression:"/\u6B63\u5219\u8868\u8FBE\u5F0F/"};var sE={en:xm,zh:km},vm=sE;var y0=require("obsidian");var Cm=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var lc=class extends Yr{static{s(this,"AlertModal")}options;constructor(e,n){super(e,n,W.AlertModal);let r={app:e.app,cssClass:"",message:e.message,okButtonText:$s(i=>i.obsidianDevUtils.buttons.ok),title:""};this.options={...r,...e}}onClose(){super.onClose(),this.resolve()}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new Cm.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(this.close.bind(this)),e.setClass(W.OkButton)}};async function $o(t){await Fo(e=>new lc(t,e))}s($o,"alert");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ln=class{static{s(this,"Transformer")}getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,n){return this.canTransform(e,n)?this.id:null}transformValueRecursively(e,n){let r=this.getTransformerId(e,n);if(r){let l=this.transformValue(e,n);return l===void 0?void 0:{__transformerId:r,transformedValue:l}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((l,u)=>this.transformValueRecursively(l,String(u)));let i=e;if(i.__transformerId)return this.getTransformer(i.__transformerId).restoreValue(i.transformedValue,n);let o={};for(let l of kr(e)){let u=e[l],d=this.transformValueRecursively(u,l);o[l]=d}return o}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Tt=class extends Ln{static{s(this,"TypedTransformer")}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Bo=class extends Tt{static{s(this,"DateTransformer")}get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var Em=Ve(ln(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Vo=class extends Tt{static{s(this,"DurationTransformer")}get id(){return"duration"}canTransform(e){let n=e??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(e){return(0,Em.duration)(e)}transformValue(e){return e.toISOString()}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Uo=class extends Ln{static{s(this,"GroupTransformer")}constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,n){return this.getFirstTransformerThatCanTransform(e,n)!==null}getTransformer(e){return this.transformers.find(n=>n.id===e)??un(`No transformer with id ${e} found`)}transformValue(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);if(r===null)throw new Error("No transformer can transform the value");return r.transformValue(e,n)}getTransformerId(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);return r===null?null:r.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,n){return this.transformers.find(r=>r.canTransform(e,n))??null}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Wo=class extends Tt{static{s(this,"MapTransformer")}get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Yo=class extends Tt{static{s(this,"SetTransformer")}get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var oE="_",zo=class extends Ln{static{s(this,"SkipPrivatePropertyTransformer")}get id(){return"skip-private-property"}canTransform(e,n){return n.startsWith(oE)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Wi=class{static{s(this,"TwoWayMap")}keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[n,r]of e)this.set(n,r)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let n=this.getValue(e);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(e)}deleteValue(e){let n=this.getKey(e);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,n){this.deleteKey(e),this.deleteValue(n),this.keyValueMap.set(e,n),this.valueKeyMap.set(n,e)}values(){return this.valueKeyMap.keys()}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ho=class extends Tt{static{s(this,"TwoWayMapTransformer")}get id(){return"two-way-map"}canTransform(e){return e instanceof Wi}restoreValue(e){return new Wi(e)}transformValue(e){return Array.from(e.entries())}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var aE=new Uo([new zo,new Bo,new Vo,new Wo,new Yo,new Ho]),jo=class extends Wt{static{s(this,"PluginSettingsManagerBase")}constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=kr(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,n){await this.edit(e),await this.saveToFile(n)}async ensureSafe(e){let n=await this.validate(e);for(let r of this.propertyNames)n[r]&&(e[r]=this.defaultSettings[r])}async getSafeCopy(e){let n=await this.cloneSettings(e);return await this.ensureSafe(n),n}async loadFromFile(e){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let r=n,i=await this.rawRecordToSettings(r),o=await this.validate(i);for(let u of this.propertyNames)this.setPropertyImpl(u,i[u],o[u]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let l=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);xt(l,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,n,r){return super.on(e,n,r)}async revalidate(){return await this.edit(Lt),this.currentSettingsWrapper.validationMessages}async saveToFile(e){xt(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,n){return await this.edit(r=>{r[e]=n}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let n={};for(let[r,i]of this.validators.entries()){let o=await i(e[r],e);o&&(n[r]=o)}return n}getTransformer(){return aE}async onLoadRecord(e){for(let n of this.legacySettingsConverters)n(e);await Promise.resolve()}async onSavingRecord(e){await Ut()}registerLegacySettingsConverter(e,n){let r=this;this.legacySettingsConverters.push(i);function i(o){let l=new Set(Object.keys(new e)),u=new Set(r.propertyNames),d=o;n(d);for(let f of Object.keys(d))u.has(f)||l.has(f)&&delete o[f]}s(i,"legacySettingsConverter")}registerLegacySettingsConverters(){}registerValidator(e,n){this.validators.set(e,n)}registerValidators(){}async cloneSettings(e){let n=await this.settingsToRawRecord(e),r=JSON.stringify(n),i=JSON.parse(r);return await this.rawRecordToSettings(i)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let r of this.propertyNames){let i=n[r]??"";this.currentSettingsWrapper.validationMessages[r]=i,this.currentSettingsWrapper.safeSettings[r]=i?this.defaultSettings[r]:this.currentSettingsWrapper.settings[r]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let n=this.createDefaultSettings();for(let[r,i]of Object.entries(e)){if(!this.isValidPropertyName(r)){console.warn(`Unknown property: ${r}`);continue}typeof i!=typeof this.defaultSettings[r]&&console.warn("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[r],propertyName:r,value:i}),n[r]=i}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,n,r){this.currentSettingsWrapper.settings[e]=n,this.currentSettingsWrapper.validationMessages[e]=r??"",this.currentSettingsWrapper.safeSettings[e]=r?this.defaultSettings[e]:n}async settingsToRawRecord(e){let n={};for(let r of this.propertyNames)n[r]=e[r];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var Sc=Ve(p0(),1);var r2=2e3,Fc=class{static{s(this,"LegacySettings")}autoRenameFiles=!1;autoRenameFolder=!0;convertImagesOnDragAndDrop=!1;convertImagesToJpeg=!1;dateTimeFormat="";deleteOrphanAttachments=!1;generatedAttachmentFilename="";keepEmptyAttachmentFolders=!1;pastedFileName="file-${date:YYYYMMDDHHmmssSSS}";pastedImageFileName="";renameAttachmentsOnDragAndDrop=!1;renameCollectedFiles=!1;renameOnlyImages=!1;renamePastedFilesWithKnownNames=!1;replaceWhitespace=!1;shouldDuplicateCollectedAttachments=!1;shouldKeepEmptyAttachmentFolders=!1;shouldRenameAttachments=!0;shouldRenameAttachmentsToLowerCase=!1;toLowerCase=!1;whitespaceReplacement=""},sa=class extends jo{static{s(this,"PluginSettingsManager")}shouldDebounceCustomTokensValidation=!1;customTokensValidatorDebounced=(0,y0.debounce)(this.customTokensValidatorImpl.bind(this),r2);lastCustomTokenValidatorResult=void 0;createDefaultSettings(){return new Mo}registerLegacySettingsConverters(){this.registerLegacySettingsConverter(Fc,e=>{let n=e.dateTimeFormat??"YYYYMMDDHHmmssSSS";e.attachmentFolderPath=m0(e.attachmentFolderPath??"",n),e.generatedAttachmentFileName=m0(e.generatedAttachmentFileName??e.generatedAttachmentFilename??e.pastedFileName??e.pastedImageFileName??"file-${date}",n),e.replaceWhitespace!==void 0&&(e.whitespaceReplacement=e.replaceWhitespace?"-":""),e.autoRenameFiles!==void 0&&(e.shouldRenameAttachmentFiles=e.autoRenameFiles),e.autoRenameFolder!==void 0&&(e.shouldRenameAttachmentFolder=e.autoRenameFolder),e.shouldRenameAttachments!==void 0&&(e.shouldRenameAttachmentFolder=e.shouldRenameAttachments),e.deleteOrphanAttachments!==void 0&&(e.shouldDeleteOrphanAttachments=e.deleteOrphanAttachments),e.keepEmptyAttachmentFolders!==void 0&&(e.shouldKeepEmptyAttachmentFolders=e.keepEmptyAttachmentFolders),e.renameCollectedFiles!==void 0&&(e.shouldRenameCollectedAttachments=e.renameCollectedFiles),(e.toLowerCase||e.shouldRenameAttachmentsToLowerCase)&&ve(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await $o({app:this.app,message:createFragment(r=>{r.appendText(C(i=>i.pluginSettingsManager.legacyRenameAttachmentsToLowerCase.part1)),r.appendText(" "),ie(r,C(i=>i.pluginSettingsTab.renameAttachmentsToLowerCase)),r.appendText(" "),r.appendText(C(i=>i.pluginSettingsManager.legacyRenameAttachmentsToLowerCase.part2)),r.appendText(" "),ie(r,"lower"),r.appendText(" "),r.appendText(C(i=>i.pluginSettingsManager.legacyRenameAttachmentsToLowerCase.part3)),r.appendText(" "),r.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:C(i=>i.pluginSettingsManager.legacyRenameAttachmentsToLowerCase.part4)}),r.appendText(" "),r.appendText(C(i=>i.pluginSettingsManager.legacyRenameAttachmentsToLowerCase.part5))})})}),e.customTokensStr&&e.warningVersion&&(0,Sc.compare)(e.warningVersion,"9.0.0")<0&&(e.customTokensStr=`${C(r=>r.pluginSettingsManager.customToken.codeComment)}

${i2(e.customTokensStr)}
`,ve(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await $o({app:this.app,message:createFragment(r=>{r.appendText(C(i=>i.pluginSettingsManager.customToken.deprecated.part1)),r.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens",text:C(i=>i.pluginSettingsManager.customToken.deprecated.part2)}),r.appendText(" "),r.appendText(C(i=>i.pluginSettingsManager.customToken.deprecated.part3))})})})),e.convertImagesToJpeg!==void 0&&(e.shouldConvertPastedImagesToJpeg=e.convertImagesToJpeg),e.whitespaceReplacement&&(e.specialCharacters=`${e.specialCharacters??""} `,e.specialCharactersReplacement=e.whitespaceReplacement),e.shouldKeepEmptyAttachmentFolders!==void 0&&(e.emptyAttachmentFolderBehavior=e.shouldKeepEmptyAttachmentFolders?ct.Keep:ct.DeleteWithEmptyParents),e.attachmentFolderPath=this.replaceLegacyTokens(e.attachmentFolderPath),e.generatedAttachmentFileName=this.replaceLegacyTokens(e.generatedAttachmentFileName),e.markdownUrlFormat=this.replaceLegacyTokens(e.markdownUrlFormat),e.customTokensStr=this.replaceLegacyTokens(e.customTokensStr??""),e.collectAttachmentUsedByMultipleNotesMode===void 0&&e.shouldDuplicateCollectedAttachments!==void 0&&(e.collectAttachmentUsedByMultipleNotesMode=e.shouldDuplicateCollectedAttachments?"Copy":"Skip"),e.warningVersion&&(0,Sc.compare)(e.warningVersion,"9.2.0")<0&&(e.markdownUrlFormat==="${generatedAttachmentFilePath}"||e.markdownUrlFormat==="${noteFilePath}")&&ve(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await $o({app:this.app,message:createFragment(r=>{r.appendText(C(i=>i.pluginSettingsManager.markdownUrlFormat.deprecated.part1)),ie(r,"Markdown URL format"),r.appendText(C(i=>i.pluginSettingsManager.markdownUrlFormat.deprecated.part2)),r.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#markdown-url-format",text:C(i=>i.pluginSettingsManager.markdownUrlFormat.deprecated.part3)}),r.appendText(" "),r.appendText(C(i=>i.pluginSettingsManager.markdownUrlFormat.deprecated.part4)),r.appendText(" "),r.appendText(C(i=>i.pluginSettingsManager.markdownUrlFormat.deprecated.part5))})})}),e.warningVersion=this.plugin.manifest.version})}registerValidators(){this.registerValidator("attachmentFolderPath",async e=>await tr({app:this.app,areTokensAllowed:!0,path:e})),this.registerValidator("generatedAttachmentFileName",async e=>await tr({app:this.app,areTokensAllowed:!0,path:e})),this.registerValidator("specialCharacters",e=>{if(e.includes("/"))return C(n=>n.pluginSettingsManager.validation.specialCharactersMustNotContainSlash)}),this.registerValidator("specialCharactersReplacement",e=>{if(Io().exec(e))return C(n=>n.pluginSettingsManager.validation.specialCharactersReplacementMustNotContainInvalidFileNamePathCharacters)}),this.registerValidator("duplicateNameSeparator",async e=>await Bi({app:this.app,areSingleDotsAllowed:!1,fileName:`foo${e}1`,isEmptyAllowed:!1,tokenValidationMode:"Error"})),this.registerValidator("includePaths",e=>g0(e)),this.registerValidator("excludePaths",e=>g0(e)),this.registerValidator("customTokensStr",e=>this.customTokensValidator(e))}customTokensValidator(e){return this.shouldDebounceCustomTokensValidation?this.customTokensValidatorDebounced(e):this.customTokensValidatorImpl(e),this.lastCustomTokenValidatorResult??void 0}customTokensValidatorImpl(e){let n=ic(e);this.lastCustomTokenValidatorResult=n===null?C(r=>r.pluginSettingsManager.validation.invalidCustomTokensCode):void 0}replaceLegacyTokens(e){if(e===void 0)return"";let n={fileCreationDate:"noteFileCreationDate",fileModificationDate:"noteFileModificationDate",fileName:"noteFileName",filePath:"noteFilePath",folderName:"noteFolderName",folderPath:"noteFolderPath",originalCopiedFileExtension:"originalAttachmentFileExtension",originalCopiedFileName:"originalAttachmentFileName",randomDigit:"random:D",randomDigitOrLetter:"random:DL",randomLetter:"random:L",uuid:"random:uuid"};for(let[r,i]of Object.entries(n))e=Ee(e,new RegExp(`\\\${${r}(?<Suffix>[:}])`,"i"),`\${${i}$<Suffix>`),e=Ee(e,`substitutions.${r}`,`substitutions.${i}`);return e}};function m0(t,e){return t.replaceAll("${date}",`\${date:${e}}`)}s(m0,"addDateTimeFormat");function i2(t){return t.replaceAll(/^/gm,"// ")}s(i2,"commentOut");function g0(t){for(let e of t)if(e.startsWith("/")&&e.endsWith("/")){let n=e.slice(1,-1);if(!ef(n))return C(r=>r.pluginSettingsManager.validation.invalidRegularExpression,{regExp:e})}}s(g0,"pathsValidator");var Ba=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function oa(t,e){let n=Object.keys(t).find(r=>t[r]===e);if(n===void 0)throw new Error(`Invalid enum value: ${e}`);return n}s(oa,"getEnumKey");function aa(t,e){let n=t[e];if(n===void 0)throw new Error(`Invalid enum key: ${e}`);return n}s(aa,"getEnumValue");var sr=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function la(t){let e=t.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains(W.SettingComponentWrapper))return e;let n=Array.from(e.children),r=createDiv();pe(r,W.SettingComponentWrapper);for(let i of n)r.appendChild(i);return e.appendChild(r),r}s(la,"ensureWrapped");var w0=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Pc=class{static{s(this,"AbstractTextComponentWrapper")}constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function b0(t){return s2(t)?t:t instanceof w0.AbstractTextComponent?new Pc(t):null}s(b0,"getTextBasedComponentValue");function s2(t){let e=t;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}s(s2,"isTextBasedComponent");var Xe=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ua=class{static{s(this,"OverlayValidatorComponent")}constructor(e){this.el=e;let n=la(e);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),pe(this._validatorEl,W.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let r=this.el.querySelector("[tabindex]");r||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),r=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{r.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},Dn=class{static{s(this,"ValidatorElementWrapper")}constructor(e){this.validatorEl=e}};function A0(t){return o2(t)?t:t instanceof Xe.ColorComponent?new Dn(t.colorPickerEl):t instanceof Xe.DropdownComponent?new Dn(t.selectEl):t instanceof Xe.ProgressBarComponent?new ua(t.progressBar):t instanceof Xe.SearchComponent?new Dn(t.inputEl):t instanceof Xe.SliderComponent?new Dn(t.sliderEl):t instanceof Xe.TextAreaComponent?new Dn(t.inputEl):t instanceof Xe.TextComponent?new Dn(t.inputEl):t instanceof Xe.ToggleComponent?new ua(t.toggleEl):null}s(A0,"getValidatorComponent");function o2(t){return!!t.validatorEl}s(o2,"isValidatorComponent");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ic="PluginSettingsTab",ca=class extends sr.PluginSettingTab{static{s(this,"PluginSettingsTabBase")}constructor(e){super(e.app,e),this.plugin=e,pe(this.containerEl,W.PluginSettingsTab),this.saveSettingsDebounced=(0,sr.debounce)(rt(()=>this.plugin.settingsManager.saveToFile(Ic)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new Ao,this.asyncEvents=new Wt}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,n,r){let o={...{componentToPluginSettingsValueConverter:s(P=>P,"componentToPluginSettingsValueConverter"),onChanged:Lt,pluginSettingsToComponentValueConverter:s(P=>P,"pluginSettingsToComponentValueConverter"),shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...r},l=A0(e)?.validatorEl,u=b0(e),d=this.pluginSettings[n],f=this.plugin.settingsManager.defaultSettings[n];u?.setPlaceholderValue(o.pluginSettingsToComponentValueConverter(f));let h,m=null,y=null;if(l){let P=la(l);m=P.createDiv(),pe(m,W.Tooltip,W.TooltipValidator),y=m.createSpan();let _=m.createDiv();pe(_,W.TooltipArrow),m.hide(),P.appendChild(m)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(P,_)=>{n===P&&(h=_,S())}));let w=!1;u&&o.shouldShowPlaceholderForDefaultValues&&xt(d,f)?u.empty():e.setValue(o.pluginSettingsToComponentValueConverter(d));let v=!1,S=(0,sr.debounce)(()=>{requestAnimationFrame(()=>{E()})},100);return e.onChange(async P=>{if(v){v=!1;return}w=!1;let _=this.pluginSettings[n],D,z=!0;if(u?.isEmpty()&&o.shouldResetSettingWhenComponentIsEmpty)D=f;else{let F=o.componentToPluginSettingsValueConverter(P);sm(F)?(h=F.validationMessage,z=!1):D=F}z&&(h=await this.plugin.settingsManager.setProperty(n,D),u&&o.shouldShowPlaceholderForDefaultValues&&!u.isEmpty()&&xt(D,f)&&(w=!0)),S(),D!==void 0&&await o.onChanged(D,_),this.saveSettingsDebounced()}),l?.addEventListener("focus",()=>{S()}),l?.addEventListener("blur",()=>{S()}),l?.addEventListener("click",()=>{requestAnimationFrame(()=>{S()})}),h=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",S(),e;function E(){w&&!l?.isActiveElement()&&(w=!1,u?.isEmpty()||(v=!0,u?.empty())),l&&(h===""&&(l.setCustomValidity(""),l.checkValidity(),h=l.validationMessage),l.setCustomValidity(h),o.shouldShowValidationMessage?(y&&(y.textContent=h),m?.toggle(!!h)):h&&(0,sr.setTooltip)(l,h))}s(E,"updateValidatorEl")}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),ve(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(Ic)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,n){this.display(),await Ut()}async revalidate(){let e=await this.plugin.settingsManager.revalidate();await this.updateValidations(e)}on(e,n,r){return this.asyncEvents.on(e,n,r)}async onSaveSettings(e,n,r){if(r===Ic){await this.updateValidations(e.validationMessages);return}this.display()}async updateValidations(e){for(let[n,r]of Object.entries(e))await this.asyncEvents.triggerAsync("validationMessageChanged",n,r)}};var F0=require("obsidian");var x0=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var da=class extends x0.ValueComponent{static{s(this,"CheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),pe(e,W.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var qr=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var fa=class extends qr.ValueComponent{static{s(this,"CodeHighlighterComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),pe(e,W.CodeHighlighterComponent);let n=e.createDiv();pe(n,W.SettingComponentWrapper),this.textAreaComponent=new qr.TextAreaComponent(n),this.preEl=n.createEl("pre"),this.codeEl=this.preEl.createEl("code"),this.inputEl.addEventListener("input",rt(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let r=2;this.tabSize=r}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let n="language-";for(let r of[this.preEl,this.codeEl]){for(let i of Array.from(r.classList))i.startsWith(n)&&r.classList.remove(i);r.classList.add(`${n}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,ve(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),ve(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;e.preventDefault();let n=this.getValue(),r=this.inputEl.selectionStart,i=this.inputEl.selectionEnd,o=n.slice(0,r),l=n.slice(i),u=" ".repeat(this.tabSize),d=o;e.shiftKey?o.endsWith(u)&&(d=o.slice(0,-this.tabSize)):d=o+u;let f=`${d}${l}`;this.setValue(f),this.inputEl.selectionStart=d.length,this.inputEl.selectionEnd=d.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await(0,qr.loadPrism)()).highlightElement(this.codeEl),this.preEl.toggleClass(W.IsPlaceholder,this.isEmpty()),requestAnimationFrame(()=>{let n=Math.max(0,this.inputEl.scrollHeight-this.preEl.scrollHeight);this.preEl.setCssProps({"--bottom-gap":em(n)}),this.handleScroll()})}};var Oc=Ve(ln(),1);var ha=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Be=class extends ha.ValueComponent{static{s(this,"TypedTextComponent")}inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,n,r){super(),this.textComponent=new ha.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,pe(e,r)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ft=class extends Be{static{s(this,"TypedRangeTextComponent")}setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=String(e),this}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var k0="YYYY-MM-DD",pa=class extends ft{static{s(this,"DateComponent")}constructor(e){super(e,"date",W.DateComponent)}valueFromString(e){return(0,Oc.default)(e,k0).toDate()}valueToString(e){return(0,Oc.default)(e).format(k0)}};var _c=Ve(ln(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var v0="YYYY-MM-DDTHH:mm",ma=class extends ft{static{s(this,"DateTimeComponent")}constructor(e){super(e,"datetime-local",W.DateTimeComponent)}valueFromString(e){return(0,_c.default)(e,v0).toDate()}valueToString(e){return(0,_c.default)(e).format(v0)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ga=class extends Be{static{s(this,"EmailComponent")}constructor(e){super(e,"email",W.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ya=class extends Be{static{s(this,"FileComponent")}constructor(e){super(e,"file",W.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var Rc=Ve(ln(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var C0="YYYY-MM",wa=class extends ft{static{s(this,"MonthComponent")}constructor(e){super(e,"month",W.MonthComponent)}valueFromString(e){let n=(0,Rc.default)(e,C0);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(e){return(0,Rc.default)().year(e.year).month(e.month-1).format(C0)}};var ba=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Kr=class extends ba.ValueComponent{static{s(this,"MultipleDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new ba.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,pe(e,W.MultipleDropdownComponent)}addOption(e,n){return this.dropdownComponent.addOption(e,n),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=e.includes(n.value);return this}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Aa=class extends Be{static{s(this,"MultipleEmailComponent")}constructor(e){super(e,"email",W.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(n=>n.trim())}valueToString(e){return e.join(", ")}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var xa=class extends Be{static{s(this,"MultipleFileComponent")}constructor(e){super(e,"file",W.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var va=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ka=class extends va.ValueComponent{static{s(this,"MultipleTextComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new va.TextAreaComponent(e),pe(e,W.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ca=class extends ft{static{s(this,"NumberComponent")}constructor(e){super(e,"number",W.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ea=class extends Be{static{s(this,"PasswordComponent")}constructor(e){super(e,"password",W.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ta=class extends Be{static{s(this,"TelephoneComponent")}constructor(e){super(e,"tel",W.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var Fa=Ve(ln(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Sa=class extends ft{static{s(this,"TimeComponent")}constructor(e){super(e,"time",W.TimeComponent)}valueFromString(e){return(0,Fa.duration)(e)}valueToString(e){let n;return e.milliseconds()>0?n="HH:mm:ss.SSS":e.seconds()>0?n="HH:mm:ss":n="HH:mm",(0,Fa.utc)(e.asMilliseconds()).format(n)}};var E0=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Pa=class extends E0.ValueComponent{static{s(this,"TriStateCheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),pe(e,W.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var Oa=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ia=class extends Oa.ValueComponent{static{s(this,"TypedDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new Oa.DropdownComponent(e),pe(e,W.TypedDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.dropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let n=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var T0=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var _a=class extends T0.ValueComponent{static{s(this,"TypedMultipleDropdownComponent")}get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new Kr(e),pe(e,W.TypedMultipleDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.multipleDropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let n=e.map(r=>this.values.indexOf(r)).filter(r=>r!==-1);return this.multipleDropdownComponent.setValue(n.map(r=>String(r))),this}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ra=class extends Be{static{s(this,"UrlComponent")}constructor(e){super(e,"url",W.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var Mc=Ve(ln(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var S0="YYYY-[W]WW",Ma=class extends ft{static{s(this,"WeekComponent")}constructor(e){super(e,"week",W.WeekComponent)}valueFromString(e){let n=(0,Mc.default)(e,S0);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(e){return(0,Mc.default)().year(e.year).isoWeek(e.weekNumber).format(S0)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ae=class extends F0.Setting{static{s(this,"SettingEx")}addCheckbox(e){return this.addComponent(da,e)}addCodeHighlighter(e){return this.addComponent(fa,e)}addComponent(e,n){let r=new e(this.controlEl);return this.components.push(r),n(r),this}addDate(e){return this.addComponent(pa,e)}addDateTime(e){return this.addComponent(ma,e)}addEmail(e){return this.addComponent(ga,e)}addFile(e){return this.addComponent(ya,e)}addMonth(e){return this.addComponent(wa,e)}addMultipleDropdown(e){return this.addComponent(Kr,e)}addMultipleEmail(e){return this.addComponent(Aa,e)}addMultipleFile(e){return this.addComponent(xa,e)}addMultipleText(e){return this.addComponent(ka,e)}addNumber(e){return this.addComponent(Ca,e)}addPassword(e){return this.addComponent(Ea,e)}addTelephone(e){return this.addComponent(Ta,e)}addTime(e){return this.addComponent(Sa,e)}addTriStateCheckbox(e){return this.addComponent(Pa,e)}addTypedDropdown(e){return this.addComponent(Ia,e)}addTypedMultipleDropdown(e){return this.addComponent(_a,e)}addUrl(e){return this.addComponent(Ra,e)}addWeek(e){return this.addComponent(Ma,e)}};var Da=require("obsidian");var Jr="custom-attachment-location-tokenized-string",La=class extends Da.Component{static{s(this,"PrismComponent")}onload(){super.onload(),ve(this.initPrism.bind(this))}async initPrism(){let e=await(0,Da.loadPrism)();e.languages[Jr]={expression:{greedy:!0,inside:{prefix:{alias:"regex",pattern:/\${/},token:{alias:"number",pattern:/^[a-zA-Z0-9_,]+/},formatDelimiter:{alias:"regex",pattern:/:/},format:{alias:"string",pattern:/[a-zA-Z0-9_,-]+/},suffix:{alias:"regex",pattern:/}/}},pattern:/\${.+?}/},important:{pattern:/^\./},operator:{alias:"entity",pattern:/\//}},this.register(()=>{delete e.languages[Jr]})}};var Na="\u2423",$a=class extends ca{static{s(this,"PluginSettingsTab")}display(){super.display(),this.containerEl.empty();let e={componentToPluginSettingsValueConverter(i){return(0,Ba.normalizePath)(i.trimEnd())},pluginSettingsToComponentValueConverter(i){return i.trimEnd()}};new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.locationForNewAttachments.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.locationForNewAttachments.description.part1)),i.appendText(" "),ie(i,"."),i.appendText(" "),i.appendText(C(o=>o.pluginSettingsTab.locationForNewAttachments.description.part2)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.locationForNewAttachments.description.part3)),i.appendText(" "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:C(o=>o.pluginSettingsTab.locationForNewAttachments.description.part4)}),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.locationForNewAttachments.description.part5)),i.appendText(" "),ie(i,".attachments"),i.appendText(" "),i.appendText(C(o=>o.pluginSettingsTab.locationForNewAttachments.description.part6)),i.appendText(" "),i.createEl("a",{href:"https://github.com/polyipseity/obsidian-show-hidden-files/",text:"Show Hidden Files"}),i.appendText(" "),i.appendText(C(o=>o.pluginSettingsTab.locationForNewAttachments.description.part7))})).addCodeHighlighter(i=>{i.setLanguage(Jr),i.inputEl.addClass("tokenized-string-setting-control"),this.bind(i,"attachmentFolderPath",e)}),new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.generatedAttachmentFileName.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.generatedAttachmentFileName.description.part1)),i.appendText(" "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:C(o=>o.pluginSettingsTab.generatedAttachmentFileName.description.part2)}),i.appendText(".")})).addCodeHighlighter(i=>{i.setLanguage(Jr),i.inputEl.addClass("tokenized-string-setting-control"),this.bind(i,"generatedAttachmentFileName",e)}),new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.markdownUrlFormat.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.markdownUrlFormat.description.part1)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.markdownUrlFormat.description.part2)),i.appendText(" "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:C(o=>o.pluginSettingsTab.markdownUrlFormat.description.part3)}),i.appendText("."),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.markdownUrlFormat.description.part4))})).addCodeHighlighter(i=>{i.setLanguage(Jr),i.inputEl.addClass("tokenized-string-setting-control"),this.bind(i,"markdownUrlFormat",e)}),new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.attachmentRenameMode.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.attachmentRenameMode.description.part1)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.attachmentRenameMode.none.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.attachmentRenameMode.none.description)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.attachmentRenameMode.onlyPastedImages.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.attachmentRenameMode.onlyPastedImages.description)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.attachmentRenameMode.all.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.attachmentRenameMode.all.description))})).addDropdown(i=>{i.addOptions({None:C(o=>o.pluginSettings.attachmentRenameMode.none.displayText),"Only pasted images":C(o=>o.pluginSettings.attachmentRenameMode.onlyPastedImages.displayText),All:C(o=>o.pluginSettings.attachmentRenameMode.all.displayText)}),this.bind(i,"attachmentRenameMode",{componentToPluginSettingsValueConverter:s(o=>aa(Ui,o),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:s(o=>oa(Ui,o),"pluginSettingsToComponentValueConverter")})}),new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.shouldRenameAttachmentFolders.name)).setDesc(C(i=>i.pluginSettingsTab.shouldRenameAttachmentFolders.description)).addToggle(i=>{this.bind(i,"shouldRenameAttachmentFolder")}),new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.shouldRenameAttachmentFiles.name)).setDesc(C(i=>i.pluginSettingsTab.shouldRenameAttachmentFiles.description)).addToggle(i=>{this.bind(i,"shouldRenameAttachmentFiles")}),new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.specialCharacters.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.specialCharacters.description.part1)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.specialCharacters.description.part2))})).addText(i=>{this.bind(i,"specialCharacters",{componentToPluginSettingsValueConverter:s(o=>o.replaceAll(Na,""),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:s(o=>o.replaceAll(" ",Na),"pluginSettingsToComponentValueConverter"),shouldResetSettingWhenComponentIsEmpty:!1}),i.inputEl.addEventListener("input",()=>{i.inputEl.value=Lc(i.inputEl.value)})}),new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.specialCharactersReplacement.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.specialCharactersReplacement.description.part1)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.specialCharactersReplacement.description.part2))})).addText(i=>{this.bind(i,"specialCharactersReplacement",{shouldResetSettingWhenComponentIsEmpty:!1})}),new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.shouldConvertPastedImagesToJpeg.name)).setDesc(C(i=>i.pluginSettingsTab.shouldConvertPastedImagesToJpeg.description)).addToggle(i=>{this.bind(i,"shouldConvertPastedImagesToJpeg")}),new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.jpegQuality.name)).setDesc(C(i=>i.pluginSettingsTab.jpegQuality.description)).addDropdown(i=>{i.addOptions(a2()),this.bind(i,"jpegQuality",{componentToPluginSettingsValueConverter:s(o=>Number(o),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:s(o=>o.toString(),"pluginSettingsToComponentValueConverter")})}),new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.shouldRenameCollectedAttachments.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.shouldRenameCollectedAttachments.description.part1)),i.appendText(" "),ie(i,C(o=>o.pluginSettingsTab.shouldRenameCollectedAttachments.description.part2)),i.appendText(" "),i.appendText(C(o=>o.pluginSettingsTab.shouldRenameCollectedAttachments.description.part3)),i.appendText(" "),ie(i,C(o=>o.pluginSettingsTab.generatedAttachmentFileName.name)),i.appendText(" "),i.appendText(C(o=>o.pluginSettingsTab.shouldRenameCollectedAttachments.description.part4))})).addToggle(i=>{this.bind(i,"shouldRenameCollectedAttachments")}),new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.collectAttachmentUsedByMultipleNotesMode.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.collectAttachmentUsedByMultipleNotesMode.description.part1)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.skip.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.skip.description)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.move.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.move.description)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.copy.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.copy.description)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.cancel.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.cancel.description)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.prompt.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.prompt.description))})).addDropdown(i=>{i.addOptions({Skip:C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.skip.displayText),Move:C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.move.displayText),Copy:C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.copy.displayText),Cancel:C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.cancel.displayText),Prompt:C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.prompt.displayText)}),this.bind(i,"collectAttachmentUsedByMultipleNotesMode",{componentToPluginSettingsValueConverter:s(o=>aa(nr,o),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:s(o=>oa(nr,o),"pluginSettingsToComponentValueConverter")})}),new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.duplicateNameSeparator.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.duplicateNameSeparator.description.part1)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.duplicateNameSeparator.description.part2)),i.appendText(" "),ie(i,"existingFile.pdf"),i.appendText(C(o=>o.pluginSettingsTab.duplicateNameSeparator.description.part3)),i.appendText(" "),ie(i,"existingFile 1.pdf"),i.appendText(", "),ie(i,"existingFile 2.pdf"),i.appendText(C(o=>o.pluginSettingsTab.duplicateNameSeparator.description.part4))})).addText(i=>{this.bind(i,"duplicateNameSeparator",{componentToPluginSettingsValueConverter:s(o=>o.replaceAll(Na," "),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:Lc}),i.inputEl.addEventListener("input",()=>{i.inputEl.value=Lc(i.inputEl.value)})}),new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.emptyAttachmentFolderBehavior.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.emptyAttachmentFolderBehavior.description.part1)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.emptyAttachmentFolderBehavior.keep.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.emptyAttachmentFolderBehavior.keep.description)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.emptyAttachmentFolderBehavior.delete.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.emptyAttachmentFolderBehavior.delete.description)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.emptyAttachmentFolderBehavior.deleteWithEmptyParents.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.emptyAttachmentFolderBehavior.deleteWithEmptyParents.description))})).addDropdown(i=>{i.addOptions({[ct.Keep]:C(o=>o.pluginSettings.emptyAttachmentFolderBehavior.keep.displayText),[ct.Delete]:C(o=>o.pluginSettings.emptyAttachmentFolderBehavior.delete.displayText),[ct.DeleteWithEmptyParents]:C(o=>o.pluginSettings.emptyAttachmentFolderBehavior.deleteWithEmptyParents.displayText)}),this.bind(i,"emptyAttachmentFolderBehavior",{componentToPluginSettingsValueConverter:s(o=>aa(ct,o),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:s(o=>oa(ct,o),"pluginSettingsToComponentValueConverter")})}),new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.shouldDeleteOrphanAttachments.name)).setDesc(C(i=>i.pluginSettingsTab.shouldDeleteOrphanAttachments.description)).addToggle(i=>{this.bind(i,"shouldDeleteOrphanAttachments")}),new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.includePaths.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.includePaths.description.part1)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.includePaths.description.part2)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.includePaths.description.part3)),i.appendText(" "),ie(i,C(o=>o.regularExpression)),i.appendText("."),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.includePaths.description.part4))})).addMultipleText(i=>{this.bind(i,"includePaths")}),new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.excludePaths.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.excludePaths.description.part1)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.excludePaths.description.part2)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.excludePaths.description.part3)),i.appendText(" "),ie(i,C(o=>o.regularExpression)),i.appendText("."),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.excludePaths.description.part4))})).addMultipleText(i=>{this.bind(i,"excludePaths")}),new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.excludePathsFromAttachmentCollecting.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.excludePathsFromAttachmentCollecting.description.part1)),i.appendText(" "),ie(i,C(o=>o.pluginSettingsTab.excludePathsFromAttachmentCollecting.description.part2)),i.appendText(" "),i.appendText(C(o=>o.pluginSettingsTab.excludePathsFromAttachmentCollecting.description.part3)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.excludePathsFromAttachmentCollecting.description.part4)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.excludePathsFromAttachmentCollecting.description.part5)),i.appendText(" "),ie(i,C(o=>o.regularExpression)),i.appendText("."),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.excludePathsFromAttachmentCollecting.description.part6))})).addMultipleText(i=>{this.bind(i,"excludePathsFromAttachmentCollecting")});let r=(0,Ba.debounce)(i=>{ve(async()=>{Ke.registerCustomTokens(i),await this.revalidate()})},2e3);new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.customTokens.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.customTokens.description.part1)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.customTokens.description.part2)),i.appendText(" "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens",text:C(o=>o.pluginSettingsTab.customTokens.description.part3)}),i.appendText(" "),i.appendText(C(o=>o.pluginSettingsTab.customTokens.description.part4)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.customTokens.description.part5))})).addCodeHighlighter(i=>{i.setLanguage("javascript"),i.inputEl.addClass("custom-tokens-setting-control"),this.bind(i,"customTokensStr",{onChanged:s(o=>{r(o)},"onChanged")}),i.setPlaceholder(Lo)}),this.plugin.settingsManager.shouldDebounceCustomTokensValidation=!0,new Ae(this.containerEl).addButton(i=>{i.setButtonText(C(o=>o.pluginSettingsTab.resetToSampleCustomTokens.title)),i.setWarning(),i.onClick(rt(async()=>{this.plugin.settings.customTokensStr!==Lo&&(this.plugin.settings.customTokensStr!==""&&!await Po({app:this.plugin.app,cancelButtonText:C(o=>o.obsidianDevUtils.buttons.cancel),message:C(o=>o.pluginSettingsTab.resetToSampleCustomTokens.message),okButtonText:C(o=>o.obsidianDevUtils.buttons.ok),title:C(o=>o.pluginSettingsTab.resetToSampleCustomTokens.title)})||(await this.plugin.settingsManager.editAndSave(o=>{o.customTokensStr=Lo}),this.display()))}))}),new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.treatAsAttachmentExtensions.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.treatAsAttachmentExtensions.description.part1)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.treatAsAttachmentExtensions.description.part2)),i.appendText(" "),ie(i,".md"),i.appendText(", "),ie(i,".canvas"),i.appendText(" "),i.appendText(C(o=>o.pluginSettingsTab.treatAsAttachmentExtensions.description.part3)),i.appendText(" "),ie(i,".base"),i.appendText(" "),i.appendText(C(o=>o.pluginSettingsTab.treatAsAttachmentExtensions.description.part4)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.treatAsAttachmentExtensions.description.part5)),i.appendText(" "),ie(i,".foo.md"),i.appendText(", "),ie(i,".bar.canvas"),i.appendText(", "),ie(i,".baz.base"),i.appendText(C(o=>o.pluginSettingsTab.treatAsAttachmentExtensions.description.part6))})).addMultipleText(i=>{this.bind(i,"treatAsAttachmentExtensions")}),new Ae(this.containerEl).setName(C(i=>i.pluginSettingsTab.timeoutInSeconds.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.timeoutInSeconds.description.part1)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.timeoutInSeconds.description.part2)),i.appendText(" "),ie(i,"0"),i.appendText(" "),i.appendText(C(o=>o.pluginSettingsTab.timeoutInSeconds.description.part3))})).addNumber(i=>{i.setMin(0),this.bind(i,"timeoutInSeconds")})}hide(){super.hide(),this.plugin.settingsManager.shouldDebounceCustomTokensValidation=!1}};function a2(){let e={};for(let n=1;n<=10;n++){let r=(n/10).toFixed(1);e[r]=r}return e}s(a2,"generateJpegQualityOptions");function Lc(t){return t.replaceAll(" ",Na)}s(Lc,"showWhitespaceCharacter");var l2=/Pasted image (?<Timestamp>\d{14})/,u2="YYYYMMDDHHmmss",c2=10,Dc="__IMPORT_FILES__",Ua=class extends vo{static{s(this,"Plugin")}arrayBufferFileStatMap=new WeakMap;currentAttachmentFolderPath=null;getAvailablePathForAttachmentsOriginal=null;isMarkdownViewPatched=!1;lastOpenFilePath=null;pathMarkdownUrlMap=new Map;createSettingsManager(){return new sa(this)}createSettingsTab(){return new $a(this)}createTranslationsMap(){return vm}async onLayoutReady(){await super.onLayoutReady(),Ke.registerCustomTokens(this.settings.customTokensStr),await this.settingsManager.loadFromFile(!1),qt(this,this.app.vault,{getAvailablePath:s(()=>this.getAvailablePath.bind(this),"getAvailablePath"),getAvailablePathForAttachments:s(e=>{let n=this;return Object.assign(r,{extended:this.getAvailablePathForAttachments.bind(this)});function r(i,o,l){return e.call(n.app.vault,i,o,l)}},"getAvailablePathForAttachments"),getConfig:s(e=>n=>this.getConfig(e,n),"getConfig")}),Va.webUtils&&qt(this,Va.webUtils,{getPathForFile:s(e=>n=>this.getPathForFile(n,e),"getPathForFile")}),qt(this,this.app.fileManager,{generateMarkdownLink:s(e=>(n,r,i,o)=>this.generateMarkdownLink(e,n,r,i,o),"generateMarkdownLink")}),qt(this,Cl(this.app.shareReceiver),{importFiles:s(e=>n=>this.importFiles(e,n),"importFiles")}),this.registerPopupDocumentDomEvent("change",this.handleInputFileChange.bind(this),{capture:!0}),await this.handleActiveLeafChange(this.app.workspace.getLeavesOfType(pi.Markdown)[0]??null),this.isMarkdownViewPatched||this.registerEvent(this.app.workspace.on("active-leaf-change",rt(this.handleActiveLeafChange.bind(this))))}async onloadImpl(){await super.onloadImpl(),Jp(this,()=>({emptyAttachmentFolderBehavior:this.settings.emptyAttachmentFolderBehavior,isNote:s(n=>rr(this,n),"isNote"),isPathIgnored:s(n=>this.settings.isPathIgnored(n),"isPathIgnored"),shouldHandleDeletions:this.settings.shouldDeleteOrphanAttachments,shouldHandleRenames:!0,shouldRenameAttachmentFiles:this.settings.shouldRenameAttachmentFiles,shouldRenameAttachmentFolder:this.settings.shouldRenameAttachmentFolder,shouldUpdateFileNameAliases:!0})),this.addCommand({checkCallback:s(e=>wm(this,e),"checkCallback"),id:"collect-attachments-current-note",name:C(e=>e.commands.collectAttachmentsCurrentNote)}),this.addCommand({checkCallback:s(e=>ym(this,e),"checkCallback"),id:"collect-attachments-current-folder",name:C(e=>e.commands.collectAttachmentsCurrentFolder)}),this.addCommand({callback:s(()=>{bm(this)},"callback"),id:"collect-attachments-entire-vault",name:C(e=>e.commands.collectAttachmentsEntireVault)}),this.registerEvent(this.app.workspace.on("file-menu",this.handleFileMenu.bind(this))),qt(this,this.app,{saveAttachment:s(()=>(e,n,r)=>this.saveAttachment(e,n,r),"saveAttachment")}),this.addChild(new La),this.registerEvent(this.app.workspace.on("file-open",rt(this.handleFileOpen.bind(this)))),this.registerEvent(this.app.vault.on("rename",rt(this.handleRename.bind(this)))),this.registerEvent(this.app.workspace.on("receive-text-menu",this.handleReceiveTextMenu.bind(this))),this.registerEvent(this.app.workspace.on("receive-files-menu",this.handleReceiveFilesMenu.bind(this)))}async fileArrayBuffer(e,n){let r=await e.call(n);if(this.app.vault.adapter instanceof $t.FileSystemAdapter){let i=Va.webUtils.getPathForFile(n);if(await this.setFileStat(r,i))return r}return this.arrayBufferFileStatMap.set(r,{ctime:0,mtime:n.lastModified,size:n.size}),r}generateMarkdownLink(e,n,r,i,o){let l=e.call(this.app.fileManager,n,r,i,o);if(!this.settings.markdownUrlFormat)return l;let u=this.pathMarkdownUrlMap.get(n.path);return u?(qu(l)&&(l=ju({app:this.app,linkStyle:zu.Markdown,originalLink:l,sourcePathOrFile:r,targetPathOrFile:n})),Gu(l)?l.replace(/\]\(<.+?>\)/,`](<${u}>)`):l.replace(/\]\(.+?\)/,`](${_i(u)})`)):l}getAvailablePath(e,n){let r=0;for(;;){let i=Nt(r===0?e:`${e}${this.settings.duplicateNameSeparator}${String(r)}`,n);if(!jn(this.app,i,!0))return i;r++}}async getAvailablePathForAttachments(e){let{attachmentFileExtension:n,notePathOrFile:r,shouldSkipDuplicateCheck:i,shouldSkipMissingAttachmentFolderCreation:o}=e,{attachmentFileBaseName:l,attachmentFileContent:u,attachmentFileStat:d,shouldSkipGeneratedAttachmentFileName:f}=e;if(l===gn){u??=new ArrayBuffer(0);let y=Math.trunc(Date.now());d??={ctime:y,mtime:y,size:0}}let h=Me(this.app,r);if(l.startsWith(Dc)&&(l=xr(l,Dc),f=!0),h&&this.settings.isPathIgnored(h.path)&&this.getAvailablePathForAttachmentsOriginal)return this.getAvailablePathForAttachmentsOriginal(l,n,h);let m;if(!h||!rr(this,h))m=await Pl({app:this.app,attachmentFileBaseName:l,attachmentFileExtension:n,notePathOrFile:r,shouldSkipDuplicateCheck:i??!1,shouldSkipMissingAttachmentFolderCreation:o??!0});else{let y=Nt(l,n),w=await Vi(this,h.path,y,u,d),v;if(f)v=y;else{let S=await zr(this,new Ke({app:this.app,attachmentFileContent:u,attachmentFileStat:d,noteFilePath:h.path,originalAttachmentFileName:y}));v=Nt(S,n)}let T=Te(w,v);if(i)m=T;else{let S=Ce(T),E=Ie(T,n?`.${n}`:"");m=this.app.vault.getAvailablePath(Te(S,E),n)}}if(!o){let y=vt(m);await this.app.vault.exists(y)||(await fo(this.app,y),this.settings.emptyAttachmentFolderBehavior===ct.Keep&&await this.app.vault.create(Te(y,".gitkeep"),""))}return m}getConfig(e,n){return n!=="attachmentFolderPath"||this.currentAttachmentFolderPath===null?e.call(this.app.vault,n):this.currentAttachmentFolderPath}getPathForFile(e,n){let r=e;return r.path?r.path:n(e)}async handleActiveLeafChange(e){if(this.isMarkdownViewPatched||!e||e.view.getViewType()!==pi.Markdown)return;await e.loadIfDeferred();let n=e.view,r=this;qt(this,Cl(n.editMode.clipboardManager),{insertFiles:s(i=>s(function(l){return r.insertFiles(i,this,l)},"insertFilesPatched"),"insertFiles")}),this.isMarkdownViewPatched=!0}handleFileMenu(e,n){n instanceof $t.TFolder&&e.addItem(r=>{r.setTitle(C(i=>i.menuItems.collectAttachmentsInFolder)).setIcon("download").onClick(()=>Do(this,n,this.abortSignal))})}async handleFileOpen(e){if(e===null||this.settings.isPathIgnored(e.path)){this.currentAttachmentFolderPath=null,this.lastOpenFilePath=null;return}e.path!==this.lastOpenFilePath&&(this.lastOpenFilePath=e.path,this.currentAttachmentFolderPath=await Vi(this,e.path,gn))}handleInputFileChange(e){if(!(e.target instanceof HTMLInputElement)||e.target.type!=="file")return;let n=this;for(let r of e.target.files??[])qt(this,r,{arrayBuffer:s(i=>s(function(){return n.fileArrayBuffer(i,this)},"arrayBufferPatched"),"arrayBuffer")})}handleReceiveFilesMenu(e,n){this.handleReceiveMenuItemClick(e,r=>n.map(o=>this.app.fileManager.generateMarkdownLink(o,r.path)).join(`
`))}handleReceiveMenuItemClick(e,n){let r=this.app,i=e.items.find(l=>l instanceof $t.MenuItem&&!!l.iconEl.querySelector(".lucide-file"));i&&(i.callback=o);function o(){let l=r.workspace.getActiveViewOfType($t.MarkdownView);if(!l?.file)return;let u=n(l.file);l.editor.replaceSelection(u)}s(o,"callback")}handleReceiveTextMenu(e,n){this.handleReceiveMenuItemClick(e,()=>n)}async handleRename(){await this.handleFileOpen(this.app.workspace.getActiveFile())}async importFiles(e,n){for(let r of n){let i=window.Capacitor.convertFileSrc(r.uri),l=await(await fetch(i)).arrayBuffer(),u=new Ke({app:this.app,attachmentFileContent:l,noteFilePath:this.app.workspace.getActiveFile()?.path??"",originalAttachmentFileName:r.name}),d=await zr(this,u),f=Ge(r.name).slice(1);r.name=Dc+Nt(d,f)}return e.call(this.app.shareReceiver,n)}async insertFiles(e,n,r){for(let i of r){let o=await i.data;await this.setFileStat(o,i.filepath)}return e.call(n,r)}async saveAttachment(e,n,r){let i=this.app.workspace.getActiveFile();if(!i||this.settings.isPathIgnored(i.path))return await this.saveAttachmentCore(e,n,r);let o=!1,l=l2.exec(e);if(l){let f=l.groups?.Timestamp;if(f){let h=(0,Nc.default)(f,u2);h.isValid()&&(0,Nc.default)().diff(h,"seconds")<c2&&(o=!0)}}o&&n==="png"&&this.settings.shouldConvertPastedImagesToJpeg&&(n="jpg",r=await Qd(new Blob([r],{type:"image/png"}),this.settings.jpegQuality));let u=!1;switch(this.settings.attachmentRenameMode){case"All":u=!0;break;case"None":break;case"Only pasted images":u=o;break;default:throw new Error("Invalid attachment rename mode")}u&&(e=await zr(this,new Ke({app:this.app,attachmentFileContent:r,attachmentFileStat:this.arrayBufferFileStatMap.get(r),noteFilePath:i.path,originalAttachmentFileName:Nt(e,n)})));let d=await this.saveAttachmentCore(e,n,r);if(this.settings.markdownUrlFormat){let f=await new Ke({app:this.app,attachmentFileContent:r,attachmentFileStat:this.arrayBufferFileStatMap.get(r),generatedAttachmentFileName:d.name,generatedAttachmentFilePath:d.path,noteFilePath:i.path,originalAttachmentFileName:Nt(e,n)}).fillTemplate(this.settings.markdownUrlFormat);this.pathMarkdownUrlMap.set(d.path,f)}else this.pathMarkdownUrlMap.delete(d.path);return d}async saveAttachmentCore(e,n,r){let i=this.app.workspace.getActiveFile(),o=this.arrayBufferFileStatMap.get(r),l=await this.getAvailablePathForAttachments({attachmentFileBaseName:e,attachmentFileContent:r,attachmentFileExtension:n,attachmentFileStat:o,notePathOrFile:i,shouldSkipDuplicateCheck:!1,shouldSkipGeneratedAttachmentFileName:!0,shouldSkipMissingAttachmentFolderCreation:!1});return await this.app.vault.createBinary(l,r,of({ctime:o?.ctime?Math.trunc(o.ctime):void 0,mtime:o?.mtime?Math.trunc(o.mtime):void 0}))}async setFileStat(e,n){if(!n)return!1;if(this.app.vault.adapter instanceof $t.FileSystemAdapter){let r=await this.app.vault.adapter.fsPromises.stat(n);return this.arrayBufferFileStatMap.set(e,{ctime:r.ctimeMs,mtime:r.mtimeMs,size:r.size}),!0}if(this.app.vault.adapter instanceof $t.CapacitorAdapter){let r=await this.app.vault.adapter.fs.stat(n);return this.arrayBufferFileStatMap.set(e,{ctime:r.ctime??0,mtime:r.mtime??0,size:e.byteLength}),!0}return!1}};var d2=Ua;
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/

/* nosourcemap */