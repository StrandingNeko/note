/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault() {
      return extractDefault;
    },
    process() {
      const browserProcess = {
        browser: true,
        cwd() {
          return "/";
        },
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  function requirePatched(id) {
    const module2 = originalRequire?.(id);
    if (module2) {
      return extractDefault(module2);
    }
    if (id === "process" || id === "node:process") {
      console.error(`Module not found: ${id}. Fake process object is returned instead.`);
      return globalThis.process;
    }
    console.error(`Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var cA=Object.create;var li=Object.defineProperty;var dA=Object.getOwnPropertyDescriptor;var fA=Object.getOwnPropertyNames;var hA=Object.getPrototypeOf,pA=Object.prototype.hasOwnProperty;var s=(t,e)=>li(t,"name",{value:e,configurable:!0});var H=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ed=(t,e)=>{for(var n in e)li(t,n,{get:e[n],enumerable:!0})},Td=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of fA(e))!pA.call(t,i)&&i!==n&&li(t,i,{get:()=>e[i],enumerable:!(r=dA(e,i))||r.enumerable});return t};var Ve=(t,e,n)=>(n=t!=null?cA(hA(t)):{},Td(e||!t||!t.__esModule?li(n,"default",{value:t,enumerable:!0}):n,t)),mA=t=>Td(li({},"__esModule",{value:!0}),t);var un=H((hl,mr)=>{(function(t,e){typeof hl=="object"&&typeof mr<"u"?mr.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(hl,(function(){"use strict";var t;function e(){return t.apply(null,arguments)}s(e,"hooks");function n(a){t=a}s(n,"setHookCallback");function r(a){return a instanceof Array||Object.prototype.toString.call(a)==="[object Array]"}s(r,"isArray");function i(a){return a!=null&&Object.prototype.toString.call(a)==="[object Object]"}s(i,"isObject");function o(a,c){return Object.prototype.hasOwnProperty.call(a,c)}s(o,"hasOwnProp");function l(a){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(a).length===0;var c;for(c in a)if(o(a,c))return!1;return!0}s(l,"isObjectEmpty");function u(a){return a===void 0}s(u,"isUndefined");function d(a){return typeof a=="number"||Object.prototype.toString.call(a)==="[object Number]"}s(d,"isNumber");function f(a){return a instanceof Date||Object.prototype.toString.call(a)==="[object Date]"}s(f,"isDate");function p(a,c){var h=[],g,b=a.length;for(g=0;g<b;++g)h.push(c(a[g],g));return h}s(p,"map");function m(a,c){for(var h in c)o(c,h)&&(a[h]=c[h]);return o(c,"toString")&&(a.toString=c.toString),o(c,"valueOf")&&(a.valueOf=c.valueOf),a}s(m,"extend");function w(a,c,h,g){return nd(a,c,h,g,!0).utc()}s(w,"createUTC");function y(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}s(y,"defaultParsingFlags");function x(a){return a._pf==null&&(a._pf=y()),a._pf}s(x,"getParsingFlags");var T;Array.prototype.some?T=Array.prototype.some:T=s(function(a){var c=Object(this),h=c.length>>>0,g;for(g=0;g<h;g++)if(g in c&&a.call(this,c[g],g,c))return!0;return!1},"some");function S(a){var c=null,h=!1,g=a._d&&!isNaN(a._d.getTime());if(g&&(c=x(a),h=T.call(c.parsedDateParts,function(b){return b!=null}),g=c.overflow<0&&!c.empty&&!c.invalidEra&&!c.invalidMonth&&!c.invalidWeekday&&!c.weekdayMismatch&&!c.nullInput&&!c.invalidFormat&&!c.userInvalidated&&(!c.meridiem||c.meridiem&&h),a._strict&&(g=g&&c.charsLeftOver===0&&c.unusedTokens.length===0&&c.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(a))a._isValid=g;else return g;return a._isValid}s(S,"isValid");function E(a){var c=w(NaN);return a!=null?m(x(c),a):x(c).userInvalidated=!0,c}s(E,"createInvalid");var P=e.momentProperties=[],_=!1;function L(a,c){var h,g,b,k=P.length;if(u(c._isAMomentObject)||(a._isAMomentObject=c._isAMomentObject),u(c._i)||(a._i=c._i),u(c._f)||(a._f=c._f),u(c._l)||(a._l=c._l),u(c._strict)||(a._strict=c._strict),u(c._tzm)||(a._tzm=c._tzm),u(c._isUTC)||(a._isUTC=c._isUTC),u(c._offset)||(a._offset=c._offset),u(c._pf)||(a._pf=x(c)),u(c._locale)||(a._locale=c._locale),k>0)for(h=0;h<k;h++)g=P[h],b=c[g],u(b)||(a[g]=b);return a}s(L,"copyConfig");function z(a){L(this,a),this._d=new Date(a._d!=null?a._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),_===!1&&(_=!0,e.updateOffset(this),_=!1)}s(z,"Moment");function F(a){return a instanceof z||a!=null&&a._isAMomentObject!=null}s(F,"isMoment");function Z(a){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+a)}s(Z,"warn");function re(a,c){var h=!0;return m(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,a),h){var g=[],b,k,I,$=arguments.length;for(k=0;k<$;k++){if(b="",typeof arguments[k]=="object"){b+=`
[`+k+"] ";for(I in arguments[0])o(arguments[0],I)&&(b+=I+": "+arguments[0][I]+", ");b=b.slice(0,-2)}else b=arguments[k];g.push(b)}Z(a+`
Arguments: `+Array.prototype.slice.call(g).join("")+`
`+new Error().stack),h=!1}return c.apply(this,arguments)},c)}s(re,"deprecate");var q={};function ne(a,c){e.deprecationHandler!=null&&e.deprecationHandler(a,c),q[a]||(Z(c),q[a]=!0)}s(ne,"deprecateSimple"),e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function me(a){return typeof Function<"u"&&a instanceof Function||Object.prototype.toString.call(a)==="[object Function]"}s(me,"isFunction");function ae(a){var c,h;for(h in a)o(a,h)&&(c=a[h],me(c)?this[h]=c:this["_"+h]=c);this._config=a,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}s(ae,"set");function N(a,c){var h=m({},a),g;for(g in c)o(c,g)&&(i(a[g])&&i(c[g])?(h[g]={},m(h[g],a[g]),m(h[g],c[g])):c[g]!=null?h[g]=c[g]:delete h[g]);for(g in a)o(a,g)&&!o(c,g)&&i(a[g])&&(h[g]=m({},h[g]));return h}s(N,"mergeConfigs");function j(a){a!=null&&this.set(a)}s(j,"Locale");var G;Object.keys?G=Object.keys:G=s(function(a){var c,h=[];for(c in a)o(a,c)&&h.push(c);return h},"keys");var Q={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ce(a,c,h){var g=this._calendar[a]||this._calendar.sameElse;return me(g)?g.call(c,h):g}s(ce,"calendar");function ge(a,c,h){var g=""+Math.abs(a),b=c-g.length,k=a>=0;return(k?h?"+":"":"-")+Math.pow(10,Math.max(0,b)).toString().substr(1)+g}s(ge,"zeroFill");var Oe=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,v=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,fe={},ve={};function A(a,c,h,g){var b=g;typeof g=="string"&&(b=s(function(){return this[g]()},"func")),a&&(ve[a]=b),c&&(ve[c[0]]=function(){return ge(b.apply(this,arguments),c[1],c[2])}),h&&(ve[h]=function(){return this.localeData().ordinal(b.apply(this,arguments),a)})}s(A,"addFormatToken");function Ne(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}s(Ne,"removeFormattingTokens");function Xt(a){var c=a.match(Oe),h,g;for(h=0,g=c.length;h<g;h++)ve[c[h]]?c[h]=ve[c[h]]:c[h]=Ne(c[h]);return function(b){var k="",I;for(I=0;I<g;I++)k+=me(c[I])?c[I].call(b,a):c[I];return k}}s(Xt,"makeFormatFunction");function xn(a,c){return a.isValid()?(c=$n(c,a.localeData()),fe[c]=fe[c]||Xt(c),fe[c](a)):a.localeData().invalidDate()}s(xn,"formatMoment");function $n(a,c){var h=5;function g(b){return c.longDateFormat(b)||b}for(s(g,"replaceLongDateFormatTokens"),v.lastIndex=0;h>=0&&v.test(a);)a=a.replace(v,g),v.lastIndex=0,h-=1;return a}s($n,"expandFormat");var _e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Bn(a){var c=this._longDateFormat[a],h=this._longDateFormat[a.toUpperCase()];return c||!h?c:(this._longDateFormat[a]=h.match(Oe).map(function(g){return g==="MMMM"||g==="MM"||g==="DD"||g==="dddd"?g.slice(1):g}).join(""),this._longDateFormat[a])}s(Bn,"longDateFormat");var Pt="Invalid date";function Zt(){return this._invalidDate}s(Zt,"invalidDate");var kn="%d",Zr=/\d{1,2}/;function za(a){return this._ordinal.replace("%d",a)}s(za,"ordinal");var Xi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Zi(a,c,h,g){var b=this._relativeTime[h];return me(b)?b(a,c,h,g):b.replace(/%d/i,a)}s(Zi,"relativeTime");function Qi(a,c){var h=this._relativeTime[a>0?"future":"past"];return me(h)?h(c):h.replace(/%s/i,c)}s(Qi,"pastFuture");var es={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ze(a){return typeof a=="string"?es[a]||es[a.toLowerCase()]:void 0}s(Ze,"normalizeUnits");function ar(a){var c={},h,g;for(g in a)o(a,g)&&(h=Ze(g),h&&(c[h]=a[g]));return c}s(ar,"normalizeObjectUnits");var Ha={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ja(a){var c=[],h;for(h in a)o(a,h)&&c.push({unit:h,priority:Ha[h]});return c.sort(function(g,b){return g.priority-b.priority}),c}s(ja,"getPrioritizedUnits");var ts=/\d/,Qe=/\d\d/,ns=/\d{3}/,O=/\d{4}/,M=/[+-]?\d{6}/,D=/\d\d?/,se=/\d\d\d\d?/,he=/\d\d\d\d\d\d?/,je=/\d{1,3}/,It=/\d{1,4}/,lt=/[+-]?\d{1,6}/,wt=/\d+/,Bt=/[+-]?\d+/,et=/Z|[+-]\d\d:?\d\d/gi,Ot=/Z|[+-]\d\d(?::?\d\d)?/gi,_t=/[+-]?\d+(\.\d{1,3})?/,Qr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,lr=/^[1-9]\d?/,Ga=/^([1-9]\d|\d)/,rs;rs={};function U(a,c,h){rs[a]=me(c)?c:function(g,b){return g&&h?h:c}}s(U,"addRegexToken");function Oy(a,c){return o(rs,a)?rs[a](c._strict,c._locale):new RegExp(_y(a))}s(Oy,"getParseRegexForToken");function _y(a){return Qt(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(c,h,g,b,k){return h||g||b||k}))}s(_y,"unescapeFormat");function Qt(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}s(Qt,"regexEscape");function bt(a){return a<0?Math.ceil(a)||0:Math.floor(a)}s(bt,"absFloor");function oe(a){var c=+a,h=0;return c!==0&&isFinite(c)&&(h=bt(c)),h}s(oe,"toInt");var qa={};function ye(a,c){var h,g=c,b;for(typeof a=="string"&&(a=[a]),d(c)&&(g=s(function(k,I){I[c]=oe(k)},"func")),b=a.length,h=0;h<b;h++)qa[a[h]]=g}s(ye,"addParseToken");function ei(a,c){ye(a,function(h,g,b,k){b._w=b._w||{},c(h,b._w,b,k)})}s(ei,"addWeekParseToken");function Ry(a,c,h){c!=null&&o(qa,a)&&qa[a](c,h._a,h,a)}s(Ry,"addTimeToArrayFromToken");function is(a){return a%4===0&&a%100!==0||a%400===0}s(is,"isLeapYear");var Ge=0,en=1,Vt=2,Re=3,Rt=4,tn=5,Vn=6,My=7,Ny=8;A("Y",0,0,function(){var a=this.year();return a<=9999?ge(a,4):"+"+a}),A(0,["YY",2],0,function(){return this.year()%100}),A(0,["YYYY",4],0,"year"),A(0,["YYYYY",5],0,"year"),A(0,["YYYYYY",6,!0],0,"year"),U("Y",Bt),U("YY",D,Qe),U("YYYY",It,O),U("YYYYY",lt,M),U("YYYYYY",lt,M),ye(["YYYYY","YYYYYY"],Ge),ye("YYYY",function(a,c){c[Ge]=a.length===2?e.parseTwoDigitYear(a):oe(a)}),ye("YY",function(a,c){c[Ge]=e.parseTwoDigitYear(a)}),ye("Y",function(a,c){c[Ge]=parseInt(a,10)});function ti(a){return is(a)?366:365}s(ti,"daysInYear"),e.parseTwoDigitYear=function(a){return oe(a)+(oe(a)>68?1900:2e3)};var Vc=ur("FullYear",!0);function Ly(){return is(this.year())}s(Ly,"getIsLeapYear");function ur(a,c){return function(h){return h!=null?(Uc(this,a,h),e.updateOffset(this,c),this):ni(this,a)}}s(ur,"makeGetSet");function ni(a,c){if(!a.isValid())return NaN;var h=a._d,g=a._isUTC;switch(c){case"Milliseconds":return g?h.getUTCMilliseconds():h.getMilliseconds();case"Seconds":return g?h.getUTCSeconds():h.getSeconds();case"Minutes":return g?h.getUTCMinutes():h.getMinutes();case"Hours":return g?h.getUTCHours():h.getHours();case"Date":return g?h.getUTCDate():h.getDate();case"Day":return g?h.getUTCDay():h.getDay();case"Month":return g?h.getUTCMonth():h.getMonth();case"FullYear":return g?h.getUTCFullYear():h.getFullYear();default:return NaN}}s(ni,"get");function Uc(a,c,h){var g,b,k,I,$;if(!(!a.isValid()||isNaN(h))){switch(g=a._d,b=a._isUTC,c){case"Milliseconds":return void(b?g.setUTCMilliseconds(h):g.setMilliseconds(h));case"Seconds":return void(b?g.setUTCSeconds(h):g.setSeconds(h));case"Minutes":return void(b?g.setUTCMinutes(h):g.setMinutes(h));case"Hours":return void(b?g.setUTCHours(h):g.setHours(h));case"Date":return void(b?g.setUTCDate(h):g.setDate(h));case"FullYear":break;default:return}k=h,I=a.month(),$=a.date(),$=$===29&&I===1&&!is(k)?28:$,b?g.setUTCFullYear(k,I,$):g.setFullYear(k,I,$)}}s(Uc,"set$1");function Dy(a){return a=Ze(a),me(this[a])?this[a]():this}s(Dy,"stringGet");function $y(a,c){if(typeof a=="object"){a=ar(a);var h=ja(a),g,b=h.length;for(g=0;g<b;g++)this[h[g].unit](a[h[g].unit])}else if(a=Ze(a),me(this[a]))return this[a](c);return this}s($y,"stringSet");function By(a,c){return(a%c+c)%c}s(By,"mod");var Pe;Array.prototype.indexOf?Pe=Array.prototype.indexOf:Pe=s(function(a){var c;for(c=0;c<this.length;++c)if(this[c]===a)return c;return-1},"indexOf");function Ka(a,c){if(isNaN(a)||isNaN(c))return NaN;var h=By(c,12);return a+=(c-h)/12,h===1?is(a)?29:28:31-h%7%2}s(Ka,"daysInMonth"),A("M",["MM",2],"Mo",function(){return this.month()+1}),A("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),A("MMMM",0,0,function(a){return this.localeData().months(this,a)}),U("M",D,lr),U("MM",D,Qe),U("MMM",function(a,c){return c.monthsShortRegex(a)}),U("MMMM",function(a,c){return c.monthsRegex(a)}),ye(["M","MM"],function(a,c){c[en]=oe(a)-1}),ye(["MMM","MMMM"],function(a,c,h,g){var b=h._locale.monthsParse(a,g,h._strict);b!=null?c[en]=b:x(h).invalidMonth=a});var Vy="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Wc="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Yc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Uy=Qr,Wy=Qr;function Yy(a,c){return a?r(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||Yc).test(c)?"format":"standalone"][a.month()]:r(this._months)?this._months:this._months.standalone}s(Yy,"localeMonths");function zy(a,c){return a?r(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[Yc.test(c)?"format":"standalone"][a.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}s(zy,"localeMonthsShort");function Hy(a,c,h){var g,b,k,I=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],g=0;g<12;++g)k=w([2e3,g]),this._shortMonthsParse[g]=this.monthsShort(k,"").toLocaleLowerCase(),this._longMonthsParse[g]=this.months(k,"").toLocaleLowerCase();return h?c==="MMM"?(b=Pe.call(this._shortMonthsParse,I),b!==-1?b:null):(b=Pe.call(this._longMonthsParse,I),b!==-1?b:null):c==="MMM"?(b=Pe.call(this._shortMonthsParse,I),b!==-1?b:(b=Pe.call(this._longMonthsParse,I),b!==-1?b:null)):(b=Pe.call(this._longMonthsParse,I),b!==-1?b:(b=Pe.call(this._shortMonthsParse,I),b!==-1?b:null))}s(Hy,"handleStrictParse");function jy(a,c,h){var g,b,k;if(this._monthsParseExact)return Hy.call(this,a,c,h);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),g=0;g<12;g++){if(b=w([2e3,g]),h&&!this._longMonthsParse[g]&&(this._longMonthsParse[g]=new RegExp("^"+this.months(b,"").replace(".","")+"$","i"),this._shortMonthsParse[g]=new RegExp("^"+this.monthsShort(b,"").replace(".","")+"$","i")),!h&&!this._monthsParse[g]&&(k="^"+this.months(b,"")+"|^"+this.monthsShort(b,""),this._monthsParse[g]=new RegExp(k.replace(".",""),"i")),h&&c==="MMMM"&&this._longMonthsParse[g].test(a))return g;if(h&&c==="MMM"&&this._shortMonthsParse[g].test(a))return g;if(!h&&this._monthsParse[g].test(a))return g}}s(jy,"localeMonthsParse");function zc(a,c){if(!a.isValid())return a;if(typeof c=="string"){if(/^\d+$/.test(c))c=oe(c);else if(c=a.localeData().monthsParse(c),!d(c))return a}var h=c,g=a.date();return g=g<29?g:Math.min(g,Ka(a.year(),h)),a._isUTC?a._d.setUTCMonth(h,g):a._d.setMonth(h,g),a}s(zc,"setMonth");function Hc(a){return a!=null?(zc(this,a),e.updateOffset(this,!0),this):ni(this,"Month")}s(Hc,"getSetMonth");function Gy(){return Ka(this.year(),this.month())}s(Gy,"getDaysInMonth");function qy(a){return this._monthsParseExact?(o(this,"_monthsRegex")||jc.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=Uy),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}s(qy,"monthsShortRegex");function Ky(a){return this._monthsParseExact?(o(this,"_monthsRegex")||jc.call(this),a?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=Wy),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}s(Ky,"monthsRegex");function jc(){function a(K,le){return le.length-K.length}s(a,"cmpLenRev");var c=[],h=[],g=[],b,k,I,$;for(b=0;b<12;b++)k=w([2e3,b]),I=Qt(this.monthsShort(k,"")),$=Qt(this.months(k,"")),c.push(I),h.push($),g.push($),g.push(I);c.sort(a),h.sort(a),g.sort(a),this._monthsRegex=new RegExp("^("+g.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+c.join("|")+")","i")}s(jc,"computeMonthsParse");function Jy(a,c,h,g,b,k,I){var $;return a<100&&a>=0?($=new Date(a+400,c,h,g,b,k,I),isFinite($.getFullYear())&&$.setFullYear(a)):$=new Date(a,c,h,g,b,k,I),$}s(Jy,"createDate");function ri(a){var c,h;return a<100&&a>=0?(h=Array.prototype.slice.call(arguments),h[0]=a+400,c=new Date(Date.UTC.apply(null,h)),isFinite(c.getUTCFullYear())&&c.setUTCFullYear(a)):c=new Date(Date.UTC.apply(null,arguments)),c}s(ri,"createUTCDate");function ss(a,c,h){var g=7+c-h,b=(7+ri(a,0,g).getUTCDay()-c)%7;return-b+g-1}s(ss,"firstWeekOffset");function Gc(a,c,h,g,b){var k=(7+h-g)%7,I=ss(a,g,b),$=1+7*(c-1)+k+I,K,le;return $<=0?(K=a-1,le=ti(K)+$):$>ti(a)?(K=a+1,le=$-ti(a)):(K=a,le=$),{year:K,dayOfYear:le}}s(Gc,"dayOfYearFromWeeks");function ii(a,c,h){var g=ss(a.year(),c,h),b=Math.floor((a.dayOfYear()-g-1)/7)+1,k,I;return b<1?(I=a.year()-1,k=b+nn(I,c,h)):b>nn(a.year(),c,h)?(k=b-nn(a.year(),c,h),I=a.year()+1):(I=a.year(),k=b),{week:k,year:I}}s(ii,"weekOfYear");function nn(a,c,h){var g=ss(a,c,h),b=ss(a+1,c,h);return(ti(a)-g+b)/7}s(nn,"weeksInYear"),A("w",["ww",2],"wo","week"),A("W",["WW",2],"Wo","isoWeek"),U("w",D,lr),U("ww",D,Qe),U("W",D,lr),U("WW",D,Qe),ei(["w","ww","W","WW"],function(a,c,h,g){c[g.substr(0,1)]=oe(a)});function Xy(a){return ii(a,this._week.dow,this._week.doy).week}s(Xy,"localeWeek");var Zy={dow:0,doy:6};function Qy(){return this._week.dow}s(Qy,"localeFirstDayOfWeek");function e0(){return this._week.doy}s(e0,"localeFirstDayOfYear");function t0(a){var c=this.localeData().week(this);return a==null?c:this.add((a-c)*7,"d")}s(t0,"getSetWeek");function n0(a){var c=ii(this,1,4).week;return a==null?c:this.add((a-c)*7,"d")}s(n0,"getSetISOWeek"),A("d",0,"do","day"),A("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),A("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),A("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),A("e",0,0,"weekday"),A("E",0,0,"isoWeekday"),U("d",D),U("e",D),U("E",D),U("dd",function(a,c){return c.weekdaysMinRegex(a)}),U("ddd",function(a,c){return c.weekdaysShortRegex(a)}),U("dddd",function(a,c){return c.weekdaysRegex(a)}),ei(["dd","ddd","dddd"],function(a,c,h,g){var b=h._locale.weekdaysParse(a,g,h._strict);b!=null?c.d=b:x(h).invalidWeekday=a}),ei(["d","e","E"],function(a,c,h,g){c[g]=oe(a)});function r0(a,c){return typeof a!="string"?a:isNaN(a)?(a=c.weekdaysParse(a),typeof a=="number"?a:null):parseInt(a,10)}s(r0,"parseWeekday");function i0(a,c){return typeof a=="string"?c.weekdaysParse(a)%7||7:isNaN(a)?null:a}s(i0,"parseIsoWeekday");function Ja(a,c){return a.slice(c,7).concat(a.slice(0,c))}s(Ja,"shiftWeekdays");var s0="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),qc="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),o0="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),a0=Qr,l0=Qr,u0=Qr;function c0(a,c){var h=r(this._weekdays)?this._weekdays:this._weekdays[a&&a!==!0&&this._weekdays.isFormat.test(c)?"format":"standalone"];return a===!0?Ja(h,this._week.dow):a?h[a.day()]:h}s(c0,"localeWeekdays");function d0(a){return a===!0?Ja(this._weekdaysShort,this._week.dow):a?this._weekdaysShort[a.day()]:this._weekdaysShort}s(d0,"localeWeekdaysShort");function f0(a){return a===!0?Ja(this._weekdaysMin,this._week.dow):a?this._weekdaysMin[a.day()]:this._weekdaysMin}s(f0,"localeWeekdaysMin");function h0(a,c,h){var g,b,k,I=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],g=0;g<7;++g)k=w([2e3,1]).day(g),this._minWeekdaysParse[g]=this.weekdaysMin(k,"").toLocaleLowerCase(),this._shortWeekdaysParse[g]=this.weekdaysShort(k,"").toLocaleLowerCase(),this._weekdaysParse[g]=this.weekdays(k,"").toLocaleLowerCase();return h?c==="dddd"?(b=Pe.call(this._weekdaysParse,I),b!==-1?b:null):c==="ddd"?(b=Pe.call(this._shortWeekdaysParse,I),b!==-1?b:null):(b=Pe.call(this._minWeekdaysParse,I),b!==-1?b:null):c==="dddd"?(b=Pe.call(this._weekdaysParse,I),b!==-1||(b=Pe.call(this._shortWeekdaysParse,I),b!==-1)?b:(b=Pe.call(this._minWeekdaysParse,I),b!==-1?b:null)):c==="ddd"?(b=Pe.call(this._shortWeekdaysParse,I),b!==-1||(b=Pe.call(this._weekdaysParse,I),b!==-1)?b:(b=Pe.call(this._minWeekdaysParse,I),b!==-1?b:null)):(b=Pe.call(this._minWeekdaysParse,I),b!==-1||(b=Pe.call(this._weekdaysParse,I),b!==-1)?b:(b=Pe.call(this._shortWeekdaysParse,I),b!==-1?b:null))}s(h0,"handleStrictParse$1");function p0(a,c,h){var g,b,k;if(this._weekdaysParseExact)return h0.call(this,a,c,h);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),g=0;g<7;g++){if(b=w([2e3,1]).day(g),h&&!this._fullWeekdaysParse[g]&&(this._fullWeekdaysParse[g]=new RegExp("^"+this.weekdays(b,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[g]=new RegExp("^"+this.weekdaysShort(b,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[g]=new RegExp("^"+this.weekdaysMin(b,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[g]||(k="^"+this.weekdays(b,"")+"|^"+this.weekdaysShort(b,"")+"|^"+this.weekdaysMin(b,""),this._weekdaysParse[g]=new RegExp(k.replace(".",""),"i")),h&&c==="dddd"&&this._fullWeekdaysParse[g].test(a))return g;if(h&&c==="ddd"&&this._shortWeekdaysParse[g].test(a))return g;if(h&&c==="dd"&&this._minWeekdaysParse[g].test(a))return g;if(!h&&this._weekdaysParse[g].test(a))return g}}s(p0,"localeWeekdaysParse");function m0(a){if(!this.isValid())return a!=null?this:NaN;var c=ni(this,"Day");return a!=null?(a=r0(a,this.localeData()),this.add(a-c,"d")):c}s(m0,"getSetDayOfWeek");function g0(a){if(!this.isValid())return a!=null?this:NaN;var c=(this.day()+7-this.localeData()._week.dow)%7;return a==null?c:this.add(a-c,"d")}s(g0,"getSetLocaleDayOfWeek");function y0(a){if(!this.isValid())return a!=null?this:NaN;if(a!=null){var c=i0(a,this.localeData());return this.day(this.day()%7?c:c-7)}else return this.day()||7}s(y0,"getSetISODayOfWeek");function w0(a){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Xa.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=a0),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}s(w0,"weekdaysRegex");function b0(a){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Xa.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=l0),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}s(b0,"weekdaysShortRegex");function A0(a){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Xa.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=u0),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}s(A0,"weekdaysMinRegex");function Xa(){function a(tt,ln){return ln.length-tt.length}s(a,"cmpLenRev");var c=[],h=[],g=[],b=[],k,I,$,K,le;for(k=0;k<7;k++)I=w([2e3,1]).day(k),$=Qt(this.weekdaysMin(I,"")),K=Qt(this.weekdaysShort(I,"")),le=Qt(this.weekdays(I,"")),c.push($),h.push(K),g.push(le),b.push($),b.push(K),b.push(le);c.sort(a),h.sort(a),g.sort(a),b.sort(a),this._weekdaysRegex=new RegExp("^("+b.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+c.join("|")+")","i")}s(Xa,"computeWeekdaysParse");function Za(){return this.hours()%12||12}s(Za,"hFormat");function x0(){return this.hours()||24}s(x0,"kFormat"),A("H",["HH",2],0,"hour"),A("h",["hh",2],0,Za),A("k",["kk",2],0,x0),A("hmm",0,0,function(){return""+Za.apply(this)+ge(this.minutes(),2)}),A("hmmss",0,0,function(){return""+Za.apply(this)+ge(this.minutes(),2)+ge(this.seconds(),2)}),A("Hmm",0,0,function(){return""+this.hours()+ge(this.minutes(),2)}),A("Hmmss",0,0,function(){return""+this.hours()+ge(this.minutes(),2)+ge(this.seconds(),2)});function Kc(a,c){A(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),c)})}s(Kc,"meridiem"),Kc("a",!0),Kc("A",!1);function Jc(a,c){return c._meridiemParse}s(Jc,"matchMeridiem"),U("a",Jc),U("A",Jc),U("H",D,Ga),U("h",D,lr),U("k",D,lr),U("HH",D,Qe),U("hh",D,Qe),U("kk",D,Qe),U("hmm",se),U("hmmss",he),U("Hmm",se),U("Hmmss",he),ye(["H","HH"],Re),ye(["k","kk"],function(a,c,h){var g=oe(a);c[Re]=g===24?0:g}),ye(["a","A"],function(a,c,h){h._isPm=h._locale.isPM(a),h._meridiem=a}),ye(["h","hh"],function(a,c,h){c[Re]=oe(a),x(h).bigHour=!0}),ye("hmm",function(a,c,h){var g=a.length-2;c[Re]=oe(a.substr(0,g)),c[Rt]=oe(a.substr(g)),x(h).bigHour=!0}),ye("hmmss",function(a,c,h){var g=a.length-4,b=a.length-2;c[Re]=oe(a.substr(0,g)),c[Rt]=oe(a.substr(g,2)),c[tn]=oe(a.substr(b)),x(h).bigHour=!0}),ye("Hmm",function(a,c,h){var g=a.length-2;c[Re]=oe(a.substr(0,g)),c[Rt]=oe(a.substr(g))}),ye("Hmmss",function(a,c,h){var g=a.length-4,b=a.length-2;c[Re]=oe(a.substr(0,g)),c[Rt]=oe(a.substr(g,2)),c[tn]=oe(a.substr(b))});function k0(a){return(a+"").toLowerCase().charAt(0)==="p"}s(k0,"localeIsPM");var v0=/[ap]\.?m?\.?/i,C0=ur("Hours",!0);function E0(a,c,h){return a>11?h?"pm":"PM":h?"am":"AM"}s(E0,"localeMeridiem");var Xc={calendar:Q,longDateFormat:_e,invalidDate:Pt,ordinal:kn,dayOfMonthOrdinalParse:Zr,relativeTime:Xi,months:Vy,monthsShort:Wc,week:Zy,weekdays:s0,weekdaysMin:o0,weekdaysShort:qc,meridiemParse:v0},Ce={},si={},oi;function T0(a,c){var h,g=Math.min(a.length,c.length);for(h=0;h<g;h+=1)if(a[h]!==c[h])return h;return g}s(T0,"commonPrefix");function Zc(a){return a&&a.toLowerCase().replace("_","-")}s(Zc,"normalizeLocale");function S0(a){for(var c=0,h,g,b,k;c<a.length;){for(k=Zc(a[c]).split("-"),h=k.length,g=Zc(a[c+1]),g=g?g.split("-"):null;h>0;){if(b=os(k.slice(0,h).join("-")),b)return b;if(g&&g.length>=h&&T0(k,g)>=h-1)break;h--}c++}return oi}s(S0,"chooseLocale");function F0(a){return!!(a&&a.match("^[^/\\\\]*$"))}s(F0,"isLocaleNameSane");function os(a){var c=null,h;if(Ce[a]===void 0&&typeof mr<"u"&&mr&&mr.exports&&F0(a))try{c=oi._abbr,h=require,h("./locale/"+a),vn(c)}catch{Ce[a]=null}return Ce[a]}s(os,"loadLocale");function vn(a,c){var h;return a&&(u(c)?h=rn(a):h=Qa(a,c),h?oi=h:typeof console<"u"&&console.warn&&console.warn("Locale "+a+" not found. Did you forget to load it?")),oi._abbr}s(vn,"getSetGlobalLocale");function Qa(a,c){if(c!==null){var h,g=Xc;if(c.abbr=a,Ce[a]!=null)ne("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),g=Ce[a]._config;else if(c.parentLocale!=null)if(Ce[c.parentLocale]!=null)g=Ce[c.parentLocale]._config;else if(h=os(c.parentLocale),h!=null)g=h._config;else return si[c.parentLocale]||(si[c.parentLocale]=[]),si[c.parentLocale].push({name:a,config:c}),null;return Ce[a]=new j(N(g,c)),si[a]&&si[a].forEach(function(b){Qa(b.name,b.config)}),vn(a),Ce[a]}else return delete Ce[a],null}s(Qa,"defineLocale");function P0(a,c){if(c!=null){var h,g,b=Xc;Ce[a]!=null&&Ce[a].parentLocale!=null?Ce[a].set(N(Ce[a]._config,c)):(g=os(a),g!=null&&(b=g._config),c=N(b,c),g==null&&(c.abbr=a),h=new j(c),h.parentLocale=Ce[a],Ce[a]=h),vn(a)}else Ce[a]!=null&&(Ce[a].parentLocale!=null?(Ce[a]=Ce[a].parentLocale,a===vn()&&vn(a)):Ce[a]!=null&&delete Ce[a]);return Ce[a]}s(P0,"updateLocale");function rn(a){var c;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return oi;if(!r(a)){if(c=os(a),c)return c;a=[a]}return S0(a)}s(rn,"getLocale");function I0(){return G(Ce)}s(I0,"listLocales");function el(a){var c,h=a._a;return h&&x(a).overflow===-2&&(c=h[en]<0||h[en]>11?en:h[Vt]<1||h[Vt]>Ka(h[Ge],h[en])?Vt:h[Re]<0||h[Re]>24||h[Re]===24&&(h[Rt]!==0||h[tn]!==0||h[Vn]!==0)?Re:h[Rt]<0||h[Rt]>59?Rt:h[tn]<0||h[tn]>59?tn:h[Vn]<0||h[Vn]>999?Vn:-1,x(a)._overflowDayOfYear&&(c<Ge||c>Vt)&&(c=Vt),x(a)._overflowWeeks&&c===-1&&(c=My),x(a)._overflowWeekday&&c===-1&&(c=Ny),x(a).overflow=c),a}s(el,"checkOverflow");var O0=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_0=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,R0=/Z|[+-]\d\d(?::?\d\d)?/,as=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],tl=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],M0=/^\/?Date\((-?\d+)/i,N0=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,L0={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Qc(a){var c,h,g=a._i,b=O0.exec(g)||_0.exec(g),k,I,$,K,le=as.length,tt=tl.length;if(b){for(x(a).iso=!0,c=0,h=le;c<h;c++)if(as[c][1].exec(b[1])){I=as[c][0],k=as[c][2]!==!1;break}if(I==null){a._isValid=!1;return}if(b[3]){for(c=0,h=tt;c<h;c++)if(tl[c][1].exec(b[3])){$=(b[2]||" ")+tl[c][0];break}if($==null){a._isValid=!1;return}}if(!k&&$!=null){a._isValid=!1;return}if(b[4])if(R0.exec(b[4]))K="Z";else{a._isValid=!1;return}a._f=I+($||"")+(K||""),rl(a)}else a._isValid=!1}s(Qc,"configFromISO");function D0(a,c,h,g,b,k){var I=[$0(a),Wc.indexOf(c),parseInt(h,10),parseInt(g,10),parseInt(b,10)];return k&&I.push(parseInt(k,10)),I}s(D0,"extractFromRFC2822Strings");function $0(a){var c=parseInt(a,10);return c<=49?2e3+c:c<=999?1900+c:c}s($0,"untruncateYear");function B0(a){return a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}s(B0,"preprocessRFC2822");function V0(a,c,h){if(a){var g=qc.indexOf(a),b=new Date(c[0],c[1],c[2]).getDay();if(g!==b)return x(h).weekdayMismatch=!0,h._isValid=!1,!1}return!0}s(V0,"checkWeekday");function U0(a,c,h){if(a)return L0[a];if(c)return 0;var g=parseInt(h,10),b=g%100,k=(g-b)/100;return k*60+b}s(U0,"calculateOffset");function ed(a){var c=N0.exec(B0(a._i)),h;if(c){if(h=D0(c[4],c[3],c[2],c[5],c[6],c[7]),!V0(c[1],h,a))return;a._a=h,a._tzm=U0(c[8],c[9],c[10]),a._d=ri.apply(null,a._a),a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),x(a).rfc2822=!0}else a._isValid=!1}s(ed,"configFromRFC2822");function W0(a){var c=M0.exec(a._i);if(c!==null){a._d=new Date(+c[1]);return}if(Qc(a),a._isValid===!1)delete a._isValid;else return;if(ed(a),a._isValid===!1)delete a._isValid;else return;a._strict?a._isValid=!1:e.createFromInputFallback(a)}s(W0,"configFromString"),e.createFromInputFallback=re("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});function cr(a,c,h){return a??c??h}s(cr,"defaults");function Y0(a){var c=new Date(e.now());return a._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}s(Y0,"currentDateArray");function nl(a){var c,h,g=[],b,k,I;if(!a._d){for(b=Y0(a),a._w&&a._a[Vt]==null&&a._a[en]==null&&z0(a),a._dayOfYear!=null&&(I=cr(a._a[Ge],b[Ge]),(a._dayOfYear>ti(I)||a._dayOfYear===0)&&(x(a)._overflowDayOfYear=!0),h=ri(I,0,a._dayOfYear),a._a[en]=h.getUTCMonth(),a._a[Vt]=h.getUTCDate()),c=0;c<3&&a._a[c]==null;++c)a._a[c]=g[c]=b[c];for(;c<7;c++)a._a[c]=g[c]=a._a[c]==null?c===2?1:0:a._a[c];a._a[Re]===24&&a._a[Rt]===0&&a._a[tn]===0&&a._a[Vn]===0&&(a._nextDay=!0,a._a[Re]=0),a._d=(a._useUTC?ri:Jy).apply(null,g),k=a._useUTC?a._d.getUTCDay():a._d.getDay(),a._tzm!=null&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[Re]=24),a._w&&typeof a._w.d<"u"&&a._w.d!==k&&(x(a).weekdayMismatch=!0)}}s(nl,"configFromArray");function z0(a){var c,h,g,b,k,I,$,K,le;c=a._w,c.GG!=null||c.W!=null||c.E!=null?(k=1,I=4,h=cr(c.GG,a._a[Ge],ii(be(),1,4).year),g=cr(c.W,1),b=cr(c.E,1),(b<1||b>7)&&(K=!0)):(k=a._locale._week.dow,I=a._locale._week.doy,le=ii(be(),k,I),h=cr(c.gg,a._a[Ge],le.year),g=cr(c.w,le.week),c.d!=null?(b=c.d,(b<0||b>6)&&(K=!0)):c.e!=null?(b=c.e+k,(c.e<0||c.e>6)&&(K=!0)):b=k),g<1||g>nn(h,k,I)?x(a)._overflowWeeks=!0:K!=null?x(a)._overflowWeekday=!0:($=Gc(h,g,b,k,I),a._a[Ge]=$.year,a._dayOfYear=$.dayOfYear)}s(z0,"dayOfYearFromWeekInfo"),e.ISO_8601=function(){},e.RFC_2822=function(){};function rl(a){if(a._f===e.ISO_8601){Qc(a);return}if(a._f===e.RFC_2822){ed(a);return}a._a=[],x(a).empty=!0;var c=""+a._i,h,g,b,k,I,$=c.length,K=0,le,tt;for(b=$n(a._f,a._locale).match(Oe)||[],tt=b.length,h=0;h<tt;h++)k=b[h],g=(c.match(Oy(k,a))||[])[0],g&&(I=c.substr(0,c.indexOf(g)),I.length>0&&x(a).unusedInput.push(I),c=c.slice(c.indexOf(g)+g.length),K+=g.length),ve[k]?(g?x(a).empty=!1:x(a).unusedTokens.push(k),Ry(k,g,a)):a._strict&&!g&&x(a).unusedTokens.push(k);x(a).charsLeftOver=$-K,c.length>0&&x(a).unusedInput.push(c),a._a[Re]<=12&&x(a).bigHour===!0&&a._a[Re]>0&&(x(a).bigHour=void 0),x(a).parsedDateParts=a._a.slice(0),x(a).meridiem=a._meridiem,a._a[Re]=H0(a._locale,a._a[Re],a._meridiem),le=x(a).era,le!==null&&(a._a[Ge]=a._locale.erasConvertYear(le,a._a[Ge])),nl(a),el(a)}s(rl,"configFromStringAndFormat");function H0(a,c,h){var g;return h==null?c:a.meridiemHour!=null?a.meridiemHour(c,h):(a.isPM!=null&&(g=a.isPM(h),g&&c<12&&(c+=12),!g&&c===12&&(c=0)),c)}s(H0,"meridiemFixWrap");function j0(a){var c,h,g,b,k,I,$=!1,K=a._f.length;if(K===0){x(a).invalidFormat=!0,a._d=new Date(NaN);return}for(b=0;b<K;b++)k=0,I=!1,c=L({},a),a._useUTC!=null&&(c._useUTC=a._useUTC),c._f=a._f[b],rl(c),S(c)&&(I=!0),k+=x(c).charsLeftOver,k+=x(c).unusedTokens.length*10,x(c).score=k,$?k<g&&(g=k,h=c):(g==null||k<g||I)&&(g=k,h=c,I&&($=!0));m(a,h||c)}s(j0,"configFromStringAndArray");function G0(a){if(!a._d){var c=ar(a._i),h=c.day===void 0?c.date:c.day;a._a=p([c.year,c.month,h,c.hour,c.minute,c.second,c.millisecond],function(g){return g&&parseInt(g,10)}),nl(a)}}s(G0,"configFromObject");function q0(a){var c=new z(el(td(a)));return c._nextDay&&(c.add(1,"d"),c._nextDay=void 0),c}s(q0,"createFromConfig");function td(a){var c=a._i,h=a._f;return a._locale=a._locale||rn(a._l),c===null||h===void 0&&c===""?E({nullInput:!0}):(typeof c=="string"&&(a._i=c=a._locale.preparse(c)),F(c)?new z(el(c)):(f(c)?a._d=c:r(h)?j0(a):h?rl(a):K0(a),S(a)||(a._d=null),a))}s(td,"prepareConfig");function K0(a){var c=a._i;u(c)?a._d=new Date(e.now()):f(c)?a._d=new Date(c.valueOf()):typeof c=="string"?W0(a):r(c)?(a._a=p(c.slice(0),function(h){return parseInt(h,10)}),nl(a)):i(c)?G0(a):d(c)?a._d=new Date(c):e.createFromInputFallback(a)}s(K0,"configFromInput");function nd(a,c,h,g,b){var k={};return(c===!0||c===!1)&&(g=c,c=void 0),(h===!0||h===!1)&&(g=h,h=void 0),(i(a)&&l(a)||r(a)&&a.length===0)&&(a=void 0),k._isAMomentObject=!0,k._useUTC=k._isUTC=b,k._l=h,k._i=a,k._f=c,k._strict=g,q0(k)}s(nd,"createLocalOrUTC");function be(a,c,h,g){return nd(a,c,h,g,!1)}s(be,"createLocal");var J0=re("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=be.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:E()}),X0=re("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=be.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:E()});function rd(a,c){var h,g;if(c.length===1&&r(c[0])&&(c=c[0]),!c.length)return be();for(h=c[0],g=1;g<c.length;++g)(!c[g].isValid()||c[g][a](h))&&(h=c[g]);return h}s(rd,"pickBy");function Z0(){var a=[].slice.call(arguments,0);return rd("isBefore",a)}s(Z0,"min");function Q0(){var a=[].slice.call(arguments,0);return rd("isAfter",a)}s(Q0,"max");var ew=s(function(){return Date.now?Date.now():+new Date},"now"),ai=["year","quarter","month","week","day","hour","minute","second","millisecond"];function tw(a){var c,h=!1,g,b=ai.length;for(c in a)if(o(a,c)&&!(Pe.call(ai,c)!==-1&&(a[c]==null||!isNaN(a[c]))))return!1;for(g=0;g<b;++g)if(a[ai[g]]){if(h)return!1;parseFloat(a[ai[g]])!==oe(a[ai[g]])&&(h=!0)}return!0}s(tw,"isDurationValid");function nw(){return this._isValid}s(nw,"isValid$1");function rw(){return Mt(NaN)}s(rw,"createInvalid$1");function ls(a){var c=ar(a),h=c.year||0,g=c.quarter||0,b=c.month||0,k=c.week||c.isoWeek||0,I=c.day||0,$=c.hour||0,K=c.minute||0,le=c.second||0,tt=c.millisecond||0;this._isValid=tw(c),this._milliseconds=+tt+le*1e3+K*6e4+$*1e3*60*60,this._days=+I+k*7,this._months=+b+g*3+h*12,this._data={},this._locale=rn(),this._bubble()}s(ls,"Duration");function us(a){return a instanceof ls}s(us,"isDuration");function il(a){return a<0?Math.round(-1*a)*-1:Math.round(a)}s(il,"absRound");function iw(a,c,h){var g=Math.min(a.length,c.length),b=Math.abs(a.length-c.length),k=0,I;for(I=0;I<g;I++)(h&&a[I]!==c[I]||!h&&oe(a[I])!==oe(c[I]))&&k++;return k+b}s(iw,"compareArrays");function id(a,c){A(a,0,0,function(){var h=this.utcOffset(),g="+";return h<0&&(h=-h,g="-"),g+ge(~~(h/60),2)+c+ge(~~h%60,2)})}s(id,"offset"),id("Z",":"),id("ZZ",""),U("Z",Ot),U("ZZ",Ot),ye(["Z","ZZ"],function(a,c,h){h._useUTC=!0,h._tzm=sl(Ot,a)});var sw=/([\+\-]|\d\d)/gi;function sl(a,c){var h=(c||"").match(a),g,b,k;return h===null?null:(g=h[h.length-1]||[],b=(g+"").match(sw)||["-",0,0],k=+(b[1]*60)+oe(b[2]),k===0?0:b[0]==="+"?k:-k)}s(sl,"offsetFromString");function ol(a,c){var h,g;return c._isUTC?(h=c.clone(),g=(F(a)||f(a)?a.valueOf():be(a).valueOf())-h.valueOf(),h._d.setTime(h._d.valueOf()+g),e.updateOffset(h,!1),h):be(a).local()}s(ol,"cloneWithOffset");function al(a){return-Math.round(a._d.getTimezoneOffset())}s(al,"getDateOffset"),e.updateOffset=function(){};function ow(a,c,h){var g=this._offset||0,b;if(!this.isValid())return a!=null?this:NaN;if(a!=null){if(typeof a=="string"){if(a=sl(Ot,a),a===null)return this}else Math.abs(a)<16&&!h&&(a=a*60);return!this._isUTC&&c&&(b=al(this)),this._offset=a,this._isUTC=!0,b!=null&&this.add(b,"m"),g!==a&&(!c||this._changeInProgress?ld(this,Mt(a-g,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?g:al(this)}s(ow,"getSetOffset");function aw(a,c){return a!=null?(typeof a!="string"&&(a=-a),this.utcOffset(a,c),this):-this.utcOffset()}s(aw,"getSetZone");function lw(a){return this.utcOffset(0,a)}s(lw,"setOffsetToUTC");function uw(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(al(this),"m")),this}s(uw,"setOffsetToLocal");function cw(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var a=sl(et,this._i);a!=null?this.utcOffset(a):this.utcOffset(0,!0)}return this}s(cw,"setOffsetToParsedOffset");function dw(a){return this.isValid()?(a=a?be(a).utcOffset():0,(this.utcOffset()-a)%60===0):!1}s(dw,"hasAlignedHourOffset");function fw(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}s(fw,"isDaylightSavingTime");function hw(){if(!u(this._isDSTShifted))return this._isDSTShifted;var a={},c;return L(a,this),a=td(a),a._a?(c=a._isUTC?w(a._a):be(a._a),this._isDSTShifted=this.isValid()&&iw(a._a,c.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}s(hw,"isDaylightSavingTimeShifted");function pw(){return this.isValid()?!this._isUTC:!1}s(pw,"isLocal");function mw(){return this.isValid()?this._isUTC:!1}s(mw,"isUtcOffset");function sd(){return this.isValid()?this._isUTC&&this._offset===0:!1}s(sd,"isUtc");var gw=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,yw=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Mt(a,c){var h=a,g=null,b,k,I;return us(a)?h={ms:a._milliseconds,d:a._days,M:a._months}:d(a)||!isNaN(+a)?(h={},c?h[c]=+a:h.milliseconds=+a):(g=gw.exec(a))?(b=g[1]==="-"?-1:1,h={y:0,d:oe(g[Vt])*b,h:oe(g[Re])*b,m:oe(g[Rt])*b,s:oe(g[tn])*b,ms:oe(il(g[Vn]*1e3))*b}):(g=yw.exec(a))?(b=g[1]==="-"?-1:1,h={y:Un(g[2],b),M:Un(g[3],b),w:Un(g[4],b),d:Un(g[5],b),h:Un(g[6],b),m:Un(g[7],b),s:Un(g[8],b)}):h==null?h={}:typeof h=="object"&&("from"in h||"to"in h)&&(I=ww(be(h.from),be(h.to)),h={},h.ms=I.milliseconds,h.M=I.months),k=new ls(h),us(a)&&o(a,"_locale")&&(k._locale=a._locale),us(a)&&o(a,"_isValid")&&(k._isValid=a._isValid),k}s(Mt,"createDuration"),Mt.fn=ls.prototype,Mt.invalid=rw;function Un(a,c){var h=a&&parseFloat(a.replace(",","."));return(isNaN(h)?0:h)*c}s(Un,"parseIso");function od(a,c){var h={};return h.months=c.month()-a.month()+(c.year()-a.year())*12,a.clone().add(h.months,"M").isAfter(c)&&--h.months,h.milliseconds=+c-+a.clone().add(h.months,"M"),h}s(od,"positiveMomentsDifference");function ww(a,c){var h;return a.isValid()&&c.isValid()?(c=ol(c,a),a.isBefore(c)?h=od(a,c):(h=od(c,a),h.milliseconds=-h.milliseconds,h.months=-h.months),h):{milliseconds:0,months:0}}s(ww,"momentsDifference");function ad(a,c){return function(h,g){var b,k;return g!==null&&!isNaN(+g)&&(ne(c,"moment()."+c+"(period, number) is deprecated. Please use moment()."+c+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),k=h,h=g,g=k),b=Mt(h,g),ld(this,b,a),this}}s(ad,"createAdder");function ld(a,c,h,g){var b=c._milliseconds,k=il(c._days),I=il(c._months);a.isValid()&&(g=g??!0,I&&zc(a,ni(a,"Month")+I*h),k&&Uc(a,"Date",ni(a,"Date")+k*h),b&&a._d.setTime(a._d.valueOf()+b*h),g&&e.updateOffset(a,k||I))}s(ld,"addSubtract");var bw=ad(1,"add"),Aw=ad(-1,"subtract");function ud(a){return typeof a=="string"||a instanceof String}s(ud,"isString");function xw(a){return F(a)||f(a)||ud(a)||d(a)||vw(a)||kw(a)||a===null||a===void 0}s(xw,"isMomentInput");function kw(a){var c=i(a)&&!l(a),h=!1,g=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],b,k,I=g.length;for(b=0;b<I;b+=1)k=g[b],h=h||o(a,k);return c&&h}s(kw,"isMomentInputObject");function vw(a){var c=r(a),h=!1;return c&&(h=a.filter(function(g){return!d(g)&&ud(a)}).length===0),c&&h}s(vw,"isNumberOrStringArray");function Cw(a){var c=i(a)&&!l(a),h=!1,g=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],b,k;for(b=0;b<g.length;b+=1)k=g[b],h=h||o(a,k);return c&&h}s(Cw,"isCalendarSpec");function Ew(a,c){var h=a.diff(c,"days",!0);return h<-6?"sameElse":h<-1?"lastWeek":h<0?"lastDay":h<1?"sameDay":h<2?"nextDay":h<7?"nextWeek":"sameElse"}s(Ew,"getCalendarFormat");function Tw(a,c){arguments.length===1&&(arguments[0]?xw(arguments[0])?(a=arguments[0],c=void 0):Cw(arguments[0])&&(c=arguments[0],a=void 0):(a=void 0,c=void 0));var h=a||be(),g=ol(h,this).startOf("day"),b=e.calendarFormat(this,g)||"sameElse",k=c&&(me(c[b])?c[b].call(this,h):c[b]);return this.format(k||this.localeData().calendar(b,this,be(h)))}s(Tw,"calendar$1");function Sw(){return new z(this)}s(Sw,"clone");function Fw(a,c){var h=F(a)?a:be(a);return this.isValid()&&h.isValid()?(c=Ze(c)||"millisecond",c==="millisecond"?this.valueOf()>h.valueOf():h.valueOf()<this.clone().startOf(c).valueOf()):!1}s(Fw,"isAfter");function Pw(a,c){var h=F(a)?a:be(a);return this.isValid()&&h.isValid()?(c=Ze(c)||"millisecond",c==="millisecond"?this.valueOf()<h.valueOf():this.clone().endOf(c).valueOf()<h.valueOf()):!1}s(Pw,"isBefore");function Iw(a,c,h,g){var b=F(a)?a:be(a),k=F(c)?c:be(c);return this.isValid()&&b.isValid()&&k.isValid()?(g=g||"()",(g[0]==="("?this.isAfter(b,h):!this.isBefore(b,h))&&(g[1]===")"?this.isBefore(k,h):!this.isAfter(k,h))):!1}s(Iw,"isBetween");function Ow(a,c){var h=F(a)?a:be(a),g;return this.isValid()&&h.isValid()?(c=Ze(c)||"millisecond",c==="millisecond"?this.valueOf()===h.valueOf():(g=h.valueOf(),this.clone().startOf(c).valueOf()<=g&&g<=this.clone().endOf(c).valueOf())):!1}s(Ow,"isSame");function _w(a,c){return this.isSame(a,c)||this.isAfter(a,c)}s(_w,"isSameOrAfter");function Rw(a,c){return this.isSame(a,c)||this.isBefore(a,c)}s(Rw,"isSameOrBefore");function Mw(a,c,h){var g,b,k;if(!this.isValid())return NaN;if(g=ol(a,this),!g.isValid())return NaN;switch(b=(g.utcOffset()-this.utcOffset())*6e4,c=Ze(c),c){case"year":k=cs(this,g)/12;break;case"month":k=cs(this,g);break;case"quarter":k=cs(this,g)/3;break;case"second":k=(this-g)/1e3;break;case"minute":k=(this-g)/6e4;break;case"hour":k=(this-g)/36e5;break;case"day":k=(this-g-b)/864e5;break;case"week":k=(this-g-b)/6048e5;break;default:k=this-g}return h?k:bt(k)}s(Mw,"diff");function cs(a,c){if(a.date()<c.date())return-cs(c,a);var h=(c.year()-a.year())*12+(c.month()-a.month()),g=a.clone().add(h,"months"),b,k;return c-g<0?(b=a.clone().add(h-1,"months"),k=(c-g)/(g-b)):(b=a.clone().add(h+1,"months"),k=(c-g)/(b-g)),-(h+k)||0}s(cs,"monthDiff"),e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Nw(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}s(Nw,"toString");function Lw(a){if(!this.isValid())return null;var c=a!==!0,h=c?this.clone().utc():this;return h.year()<0||h.year()>9999?xn(h,c?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):me(Date.prototype.toISOString)?c?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",xn(h,"Z")):xn(h,c?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}s(Lw,"toISOString");function Dw(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",c="",h,g,b,k;return this.isLocal()||(a=this.utcOffset()===0?"moment.utc":"moment.parseZone",c="Z"),h="["+a+'("]',g=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",b="-MM-DD[T]HH:mm:ss.SSS",k=c+'[")]',this.format(h+g+b+k)}s(Dw,"inspect");function $w(a){a||(a=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var c=xn(this,a);return this.localeData().postformat(c)}s($w,"format");function Bw(a,c){return this.isValid()&&(F(a)&&a.isValid()||be(a).isValid())?Mt({to:this,from:a}).locale(this.locale()).humanize(!c):this.localeData().invalidDate()}s(Bw,"from");function Vw(a){return this.from(be(),a)}s(Vw,"fromNow");function Uw(a,c){return this.isValid()&&(F(a)&&a.isValid()||be(a).isValid())?Mt({from:this,to:a}).locale(this.locale()).humanize(!c):this.localeData().invalidDate()}s(Uw,"to");function Ww(a){return this.to(be(),a)}s(Ww,"toNow");function cd(a){var c;return a===void 0?this._locale._abbr:(c=rn(a),c!=null&&(this._locale=c),this)}s(cd,"locale");var dd=re("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return a===void 0?this.localeData():this.locale(a)});function fd(){return this._locale}s(fd,"localeData");var ds=1e3,dr=60*ds,fs=60*dr,hd=(365*400+97)*24*fs;function fr(a,c){return(a%c+c)%c}s(fr,"mod$1");function pd(a,c,h){return a<100&&a>=0?new Date(a+400,c,h)-hd:new Date(a,c,h).valueOf()}s(pd,"localStartOfDate");function md(a,c,h){return a<100&&a>=0?Date.UTC(a+400,c,h)-hd:Date.UTC(a,c,h)}s(md,"utcStartOfDate");function Yw(a){var c,h;if(a=Ze(a),a===void 0||a==="millisecond"||!this.isValid())return this;switch(h=this._isUTC?md:pd,a){case"year":c=h(this.year(),0,1);break;case"quarter":c=h(this.year(),this.month()-this.month()%3,1);break;case"month":c=h(this.year(),this.month(),1);break;case"week":c=h(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":c=h(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":c=h(this.year(),this.month(),this.date());break;case"hour":c=this._d.valueOf(),c-=fr(c+(this._isUTC?0:this.utcOffset()*dr),fs);break;case"minute":c=this._d.valueOf(),c-=fr(c,dr);break;case"second":c=this._d.valueOf(),c-=fr(c,ds);break}return this._d.setTime(c),e.updateOffset(this,!0),this}s(Yw,"startOf");function zw(a){var c,h;if(a=Ze(a),a===void 0||a==="millisecond"||!this.isValid())return this;switch(h=this._isUTC?md:pd,a){case"year":c=h(this.year()+1,0,1)-1;break;case"quarter":c=h(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":c=h(this.year(),this.month()+1,1)-1;break;case"week":c=h(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":c=h(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":c=h(this.year(),this.month(),this.date()+1)-1;break;case"hour":c=this._d.valueOf(),c+=fs-fr(c+(this._isUTC?0:this.utcOffset()*dr),fs)-1;break;case"minute":c=this._d.valueOf(),c+=dr-fr(c,dr)-1;break;case"second":c=this._d.valueOf(),c+=ds-fr(c,ds)-1;break}return this._d.setTime(c),e.updateOffset(this,!0),this}s(zw,"endOf");function Hw(){return this._d.valueOf()-(this._offset||0)*6e4}s(Hw,"valueOf");function jw(){return Math.floor(this.valueOf()/1e3)}s(jw,"unix");function Gw(){return new Date(this.valueOf())}s(Gw,"toDate");function qw(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}s(qw,"toArray");function Kw(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}s(Kw,"toObject");function Jw(){return this.isValid()?this.toISOString():null}s(Jw,"toJSON");function Xw(){return S(this)}s(Xw,"isValid$2");function Zw(){return m({},x(this))}s(Zw,"parsingFlags");function Qw(){return x(this).overflow}s(Qw,"invalidAt");function eb(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}s(eb,"creationData"),A("N",0,0,"eraAbbr"),A("NN",0,0,"eraAbbr"),A("NNN",0,0,"eraAbbr"),A("NNNN",0,0,"eraName"),A("NNNNN",0,0,"eraNarrow"),A("y",["y",1],"yo","eraYear"),A("y",["yy",2],0,"eraYear"),A("y",["yyy",3],0,"eraYear"),A("y",["yyyy",4],0,"eraYear"),U("N",ll),U("NN",ll),U("NNN",ll),U("NNNN",db),U("NNNNN",fb),ye(["N","NN","NNN","NNNN","NNNNN"],function(a,c,h,g){var b=h._locale.erasParse(a,g,h._strict);b?x(h).era=b:x(h).invalidEra=a}),U("y",wt),U("yy",wt),U("yyy",wt),U("yyyy",wt),U("yo",hb),ye(["y","yy","yyy","yyyy"],Ge),ye(["yo"],function(a,c,h,g){var b;h._locale._eraYearOrdinalRegex&&(b=a.match(h._locale._eraYearOrdinalRegex)),h._locale.eraYearOrdinalParse?c[Ge]=h._locale.eraYearOrdinalParse(a,b):c[Ge]=parseInt(a,10)});function tb(a,c){var h,g,b,k=this._eras||rn("en")._eras;for(h=0,g=k.length;h<g;++h){switch(typeof k[h].since){case"string":b=e(k[h].since).startOf("day"),k[h].since=b.valueOf();break}switch(typeof k[h].until){case"undefined":k[h].until=1/0;break;case"string":b=e(k[h].until).startOf("day").valueOf(),k[h].until=b.valueOf();break}}return k}s(tb,"localeEras");function nb(a,c,h){var g,b,k=this.eras(),I,$,K;for(a=a.toUpperCase(),g=0,b=k.length;g<b;++g)if(I=k[g].name.toUpperCase(),$=k[g].abbr.toUpperCase(),K=k[g].narrow.toUpperCase(),h)switch(c){case"N":case"NN":case"NNN":if($===a)return k[g];break;case"NNNN":if(I===a)return k[g];break;case"NNNNN":if(K===a)return k[g];break}else if([I,$,K].indexOf(a)>=0)return k[g]}s(nb,"localeErasParse");function rb(a,c){var h=a.since<=a.until?1:-1;return c===void 0?e(a.since).year():e(a.since).year()+(c-a.offset)*h}s(rb,"localeErasConvertYear");function ib(){var a,c,h,g=this.localeData().eras();for(a=0,c=g.length;a<c;++a)if(h=this.clone().startOf("day").valueOf(),g[a].since<=h&&h<=g[a].until||g[a].until<=h&&h<=g[a].since)return g[a].name;return""}s(ib,"getEraName");function sb(){var a,c,h,g=this.localeData().eras();for(a=0,c=g.length;a<c;++a)if(h=this.clone().startOf("day").valueOf(),g[a].since<=h&&h<=g[a].until||g[a].until<=h&&h<=g[a].since)return g[a].narrow;return""}s(sb,"getEraNarrow");function ob(){var a,c,h,g=this.localeData().eras();for(a=0,c=g.length;a<c;++a)if(h=this.clone().startOf("day").valueOf(),g[a].since<=h&&h<=g[a].until||g[a].until<=h&&h<=g[a].since)return g[a].abbr;return""}s(ob,"getEraAbbr");function ab(){var a,c,h,g,b=this.localeData().eras();for(a=0,c=b.length;a<c;++a)if(h=b[a].since<=b[a].until?1:-1,g=this.clone().startOf("day").valueOf(),b[a].since<=g&&g<=b[a].until||b[a].until<=g&&g<=b[a].since)return(this.year()-e(b[a].since).year())*h+b[a].offset;return this.year()}s(ab,"getEraYear");function lb(a){return o(this,"_erasNameRegex")||ul.call(this),a?this._erasNameRegex:this._erasRegex}s(lb,"erasNameRegex");function ub(a){return o(this,"_erasAbbrRegex")||ul.call(this),a?this._erasAbbrRegex:this._erasRegex}s(ub,"erasAbbrRegex");function cb(a){return o(this,"_erasNarrowRegex")||ul.call(this),a?this._erasNarrowRegex:this._erasRegex}s(cb,"erasNarrowRegex");function ll(a,c){return c.erasAbbrRegex(a)}s(ll,"matchEraAbbr");function db(a,c){return c.erasNameRegex(a)}s(db,"matchEraName");function fb(a,c){return c.erasNarrowRegex(a)}s(fb,"matchEraNarrow");function hb(a,c){return c._eraYearOrdinalRegex||wt}s(hb,"matchEraYearOrdinal");function ul(){var a=[],c=[],h=[],g=[],b,k,I,$,K,le=this.eras();for(b=0,k=le.length;b<k;++b)I=Qt(le[b].name),$=Qt(le[b].abbr),K=Qt(le[b].narrow),c.push(I),a.push($),h.push(K),g.push(I),g.push($),g.push(K);this._erasRegex=new RegExp("^("+g.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+c.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+h.join("|")+")","i")}s(ul,"computeErasParse"),A(0,["gg",2],0,function(){return this.weekYear()%100}),A(0,["GG",2],0,function(){return this.isoWeekYear()%100});function hs(a,c){A(0,[a,a.length],0,c)}s(hs,"addWeekYearFormatToken"),hs("gggg","weekYear"),hs("ggggg","weekYear"),hs("GGGG","isoWeekYear"),hs("GGGGG","isoWeekYear"),U("G",Bt),U("g",Bt),U("GG",D,Qe),U("gg",D,Qe),U("GGGG",It,O),U("gggg",It,O),U("GGGGG",lt,M),U("ggggg",lt,M),ei(["gggg","ggggg","GGGG","GGGGG"],function(a,c,h,g){c[g.substr(0,2)]=oe(a)}),ei(["gg","GG"],function(a,c,h,g){c[g]=e.parseTwoDigitYear(a)});function pb(a){return gd.call(this,a,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}s(pb,"getSetWeekYear");function mb(a){return gd.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}s(mb,"getSetISOWeekYear");function gb(){return nn(this.year(),1,4)}s(gb,"getISOWeeksInYear");function yb(){return nn(this.isoWeekYear(),1,4)}s(yb,"getISOWeeksInISOWeekYear");function wb(){var a=this.localeData()._week;return nn(this.year(),a.dow,a.doy)}s(wb,"getWeeksInYear");function bb(){var a=this.localeData()._week;return nn(this.weekYear(),a.dow,a.doy)}s(bb,"getWeeksInWeekYear");function gd(a,c,h,g,b){var k;return a==null?ii(this,g,b).year:(k=nn(a,g,b),c>k&&(c=k),Ab.call(this,a,c,h,g,b))}s(gd,"getSetWeekYearHelper");function Ab(a,c,h,g,b){var k=Gc(a,c,h,g,b),I=ri(k.year,0,k.dayOfYear);return this.year(I.getUTCFullYear()),this.month(I.getUTCMonth()),this.date(I.getUTCDate()),this}s(Ab,"setWeekAll"),A("Q",0,"Qo","quarter"),U("Q",ts),ye("Q",function(a,c){c[en]=(oe(a)-1)*3});function xb(a){return a==null?Math.ceil((this.month()+1)/3):this.month((a-1)*3+this.month()%3)}s(xb,"getSetQuarter"),A("D",["DD",2],"Do","date"),U("D",D,lr),U("DD",D,Qe),U("Do",function(a,c){return a?c._dayOfMonthOrdinalParse||c._ordinalParse:c._dayOfMonthOrdinalParseLenient}),ye(["D","DD"],Vt),ye("Do",function(a,c){c[Vt]=oe(a.match(D)[0])});var yd=ur("Date",!0);A("DDD",["DDDD",3],"DDDo","dayOfYear"),U("DDD",je),U("DDDD",ns),ye(["DDD","DDDD"],function(a,c,h){h._dayOfYear=oe(a)});function kb(a){var c=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return a==null?c:this.add(a-c,"d")}s(kb,"getSetDayOfYear"),A("m",["mm",2],0,"minute"),U("m",D,Ga),U("mm",D,Qe),ye(["m","mm"],Rt);var vb=ur("Minutes",!1);A("s",["ss",2],0,"second"),U("s",D,Ga),U("ss",D,Qe),ye(["s","ss"],tn);var Cb=ur("Seconds",!1);A("S",0,0,function(){return~~(this.millisecond()/100)}),A(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),A(0,["SSS",3],0,"millisecond"),A(0,["SSSS",4],0,function(){return this.millisecond()*10}),A(0,["SSSSS",5],0,function(){return this.millisecond()*100}),A(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),A(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),A(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),A(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),U("S",je,ts),U("SS",je,Qe),U("SSS",je,ns);var Cn,wd;for(Cn="SSSS";Cn.length<=9;Cn+="S")U(Cn,wt);function Eb(a,c){c[Vn]=oe(("0."+a)*1e3)}for(s(Eb,"parseMs"),Cn="S";Cn.length<=9;Cn+="S")ye(Cn,Eb);wd=ur("Milliseconds",!1),A("z",0,0,"zoneAbbr"),A("zz",0,0,"zoneName");function Tb(){return this._isUTC?"UTC":""}s(Tb,"getZoneAbbr");function Sb(){return this._isUTC?"Coordinated Universal Time":""}s(Sb,"getZoneName");var R=z.prototype;R.add=bw,R.calendar=Tw,R.clone=Sw,R.diff=Mw,R.endOf=zw,R.format=$w,R.from=Bw,R.fromNow=Vw,R.to=Uw,R.toNow=Ww,R.get=Dy,R.invalidAt=Qw,R.isAfter=Fw,R.isBefore=Pw,R.isBetween=Iw,R.isSame=Ow,R.isSameOrAfter=_w,R.isSameOrBefore=Rw,R.isValid=Xw,R.lang=dd,R.locale=cd,R.localeData=fd,R.max=X0,R.min=J0,R.parsingFlags=Zw,R.set=$y,R.startOf=Yw,R.subtract=Aw,R.toArray=qw,R.toObject=Kw,R.toDate=Gw,R.toISOString=Lw,R.inspect=Dw,typeof Symbol<"u"&&Symbol.for!=null&&(R[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),R.toJSON=Jw,R.toString=Nw,R.unix=jw,R.valueOf=Hw,R.creationData=eb,R.eraName=ib,R.eraNarrow=sb,R.eraAbbr=ob,R.eraYear=ab,R.year=Vc,R.isLeapYear=Ly,R.weekYear=pb,R.isoWeekYear=mb,R.quarter=R.quarters=xb,R.month=Hc,R.daysInMonth=Gy,R.week=R.weeks=t0,R.isoWeek=R.isoWeeks=n0,R.weeksInYear=wb,R.weeksInWeekYear=bb,R.isoWeeksInYear=gb,R.isoWeeksInISOWeekYear=yb,R.date=yd,R.day=R.days=m0,R.weekday=g0,R.isoWeekday=y0,R.dayOfYear=kb,R.hour=R.hours=C0,R.minute=R.minutes=vb,R.second=R.seconds=Cb,R.millisecond=R.milliseconds=wd,R.utcOffset=ow,R.utc=lw,R.local=uw,R.parseZone=cw,R.hasAlignedHourOffset=dw,R.isDST=fw,R.isLocal=pw,R.isUtcOffset=mw,R.isUtc=sd,R.isUTC=sd,R.zoneAbbr=Tb,R.zoneName=Sb,R.dates=re("dates accessor is deprecated. Use date instead.",yd),R.months=re("months accessor is deprecated. Use month instead",Hc),R.years=re("years accessor is deprecated. Use year instead",Vc),R.zone=re("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",aw),R.isDSTShifted=re("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",hw);function Fb(a){return be(a*1e3)}s(Fb,"createUnix");function Pb(){return be.apply(null,arguments).parseZone()}s(Pb,"createInZone");function bd(a){return a}s(bd,"preParsePostFormat");var de=j.prototype;de.calendar=ce,de.longDateFormat=Bn,de.invalidDate=Zt,de.ordinal=za,de.preparse=bd,de.postformat=bd,de.relativeTime=Zi,de.pastFuture=Qi,de.set=ae,de.eras=tb,de.erasParse=nb,de.erasConvertYear=rb,de.erasAbbrRegex=ub,de.erasNameRegex=lb,de.erasNarrowRegex=cb,de.months=Yy,de.monthsShort=zy,de.monthsParse=jy,de.monthsRegex=Ky,de.monthsShortRegex=qy,de.week=Xy,de.firstDayOfYear=e0,de.firstDayOfWeek=Qy,de.weekdays=c0,de.weekdaysMin=f0,de.weekdaysShort=d0,de.weekdaysParse=p0,de.weekdaysRegex=w0,de.weekdaysShortRegex=b0,de.weekdaysMinRegex=A0,de.isPM=k0,de.meridiem=E0;function ps(a,c,h,g){var b=rn(),k=w().set(g,c);return b[h](k,a)}s(ps,"get$1");function Ad(a,c,h){if(d(a)&&(c=a,a=void 0),a=a||"",c!=null)return ps(a,c,h,"month");var g,b=[];for(g=0;g<12;g++)b[g]=ps(a,g,h,"month");return b}s(Ad,"listMonthsImpl");function cl(a,c,h,g){typeof a=="boolean"?(d(c)&&(h=c,c=void 0),c=c||""):(c=a,h=c,a=!1,d(c)&&(h=c,c=void 0),c=c||"");var b=rn(),k=a?b._week.dow:0,I,$=[];if(h!=null)return ps(c,(h+k)%7,g,"day");for(I=0;I<7;I++)$[I]=ps(c,(I+k)%7,g,"day");return $}s(cl,"listWeekdaysImpl");function Ib(a,c){return Ad(a,c,"months")}s(Ib,"listMonths");function Ob(a,c){return Ad(a,c,"monthsShort")}s(Ob,"listMonthsShort");function _b(a,c,h){return cl(a,c,h,"weekdays")}s(_b,"listWeekdays");function Rb(a,c,h){return cl(a,c,h,"weekdaysShort")}s(Rb,"listWeekdaysShort");function Mb(a,c,h){return cl(a,c,h,"weekdaysMin")}s(Mb,"listWeekdaysMin"),vn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:s(function(a){var c=a%10,h=oe(a%100/10)===1?"th":c===1?"st":c===2?"nd":c===3?"rd":"th";return a+h},"ordinal")}),e.lang=re("moment.lang is deprecated. Use moment.locale instead.",vn),e.langData=re("moment.langData is deprecated. Use moment.localeData instead.",rn);var sn=Math.abs;function Nb(){var a=this._data;return this._milliseconds=sn(this._milliseconds),this._days=sn(this._days),this._months=sn(this._months),a.milliseconds=sn(a.milliseconds),a.seconds=sn(a.seconds),a.minutes=sn(a.minutes),a.hours=sn(a.hours),a.months=sn(a.months),a.years=sn(a.years),this}s(Nb,"abs");function xd(a,c,h,g){var b=Mt(c,h);return a._milliseconds+=g*b._milliseconds,a._days+=g*b._days,a._months+=g*b._months,a._bubble()}s(xd,"addSubtract$1");function Lb(a,c){return xd(this,a,c,1)}s(Lb,"add$1");function Db(a,c){return xd(this,a,c,-1)}s(Db,"subtract$1");function kd(a){return a<0?Math.floor(a):Math.ceil(a)}s(kd,"absCeil");function $b(){var a=this._milliseconds,c=this._days,h=this._months,g=this._data,b,k,I,$,K;return a>=0&&c>=0&&h>=0||a<=0&&c<=0&&h<=0||(a+=kd(dl(h)+c)*864e5,c=0,h=0),g.milliseconds=a%1e3,b=bt(a/1e3),g.seconds=b%60,k=bt(b/60),g.minutes=k%60,I=bt(k/60),g.hours=I%24,c+=bt(I/24),K=bt(vd(c)),h+=K,c-=kd(dl(K)),$=bt(h/12),h%=12,g.days=c,g.months=h,g.years=$,this}s($b,"bubble");function vd(a){return a*4800/146097}s(vd,"daysToMonths");function dl(a){return a*146097/4800}s(dl,"monthsToDays");function Bb(a){if(!this.isValid())return NaN;var c,h,g=this._milliseconds;if(a=Ze(a),a==="month"||a==="quarter"||a==="year")switch(c=this._days+g/864e5,h=this._months+vd(c),a){case"month":return h;case"quarter":return h/3;case"year":return h/12}else switch(c=this._days+Math.round(dl(this._months)),a){case"week":return c/7+g/6048e5;case"day":return c+g/864e5;case"hour":return c*24+g/36e5;case"minute":return c*1440+g/6e4;case"second":return c*86400+g/1e3;case"millisecond":return Math.floor(c*864e5)+g;default:throw new Error("Unknown unit "+a)}}s(Bb,"as");function on(a){return function(){return this.as(a)}}s(on,"makeAs");var Cd=on("ms"),Vb=on("s"),Ub=on("m"),Wb=on("h"),Yb=on("d"),zb=on("w"),Hb=on("M"),jb=on("Q"),Gb=on("y"),qb=Cd;function Kb(){return Mt(this)}s(Kb,"clone$1");function Jb(a){return a=Ze(a),this.isValid()?this[a+"s"]():NaN}s(Jb,"get$2");function Wn(a){return function(){return this.isValid()?this._data[a]:NaN}}s(Wn,"makeGetter");var Xb=Wn("milliseconds"),Zb=Wn("seconds"),Qb=Wn("minutes"),eA=Wn("hours"),tA=Wn("days"),nA=Wn("months"),rA=Wn("years");function iA(){return bt(this.days()/7)}s(iA,"weeks");var an=Math.round,hr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function sA(a,c,h,g,b){return b.relativeTime(c||1,!!h,a,g)}s(sA,"substituteTimeAgo");function oA(a,c,h,g){var b=Mt(a).abs(),k=an(b.as("s")),I=an(b.as("m")),$=an(b.as("h")),K=an(b.as("d")),le=an(b.as("M")),tt=an(b.as("w")),ln=an(b.as("y")),En=k<=h.ss&&["s",k]||k<h.s&&["ss",k]||I<=1&&["m"]||I<h.m&&["mm",I]||$<=1&&["h"]||$<h.h&&["hh",$]||K<=1&&["d"]||K<h.d&&["dd",K];return h.w!=null&&(En=En||tt<=1&&["w"]||tt<h.w&&["ww",tt]),En=En||le<=1&&["M"]||le<h.M&&["MM",le]||ln<=1&&["y"]||["yy",ln],En[2]=c,En[3]=+a>0,En[4]=g,sA.apply(null,En)}s(oA,"relativeTime$1");function aA(a){return a===void 0?an:typeof a=="function"?(an=a,!0):!1}s(aA,"getSetRelativeTimeRounding");function lA(a,c){return hr[a]===void 0?!1:c===void 0?hr[a]:(hr[a]=c,a==="s"&&(hr.ss=c-1),!0)}s(lA,"getSetRelativeTimeThreshold");function uA(a,c){if(!this.isValid())return this.localeData().invalidDate();var h=!1,g=hr,b,k;return typeof a=="object"&&(c=a,a=!1),typeof a=="boolean"&&(h=a),typeof c=="object"&&(g=Object.assign({},hr,c),c.s!=null&&c.ss==null&&(g.ss=c.s-1)),b=this.localeData(),k=oA(this,!h,g,b),h&&(k=b.pastFuture(+this,k)),b.postformat(k)}s(uA,"humanize");var fl=Math.abs;function pr(a){return(a>0)-(a<0)||+a}s(pr,"sign");function ms(){if(!this.isValid())return this.localeData().invalidDate();var a=fl(this._milliseconds)/1e3,c=fl(this._days),h=fl(this._months),g,b,k,I,$=this.asSeconds(),K,le,tt,ln;return $?(g=bt(a/60),b=bt(g/60),a%=60,g%=60,k=bt(h/12),h%=12,I=a?a.toFixed(3).replace(/\.?0+$/,""):"",K=$<0?"-":"",le=pr(this._months)!==pr($)?"-":"",tt=pr(this._days)!==pr($)?"-":"",ln=pr(this._milliseconds)!==pr($)?"-":"",K+"P"+(k?le+k+"Y":"")+(h?le+h+"M":"")+(c?tt+c+"D":"")+(b||g||a?"T":"")+(b?ln+b+"H":"")+(g?ln+g+"M":"")+(a?ln+I+"S":"")):"P0D"}s(ms,"toISOString$1");var ue=ls.prototype;ue.isValid=nw,ue.abs=Nb,ue.add=Lb,ue.subtract=Db,ue.as=Bb,ue.asMilliseconds=Cd,ue.asSeconds=Vb,ue.asMinutes=Ub,ue.asHours=Wb,ue.asDays=Yb,ue.asWeeks=zb,ue.asMonths=Hb,ue.asQuarters=jb,ue.asYears=Gb,ue.valueOf=qb,ue._bubble=$b,ue.clone=Kb,ue.get=Jb,ue.milliseconds=Xb,ue.seconds=Zb,ue.minutes=Qb,ue.hours=eA,ue.days=tA,ue.weeks=iA,ue.months=nA,ue.years=rA,ue.humanize=uA,ue.toISOString=ms,ue.toString=ms,ue.toJSON=ms,ue.locale=cd,ue.localeData=fd,ue.toIsoString=re("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ms),ue.lang=dd,A("X",0,0,"unix"),A("x",0,0,"valueOf"),U("x",Bt),U("X",_t),ye("X",function(a,c,h){h._d=new Date(parseFloat(a)*1e3)}),ye("x",function(a,c,h){h._d=new Date(oe(a))});return e.version="2.30.1",n(be),e.fn=R,e.min=Z0,e.max=Q0,e.now=ew,e.utc=w,e.unix=Fb,e.months=Ib,e.isDate=f,e.locale=vn,e.invalid=E,e.duration=Mt,e.isMoment=F,e.weekdays=_b,e.parseZone=Pb,e.localeData=rn,e.isDuration=us,e.monthsShort=Ob,e.weekdaysMin=Mb,e.defineLocale=Qa,e.updateLocale=P0,e.locales=I0,e.weekdaysShort=Rb,e.normalizeUnits=Ze,e.relativeTimeRounding=aA,e.relativeTimeThreshold=lA,e.calendarFormat=Ew,e.prototype=R,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e}))});var Od=H((C2,Id)=>{var gr=1e3,yr=gr*60,wr=yr*60,zn=wr*24,gA=zn*7,yA=zn*365.25;Id.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return wA(t);if(n==="number"&&isFinite(t))return e.long?AA(t):bA(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function wA(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*yA;case"weeks":case"week":case"w":return n*gA;case"days":case"day":case"d":return n*zn;case"hours":case"hour":case"hrs":case"hr":case"h":return n*wr;case"minutes":case"minute":case"mins":case"min":case"m":return n*yr;case"seconds":case"second":case"secs":case"sec":case"s":return n*gr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}s(wA,"parse");function bA(t){var e=Math.abs(t);return e>=zn?Math.round(t/zn)+"d":e>=wr?Math.round(t/wr)+"h":e>=yr?Math.round(t/yr)+"m":e>=gr?Math.round(t/gr)+"s":t+"ms"}s(bA,"fmtShort");function AA(t){var e=Math.abs(t);return e>=zn?gs(t,e,zn,"day"):e>=wr?gs(t,e,wr,"hour"):e>=yr?gs(t,e,yr,"minute"):e>=gr?gs(t,e,gr,"second"):t+" ms"}s(AA,"fmtLong");function gs(t,e,n,r){var i=e>=n*1.5;return Math.round(t/n)+" "+r+(i?"s":"")}s(gs,"plural")});var pl=H((T2,_d)=>{function xA(t){n.debug=n,n.default=n,n.coerce=d,n.disable=l,n.enable=i,n.enabled=u,n.humanize=Od(),n.destroy=f,Object.keys(t).forEach(p=>{n[p]=t[p]}),n.names=[],n.skips=[],n.formatters={};function e(p){let m=0;for(let w=0;w<p.length;w++)m=(m<<5)-m+p.charCodeAt(w),m|=0;return n.colors[Math.abs(m)%n.colors.length]}s(e,"selectColor"),n.selectColor=e;function n(p){let m,w=null,y,x;function T(...S){if(!T.enabled)return;let E=T,P=Number(new Date),_=P-(m||P);E.diff=_,E.prev=m,E.curr=P,m=P,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let L=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(F,Z)=>{if(F==="%%")return"%";L++;let re=n.formatters[Z];if(typeof re=="function"){let q=S[L];F=re.call(E,q),S.splice(L,1),L--}return F}),n.formatArgs.call(E,S),(E.log||n.log).apply(E,S)}return s(T,"debug"),T.namespace=p,T.useColors=n.useColors(),T.color=n.selectColor(p),T.extend=r,T.destroy=n.destroy,Object.defineProperty(T,"enabled",{enumerable:!0,configurable:!1,get:s(()=>w!==null?w:(y!==n.namespaces&&(y=n.namespaces,x=n.enabled(p)),x),"get"),set:s(S=>{w=S},"set")}),typeof n.init=="function"&&n.init(T),T}s(n,"createDebug");function r(p,m){let w=n(this.namespace+(typeof m>"u"?":":m)+p);return w.log=this.log,w}s(r,"extend");function i(p){n.save(p),n.namespaces=p,n.names=[],n.skips=[];let m=(typeof p=="string"?p:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let w of m)w[0]==="-"?n.skips.push(w.slice(1)):n.names.push(w)}s(i,"enable");function o(p,m){let w=0,y=0,x=-1,T=0;for(;w<p.length;)if(y<m.length&&(m[y]===p[w]||m[y]==="*"))m[y]==="*"?(x=y,T=w,y++):(w++,y++);else if(x!==-1)y=x+1,T++,w=T;else return!1;for(;y<m.length&&m[y]==="*";)y++;return y===m.length}s(o,"matchesTemplate");function l(){let p=[...n.names,...n.skips.map(m=>"-"+m)].join(",");return n.enable(""),p}s(l,"disable");function u(p){for(let m of n.skips)if(o(p,m))return!1;for(let m of n.names)if(o(p,m))return!0;return!1}s(u,"enabled");function d(p){return p instanceof Error?p.stack||p.message:p}s(d,"coerce");function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s(f,"destroy"),n.enable(n.load()),n}s(xA,"setup");_d.exports=xA});var Rd=H((ut,ys)=>{ut.formatArgs=vA;ut.save=CA;ut.load=EA;ut.useColors=kA;ut.storage=TA();ut.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ut.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function kA(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}s(kA,"useColors");function vA(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+ys.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(n++,i==="%c"&&(r=n))}),t.splice(r,0,e)}s(vA,"formatArgs");ut.log=console.debug||console.log||(()=>{});function CA(t){try{t?ut.storage.setItem("debug",t):ut.storage.removeItem("debug")}catch{}}s(CA,"save");function EA(){let t;try{t=ut.storage.getItem("debug")||ut.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}s(EA,"load");function TA(){try{return localStorage}catch{}}s(TA,"localstorage");ys.exports=pl()(ut);var{formatters:SA}=ys.exports;SA.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Nd=H((P2,Md)=>{"use strict";Md.exports=(t,e=process.argv)=>{let n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),i=e.indexOf("--");return r!==-1&&(i===-1||r<i)}});var $d=H((I2,Dd)=>{"use strict";var FA=require("os"),Ld=require("tty"),At=Nd(),{env:Le}=process,ws;At("no-color")||At("no-colors")||At("color=false")||At("color=never")?ws=0:(At("color")||At("colors")||At("color=true")||At("color=always"))&&(ws=1);function PA(){if("FORCE_COLOR"in Le)return Le.FORCE_COLOR==="true"?1:Le.FORCE_COLOR==="false"?0:Le.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Le.FORCE_COLOR,10),3)}s(PA,"envForceColor");function IA(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}s(IA,"translateLevel");function OA(t,{streamIsTTY:e,sniffFlags:n=!0}={}){let r=PA();r!==void 0&&(ws=r);let i=n?ws:r;if(i===0)return 0;if(n){if(At("color=16m")||At("color=full")||At("color=truecolor"))return 3;if(At("color=256"))return 2}if(t&&!e&&i===void 0)return 0;let o=i||0;if(Le.TERM==="dumb")return o;if(process.platform==="win32"){let l=FA.release().split(".");return Number(l[0])>=10&&Number(l[2])>=10586?Number(l[2])>=14931?3:2:1}if("CI"in Le)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(l=>l in Le)||Le.CI_NAME==="codeship"?1:o;if("TEAMCITY_VERSION"in Le)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Le.TEAMCITY_VERSION)?1:0;if(Le.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Le){let l=Number.parseInt((Le.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Le.TERM_PROGRAM){case"iTerm.app":return l>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Le.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Le.TERM)||"COLORTERM"in Le?1:o}s(OA,"supportsColor");function ml(t,e={}){let n=OA(t,{streamIsTTY:t&&t.isTTY,...e});return IA(n)}s(ml,"getSupportLevel");Dd.exports={supportsColor:ml,stdout:ml({isTTY:Ld.isatty(1)}),stderr:ml({isTTY:Ld.isatty(2)})}});var Vd=H((De,As)=>{var _A=require("tty"),bs=require("util");De.init=BA;De.log=LA;De.formatArgs=MA;De.save=DA;De.load=$A;De.useColors=RA;De.destroy=bs.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");De.colors=[6,2,3,4,5,1];try{let t=$d();t&&(t.stderr||t).level>=2&&(De.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}De.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),t[n]=r,t},{});function RA(){return"colors"in De.inspectOpts?!!De.inspectOpts.colors:_A.isatty(process.stderr.fd)}s(RA,"useColors");function MA(t){let{namespace:e,useColors:n}=this;if(n){let r=this.color,i="\x1B[3"+(r<8?r:"8;5;"+r),o=`  ${i};1m${e} \x1B[0m`;t[0]=o+t[0].split(`
`).join(`
`+o),t.push(i+"m+"+As.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=NA()+e+" "+t[0]}s(MA,"formatArgs");function NA(){return De.inspectOpts.hideDate?"":new Date().toISOString()+" "}s(NA,"getDate");function LA(...t){return process.stderr.write(bs.formatWithOptions(De.inspectOpts,...t)+`
`)}s(LA,"log");function DA(t){t?process.env.DEBUG=t:delete process.env.DEBUG}s(DA,"save");function $A(){return process.env.DEBUG}s($A,"load");function BA(t){t.inspectOpts={};let e=Object.keys(De.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=De.inspectOpts[e[n]]}s(BA,"init");As.exports=pl()(De);var{formatters:Bd}=As.exports;Bd.o=function(t){return this.inspectOpts.colors=this.useColors,bs.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Bd.O=function(t){return this.inspectOpts.colors=this.useColors,bs.inspect(t,this.inspectOpts)}});var Ud=H((R2,gl)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?gl.exports=Rd():gl.exports=Vd()});var gf=H((IF,mf)=>{"use strict";function Yt(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}s(Yt,"assertPath");function pf(t,e){for(var n="",r=0,i=-1,o=0,l,u=0;u<=t.length;++u){if(u<t.length)l=t.charCodeAt(u);else{if(l===47)break;l=47}if(l===47){if(!(i===u-1||o===1))if(i!==u-1&&o===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var d=n.lastIndexOf("/");if(d!==n.length-1){d===-1?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),i=u,o=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=u,o=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+t.slice(i+1,u):n=t.slice(i+1,u),r=u-i-1;i=u,o=0}else l===46&&o!==-1?++o:o=-1}return n}s(pf,"normalizeStringPosix");function gx(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}s(gx,"_format");var Tr={resolve:s(function(){for(var e="",n=!1,r,i=arguments.length-1;i>=-1&&!n;i--){var o;i>=0?o=arguments[i]:(r===void 0&&(r=process.cwd()),o=r),Yt(o),o.length!==0&&(e=o+"/"+e,n=o.charCodeAt(0)===47)}return e=pf(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},"resolve"),normalize:s(function(e){if(Yt(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=pf(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},"normalize"),isAbsolute:s(function(e){return Yt(e),e.length>0&&e.charCodeAt(0)===47},"isAbsolute"),join:s(function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];Yt(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":Tr.normalize(e)},"join"),relative:s(function(e,n){if(Yt(e),Yt(n),e===n||(e=Tr.resolve(e),n=Tr.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,o=i-r,l=1;l<n.length&&n.charCodeAt(l)===47;++l);for(var u=n.length,d=u-l,f=o<d?o:d,p=-1,m=0;m<=f;++m){if(m===f){if(d>f){if(n.charCodeAt(l+m)===47)return n.slice(l+m+1);if(m===0)return n.slice(l+m)}else o>f&&(e.charCodeAt(r+m)===47?p=m:m===0&&(p=0));break}var w=e.charCodeAt(r+m),y=n.charCodeAt(l+m);if(w!==y)break;w===47&&(p=m)}var x="";for(m=r+p+1;m<=i;++m)(m===i||e.charCodeAt(m)===47)&&(x.length===0?x+="..":x+="/..");return x.length>0?x+n.slice(l+p):(l+=p,n.charCodeAt(l)===47&&++l,n.slice(l))},"relative"),_makeLong:s(function(e){return e},"_makeLong"),dirname:s(function(e){if(Yt(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,i=-1,o=!0,l=e.length-1;l>=1;--l)if(n=e.charCodeAt(l),n===47){if(!o){i=l;break}}else o=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},"dirname"),basename:s(function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Yt(e);var r=0,i=-1,o=!0,l;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var u=n.length-1,d=-1;for(l=e.length-1;l>=0;--l){var f=e.charCodeAt(l);if(f===47){if(!o){r=l+1;break}}else d===-1&&(o=!1,d=l+1),u>=0&&(f===n.charCodeAt(u)?--u===-1&&(i=l):(u=-1,i=d))}return r===i?i=d:i===-1&&(i=e.length),e.slice(r,i)}else{for(l=e.length-1;l>=0;--l)if(e.charCodeAt(l)===47){if(!o){r=l+1;break}}else i===-1&&(o=!1,i=l+1);return i===-1?"":e.slice(r,i)}},"basename"),extname:s(function(e){Yt(e);for(var n=-1,r=0,i=-1,o=!0,l=0,u=e.length-1;u>=0;--u){var d=e.charCodeAt(u);if(d===47){if(!o){r=u+1;break}continue}i===-1&&(o=!1,i=u+1),d===46?n===-1?n=u:l!==1&&(l=1):n!==-1&&(l=-1)}return n===-1||i===-1||l===0||l===1&&n===i-1&&n===r+1?"":e.slice(n,i)},"extname"),format:s(function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return gx("/",e)},"format"),parse:s(function(e){Yt(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),i=r===47,o;i?(n.root="/",o=1):o=0;for(var l=-1,u=0,d=-1,f=!0,p=e.length-1,m=0;p>=o;--p){if(r=e.charCodeAt(p),r===47){if(!f){u=p+1;break}continue}d===-1&&(f=!1,d=p+1),r===46?l===-1?l=p:m!==1&&(m=1):l!==-1&&(m=-1)}return l===-1||d===-1||m===0||m===1&&l===d-1&&l===u+1?d!==-1&&(u===0&&i?n.base=n.name=e.slice(1,d):n.base=n.name=e.slice(u,d)):(u===0&&i?(n.name=e.slice(1,l),n.base=e.slice(1,d)):(n.name=e.slice(u,l),n.base=e.slice(u,d)),n.ext=e.slice(l,d)),u>0?n.dir=e.slice(0,u-1):i&&(n.dir="/"),n},"parse"),sep:"/",delimiter:":",win32:null,posix:null};Tr.posix=Tr;mf.exports=Tr});var ap=H((yL,op)=>{"use strict";var ao=Object.prototype.hasOwnProperty,sp=Object.prototype.toString,Qh=Object.defineProperty,ep=Object.getOwnPropertyDescriptor,tp=s(function(e){return typeof Array.isArray=="function"?Array.isArray(e):sp.call(e)==="[object Array]"},"isArray"),np=s(function(e){if(!e||sp.call(e)!=="[object Object]")return!1;var n=ao.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&ao.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||ao.call(e,i)},"isPlainObject"),rp=s(function(e,n){Qh&&n.name==="__proto__"?Qh(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},"setProperty"),ip=s(function(e,n){if(n==="__proto__")if(ao.call(e,n)){if(ep)return ep(e,n).value}else return;return e[n]},"getProperty");op.exports=s(function t(){var e,n,r,i,o,l,u=arguments[0],d=1,f=arguments.length,p=!1;for(typeof u=="boolean"&&(p=u,u=arguments[1]||{},d=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});d<f;++d)if(e=arguments[d],e!=null)for(n in e)r=ip(u,n),i=ip(e,n),u!==i&&(p&&i&&(np(i)||(o=tp(i)))?(o?(o=!1,l=r&&tp(r)?r:[]):l=r&&np(r)?r:{},rp(u,{name:n,newValue:t(p,l,i)})):typeof i<"u"&&rp(u,{name:n,newValue:i}));return u},"extend")});var Vp=H((Co,Bp)=>{(function(t,e){typeof Co=="object"&&typeof Bp<"u"?e(Co):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(Co,(function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=s(S=>{if(typeof S!="string")throw new TypeError("Invalid argument expected string");let E=S.match(e);if(!E)throw new Error(`Invalid argument not valid semver ('${S}' received)`);return E.shift(),E},"validateAndParse"),r=s(S=>S==="*"||S==="x"||S==="X","isWildcard"),i=s(S=>{let E=parseInt(S,10);return isNaN(E)?S:E},"tryParse"),o=s((S,E)=>typeof S!=typeof E?[String(S),String(E)]:[S,E],"forceType"),l=s((S,E)=>{if(r(S)||r(E))return 0;let[P,_]=o(i(S),i(E));return P>_?1:P<_?-1:0},"compareStrings"),u=s((S,E)=>{for(let P=0;P<Math.max(S.length,E.length);P++){let _=l(S[P]||"0",E[P]||"0");if(_!==0)return _}return 0},"compareSegments"),d=s((S,E)=>{let P=n(S),_=n(E),L=P.pop(),z=_.pop(),F=u(P,_);return F!==0?F:L&&z?u(L.split("."),z.split(".")):L||z?L?-1:1:0},"compareVersions"),f=s((S,E,P)=>{w(P);let _=d(S,E);return p[P].includes(_)},"compare"),p={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},m=Object.keys(p),w=s(S=>{if(typeof S!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof S}`);if(m.indexOf(S)===-1)throw new Error(`Invalid operator, expected one of ${m.join("|")}`)},"assertValidOperator"),y=s((S,E)=>{if(E=E.replace(/([><=]+)\s+/g,"$1"),E.includes("||"))return E.split("||").some(Q=>y(S,Q));if(E.includes(" - ")){let[Q,ce]=E.split(" - ",2);return y(S,`>=${Q} <=${ce}`)}else if(E.includes(" "))return E.trim().replace(/\s{2,}/g," ").split(" ").every(Q=>y(S,Q));let P=E.match(/^([<>=~^]+)/),_=P?P[1]:"=";if(_!=="^"&&_!=="~")return f(S,E,_);let[L,z,F,,Z]=n(S),[re,q,ne,,me]=n(E),ae=[L,z,F],N=[re,q??"x",ne??"x"];if(me&&(!Z||u(ae,N)!==0||u(Z.split("."),me.split("."))===-1))return!1;let j=N.findIndex(Q=>Q!=="0")+1,G=_==="~"?2:j>1?j:1;return!(u(ae.slice(0,G),N.slice(0,G))!==0||u(ae.slice(G),N.slice(G))===-1)},"satisfies"),x=s(S=>typeof S=="string"&&/^[v\d]/.test(S)&&e.test(S),"validate"),T=s(S=>typeof S=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(S),"validateStrict");t.compare=f,t.compareVersions=d,t.satisfies=y,t.validate=x,t.validateStrict=T}))});var am=H((nc,rc)=>{(function(t,e,n){typeof nc=="object"?(rc.exports=n(),rc.exports.default=n()):typeof define=="function"&&define.amd?define(n):e[t]=n()})("slugify",nc,function(){var t=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xA2":"cent","\xA3":"pound","\xA4":"currency","\xA5":"yen","\xA9":"(c)","\xAA":"a","\xAE":"(r)","\xBA":"o","\xC0":"A","\xC1":"A","\xC2":"A","\xC3":"A","\xC4":"A","\xC5":"A","\xC6":"AE","\xC7":"C","\xC8":"E","\xC9":"E","\xCA":"E","\xCB":"E","\xCC":"I","\xCD":"I","\xCE":"I","\xCF":"I","\xD0":"D","\xD1":"N","\xD2":"O","\xD3":"O","\xD4":"O","\xD5":"O","\xD6":"O","\xD8":"O","\xD9":"U","\xDA":"U","\xDB":"U","\xDC":"U","\xDD":"Y","\xDE":"TH","\xDF":"ss","\xE0":"a","\xE1":"a","\xE2":"a","\xE3":"a","\xE4":"a","\xE5":"a","\xE6":"ae","\xE7":"c","\xE8":"e","\xE9":"e","\xEA":"e","\xEB":"e","\xEC":"i","\xED":"i","\xEE":"i","\xEF":"i","\xF0":"d","\xF1":"n","\xF2":"o","\xF3":"o","\xF4":"o","\xF5":"o","\xF6":"o","\xF8":"o","\xF9":"u","\xFA":"u","\xFB":"u","\xFC":"u","\xFD":"y","\xFE":"th","\xFF":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010C":"C","\u010D":"c","\u010E":"D","\u010F":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011A":"E","\u011B":"e","\u011E":"G","\u011F":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012A":"i","\u012B":"i","\u012E":"I","\u012F":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013B":"L","\u013C":"l","\u013D":"L","\u013E":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014C":"O","\u014D":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015A":"S","\u015B":"s","\u015E":"S","\u015F":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016A":"u","\u016B":"u","\u016E":"U","\u016F":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017A":"z","\u017B":"Z","\u017C":"z","\u017D":"Z","\u017E":"z","\u018F":"E","\u0192":"f","\u01A0":"O","\u01A1":"o","\u01AF":"U","\u01B0":"u","\u01C8":"LJ","\u01C9":"lj","\u01CB":"NJ","\u01CC":"nj","\u0218":"S","\u0219":"s","\u021A":"T","\u021B":"t","\u0259":"e","\u02DA":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038A":"I","\u038C":"O","\u038E":"Y","\u038F":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039A":"K","\u039B":"L","\u039C":"M","\u039D":"N","\u039E":"3","\u039F":"O","\u03A0":"P","\u03A1":"R","\u03A3":"S","\u03A4":"T","\u03A5":"Y","\u03A6":"F","\u03A7":"X","\u03A8":"PS","\u03A9":"W","\u03AA":"I","\u03AB":"Y","\u03AC":"a","\u03AD":"e","\u03AE":"h","\u03AF":"i","\u03B0":"y","\u03B1":"a","\u03B2":"b","\u03B3":"g","\u03B4":"d","\u03B5":"e","\u03B6":"z","\u03B7":"h","\u03B8":"8","\u03B9":"i","\u03BA":"k","\u03BB":"l","\u03BC":"m","\u03BD":"n","\u03BE":"3","\u03BF":"o","\u03C0":"p","\u03C1":"r","\u03C2":"s","\u03C3":"s","\u03C4":"t","\u03C5":"y","\u03C6":"f","\u03C7":"x","\u03C8":"ps","\u03C9":"w","\u03CA":"i","\u03CB":"y","\u03CC":"o","\u03CD":"y","\u03CE":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040A":"NJ","\u040B":"C","\u040F":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041A":"K","\u041B":"L","\u041C":"M","\u041D":"N","\u041E":"O","\u041F":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042A":"U","\u042B":"Y","\u042C":"","\u042D":"E","\u042E":"Yu","\u042F":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043A":"k","\u043B":"l","\u043C":"m","\u043D":"n","\u043E":"o","\u043F":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044A":"u","\u044B":"y","\u044C":"","\u044D":"e","\u044E":"yu","\u044F":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045A":"nj","\u045B":"c","\u045D":"u","\u045F":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049A":"KH","\u049B":"kh","\u04A2":"NG","\u04A3":"ng","\u04AE":"UE","\u04AF":"ue","\u04B0":"U","\u04B1":"u","\u04BA":"H","\u04BB":"h","\u04D8":"AE","\u04D9":"ae","\u04E8":"OE","\u04E9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E'","\u0538":"Y'","\u0539":"T'","\u053A":"JH","\u053B":"I","\u053C":"L","\u053D":"X","\u053E":"C'","\u053F":"K","\u0540":"H","\u0541":"D'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054A":"P","\u054B":"J","\u054C":"R'","\u054D":"S","\u054E":"V","\u054F":"T","\u0550":"R","\u0551":"C","\u0553":"P'","\u0554":"Q'","\u0555":"O''","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062A":"t","\u062B":"th","\u062C":"j","\u062D":"h","\u062E":"kh","\u062F":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063A":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064A":"y","\u064B":"an","\u064C":"on","\u064D":"en","\u064E":"a","\u064F":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067E":"p","\u0686":"ch","\u0698":"zh","\u06A9":"k","\u06AF":"g","\u06CC":"y","\u06F0":"0","\u06F1":"1","\u06F2":"2","\u06F3":"3","\u06F4":"4","\u06F5":"5","\u06F6":"6","\u06F7":"7","\u06F8":"8","\u06F9":"9","\u0E3F":"baht","\u10D0":"a","\u10D1":"b","\u10D2":"g","\u10D3":"d","\u10D4":"e","\u10D5":"v","\u10D6":"z","\u10D7":"t","\u10D8":"i","\u10D9":"k","\u10DA":"l","\u10DB":"m","\u10DC":"n","\u10DD":"o","\u10DE":"p","\u10DF":"zh","\u10E0":"r","\u10E1":"s","\u10E2":"t","\u10E3":"u","\u10E4":"f","\u10E5":"k","\u10E6":"gh","\u10E7":"q","\u10E8":"sh","\u10E9":"ch","\u10EA":"ts","\u10EB":"dz","\u10EC":"ts","\u10ED":"ch","\u10EE":"kh","\u10EF":"j","\u10F0":"h","\u1E62":"S","\u1E63":"s","\u1E80":"W","\u1E81":"w","\u1E82":"W","\u1E83":"w","\u1E84":"W","\u1E85":"w","\u1E9E":"SS","\u1EA0":"A","\u1EA1":"a","\u1EA2":"A","\u1EA3":"a","\u1EA4":"A","\u1EA5":"a","\u1EA6":"A","\u1EA7":"a","\u1EA8":"A","\u1EA9":"a","\u1EAA":"A","\u1EAB":"a","\u1EAC":"A","\u1EAD":"a","\u1EAE":"A","\u1EAF":"a","\u1EB0":"A","\u1EB1":"a","\u1EB2":"A","\u1EB3":"a","\u1EB4":"A","\u1EB5":"a","\u1EB6":"A","\u1EB7":"a","\u1EB8":"E","\u1EB9":"e","\u1EBA":"E","\u1EBB":"e","\u1EBC":"E","\u1EBD":"e","\u1EBE":"E","\u1EBF":"e","\u1EC0":"E","\u1EC1":"e","\u1EC2":"E","\u1EC3":"e","\u1EC4":"E","\u1EC5":"e","\u1EC6":"E","\u1EC7":"e","\u1EC8":"I","\u1EC9":"i","\u1ECA":"I","\u1ECB":"i","\u1ECC":"O","\u1ECD":"o","\u1ECE":"O","\u1ECF":"o","\u1ED0":"O","\u1ED1":"o","\u1ED2":"O","\u1ED3":"o","\u1ED4":"O","\u1ED5":"o","\u1ED6":"O","\u1ED7":"o","\u1ED8":"O","\u1ED9":"o","\u1EDA":"O","\u1EDB":"o","\u1EDC":"O","\u1EDD":"o","\u1EDE":"O","\u1EDF":"o","\u1EE0":"O","\u1EE1":"o","\u1EE2":"O","\u1EE3":"o","\u1EE4":"U","\u1EE5":"u","\u1EE6":"U","\u1EE7":"u","\u1EE8":"U","\u1EE9":"u","\u1EEA":"U","\u1EEB":"u","\u1EEC":"U","\u1EED":"u","\u1EEE":"U","\u1EEF":"u","\u1EF0":"U","\u1EF1":"u","\u1EF2":"Y","\u1EF3":"y","\u1EF4":"Y","\u1EF5":"y","\u1EF6":"Y","\u1EF7":"y","\u1EF8":"Y","\u1EF9":"y","\u2013":"-","\u2018":"'","\u2019":"'","\u201C":"\\"","\u201D":"\\"","\u201E":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20A0":"ecu","\u20A2":"cruzeiro","\u20A3":"french franc","\u20A4":"lira","\u20A5":"mill","\u20A6":"naira","\u20A7":"peseta","\u20A8":"rupee","\u20A9":"won","\u20AA":"new shequel","\u20AB":"dong","\u20AC":"euro","\u20AD":"kip","\u20AE":"tugrik","\u20AF":"drachma","\u20B0":"penny","\u20B1":"peso","\u20B2":"guarani","\u20B3":"austral","\u20B4":"hryvnia","\u20B5":"cedi","\u20B8":"kazakhstani tenge","\u20B9":"indian rupee","\u20BA":"turkish lira","\u20BD":"russian ruble","\u20BF":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221E":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\uFDFC":"rial","\uFEF5":"laa","\uFEF7":"laa","\uFEF9":"lai","\uFEFB":"la"}`),e=JSON.parse('{"bg":{"\u0419":"Y","\u0426":"Ts","\u0429":"Sht","\u042A":"A","\u042C":"Y","\u0439":"y","\u0446":"ts","\u0449":"sht","\u044A":"a","\u044C":"y"},"de":{"\xC4":"AE","\xE4":"ae","\xD6":"OE","\xF6":"oe","\xDC":"UE","\xFC":"ue","\xDF":"ss","%":"prozent","&":"und","|":"oder","\u2211":"summe","\u221E":"unendlich","\u2665":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xA2":"centavos","\xA3":"libras","\xA4":"moneda","\u20A3":"francos","\u2211":"suma","\u221E":"infinito","\u2665":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xA2":"centime","\xA3":"livre","\xA4":"devise","\u20A3":"franc","\u2211":"somme","\u221E":"infini","\u2665":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xA2":"centavo","\u2211":"soma","\xA3":"libra","\u221E":"infinito","\u2665":"amor"},"uk":{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"},"vi":{"\u0110":"D","\u0111":"d"},"da":{"\xD8":"OE","\xF8":"oe","\xC5":"AA","\xE5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xF8rre end"},"nb":{"&":"og","\xC5":"AA","\xC6":"AE","\xD8":"OE","\xE5":"aa","\xE6":"ae","\xF8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xC5":"AA","\xC4":"AE","\xD6":"OE","\xE5":"aa","\xE4":"ae","\xF6":"oe"}}');function n(r,i){if(typeof r!="string")throw new Error("slugify: string argument expected");i=typeof i=="string"?{replacement:i}:i||{};var o=e[i.locale]||{},l=i.replacement===void 0?"-":i.replacement,u=i.trim===void 0?!0:i.trim,d=r.normalize().split("").reduce(function(f,p){var m=o[p];return m===void 0&&(m=t[p]),m===void 0&&(m=p),m===l&&(m=" "),f+m.replace(i.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return i.strict&&(d=d.replace(/[^A-Za-z0-9\s]/g,"")),u&&(d=d.trim()),d=d.replace(/\s+/g,l),i.lower&&(d=d.toLowerCase()),d}return s(n,"replace"),n.extend=function(r){Object.assign(t,r)},n})});var zi=H((t5,Fm)=>{"use strict";var cE="2.0.0",dE=Number.MAX_SAFE_INTEGER||9007199254740991,fE=16,hE=250,pE=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Fm.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:fE,MAX_SAFE_BUILD_LENGTH:hE,MAX_SAFE_INTEGER:dE,RELEASE_TYPES:pE,SEMVER_SPEC_VERSION:cE,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Hi=H((n5,Pm)=>{"use strict";var mE=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Pm.exports=mE});var Gr=H((Jt,Im)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:dc,MAX_SAFE_BUILD_LENGTH:gE,MAX_LENGTH:yE}=zi(),wE=Hi();Jt=Im.exports={};var bE=Jt.re=[],AE=Jt.safeRe=[],B=Jt.src=[],xE=Jt.safeSrc=[],V=Jt.t={},kE=0,fc="[a-zA-Z0-9-]",vE=[["\\s",1],["\\d",yE],[fc,gE]],CE=s(t=>{for(let[e,n]of vE)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},"makeSafeRegex"),te=s((t,e,n)=>{let r=CE(e),i=kE++;wE(t,i,e),V[t]=i,B[i]=e,xE[i]=r,bE[i]=new RegExp(e,n?"g":void 0),AE[i]=new RegExp(r,n?"g":void 0)},"createToken");te("NUMERICIDENTIFIER","0|[1-9]\\d*");te("NUMERICIDENTIFIERLOOSE","\\d+");te("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${fc}*`);te("MAINVERSION",`(${B[V.NUMERICIDENTIFIER]})\\.(${B[V.NUMERICIDENTIFIER]})\\.(${B[V.NUMERICIDENTIFIER]})`);te("MAINVERSIONLOOSE",`(${B[V.NUMERICIDENTIFIERLOOSE]})\\.(${B[V.NUMERICIDENTIFIERLOOSE]})\\.(${B[V.NUMERICIDENTIFIERLOOSE]})`);te("PRERELEASEIDENTIFIER",`(?:${B[V.NONNUMERICIDENTIFIER]}|${B[V.NUMERICIDENTIFIER]})`);te("PRERELEASEIDENTIFIERLOOSE",`(?:${B[V.NONNUMERICIDENTIFIER]}|${B[V.NUMERICIDENTIFIERLOOSE]})`);te("PRERELEASE",`(?:-(${B[V.PRERELEASEIDENTIFIER]}(?:\\.${B[V.PRERELEASEIDENTIFIER]})*))`);te("PRERELEASELOOSE",`(?:-?(${B[V.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${B[V.PRERELEASEIDENTIFIERLOOSE]})*))`);te("BUILDIDENTIFIER",`${fc}+`);te("BUILD",`(?:\\+(${B[V.BUILDIDENTIFIER]}(?:\\.${B[V.BUILDIDENTIFIER]})*))`);te("FULLPLAIN",`v?${B[V.MAINVERSION]}${B[V.PRERELEASE]}?${B[V.BUILD]}?`);te("FULL",`^${B[V.FULLPLAIN]}$`);te("LOOSEPLAIN",`[v=\\s]*${B[V.MAINVERSIONLOOSE]}${B[V.PRERELEASELOOSE]}?${B[V.BUILD]}?`);te("LOOSE",`^${B[V.LOOSEPLAIN]}$`);te("GTLT","((?:<|>)?=?)");te("XRANGEIDENTIFIERLOOSE",`${B[V.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);te("XRANGEIDENTIFIER",`${B[V.NUMERICIDENTIFIER]}|x|X|\\*`);te("XRANGEPLAIN",`[v=\\s]*(${B[V.XRANGEIDENTIFIER]})(?:\\.(${B[V.XRANGEIDENTIFIER]})(?:\\.(${B[V.XRANGEIDENTIFIER]})(?:${B[V.PRERELEASE]})?${B[V.BUILD]}?)?)?`);te("XRANGEPLAINLOOSE",`[v=\\s]*(${B[V.XRANGEIDENTIFIERLOOSE]})(?:\\.(${B[V.XRANGEIDENTIFIERLOOSE]})(?:\\.(${B[V.XRANGEIDENTIFIERLOOSE]})(?:${B[V.PRERELEASELOOSE]})?${B[V.BUILD]}?)?)?`);te("XRANGE",`^${B[V.GTLT]}\\s*${B[V.XRANGEPLAIN]}$`);te("XRANGELOOSE",`^${B[V.GTLT]}\\s*${B[V.XRANGEPLAINLOOSE]}$`);te("COERCEPLAIN",`(^|[^\\d])(\\d{1,${dc}})(?:\\.(\\d{1,${dc}}))?(?:\\.(\\d{1,${dc}}))?`);te("COERCE",`${B[V.COERCEPLAIN]}(?:$|[^\\d])`);te("COERCEFULL",B[V.COERCEPLAIN]+`(?:${B[V.PRERELEASE]})?(?:${B[V.BUILD]})?(?:$|[^\\d])`);te("COERCERTL",B[V.COERCE],!0);te("COERCERTLFULL",B[V.COERCEFULL],!0);te("LONETILDE","(?:~>?)");te("TILDETRIM",`(\\s*)${B[V.LONETILDE]}\\s+`,!0);Jt.tildeTrimReplace="$1~";te("TILDE",`^${B[V.LONETILDE]}${B[V.XRANGEPLAIN]}$`);te("TILDELOOSE",`^${B[V.LONETILDE]}${B[V.XRANGEPLAINLOOSE]}$`);te("LONECARET","(?:\\^)");te("CARETTRIM",`(\\s*)${B[V.LONECARET]}\\s+`,!0);Jt.caretTrimReplace="$1^";te("CARET",`^${B[V.LONECARET]}${B[V.XRANGEPLAIN]}$`);te("CARETLOOSE",`^${B[V.LONECARET]}${B[V.XRANGEPLAINLOOSE]}$`);te("COMPARATORLOOSE",`^${B[V.GTLT]}\\s*(${B[V.LOOSEPLAIN]})$|^$`);te("COMPARATOR",`^${B[V.GTLT]}\\s*(${B[V.FULLPLAIN]})$|^$`);te("COMPARATORTRIM",`(\\s*)${B[V.GTLT]}\\s*(${B[V.LOOSEPLAIN]}|${B[V.XRANGEPLAIN]})`,!0);Jt.comparatorTrimReplace="$1$2$3";te("HYPHENRANGE",`^\\s*(${B[V.XRANGEPLAIN]})\\s+-\\s+(${B[V.XRANGEPLAIN]})\\s*$`);te("HYPHENRANGELOOSE",`^\\s*(${B[V.XRANGEPLAINLOOSE]})\\s+-\\s+(${B[V.XRANGEPLAINLOOSE]})\\s*$`);te("STAR","(<|>)?=?\\s*\\*");te("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");te("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Ko=H((i5,Om)=>{"use strict";var EE=Object.freeze({loose:!0}),TE=Object.freeze({}),SE=s(t=>t?typeof t!="object"?EE:t:TE,"parseOptions");Om.exports=SE});var hc=H((o5,Mm)=>{"use strict";var _m=/^[0-9]+$/,Rm=s((t,e)=>{let n=_m.test(t),r=_m.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},"compareIdentifiers"),FE=s((t,e)=>Rm(e,t),"rcompareIdentifiers");Mm.exports={compareIdentifiers:Rm,rcompareIdentifiers:FE}});var Je=H((l5,Lm)=>{"use strict";var Jo=Hi(),{MAX_LENGTH:Nm,MAX_SAFE_INTEGER:Xo}=zi(),{safeRe:Zo,t:Qo}=Gr(),PE=Ko(),{compareIdentifiers:qr}=hc(),pc=class t{static{s(this,"SemVer")}constructor(e,n){if(n=PE(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Nm)throw new TypeError(`version is longer than ${Nm} characters`);Jo("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?Zo[Qo.LOOSE]:Zo[Qo.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Xo||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Xo||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Xo||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<Xo)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Jo("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),qr(this.major,e.major)||qr(this.minor,e.minor)||qr(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],i=e.prerelease[n];if(Jo("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return qr(r,i)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let r=this.build[n],i=e.build[n];if(Jo("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return qr(r,i)}while(++n)}inc(e,n,r){if(e.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){let i=`-${n}`.match(this.options.loose?Zo[Qo.PRERELEASELOOSE]:Zo[Qo.PRERELEASE]);if(!i||i[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let o=[n,i];r===!1&&(o=[n]),qr(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Lm.exports=pc});var sr=H((c5,$m)=>{"use strict";var Dm=Je(),IE=s((t,e,n=!1)=>{if(t instanceof Dm)return t;try{return new Dm(t,e)}catch(r){if(!n)return null;throw r}},"parse");$m.exports=IE});var Vm=H((f5,Bm)=>{"use strict";var OE=sr(),_E=s((t,e)=>{let n=OE(t,e);return n?n.version:null},"valid");Bm.exports=_E});var Wm=H((p5,Um)=>{"use strict";var RE=sr(),ME=s((t,e)=>{let n=RE(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null},"clean");Um.exports=ME});var Hm=H((g5,zm)=>{"use strict";var Ym=Je(),NE=s((t,e,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new Ym(t instanceof Ym?t.version:t,n).inc(e,r,i).version}catch{return null}},"inc");zm.exports=NE});var qm=H((w5,Gm)=>{"use strict";var jm=sr(),LE=s((t,e)=>{let n=jm(t,null,!0),r=jm(e,null,!0),i=n.compare(r);if(i===0)return null;let o=i>0,l=o?n:r,u=o?r:n,d=!!l.prerelease.length;if(!!u.prerelease.length&&!d){if(!u.patch&&!u.minor)return"major";if(u.compareMain(l)===0)return u.minor&&!u.patch?"minor":"patch"}let p=d?"pre":"";return n.major!==r.major?p+"major":n.minor!==r.minor?p+"minor":n.patch!==r.patch?p+"patch":"prerelease"},"diff");Gm.exports=LE});var Jm=H((A5,Km)=>{"use strict";var DE=Je(),$E=s((t,e)=>new DE(t,e).major,"major");Km.exports=$E});var Zm=H((k5,Xm)=>{"use strict";var BE=Je(),VE=s((t,e)=>new BE(t,e).minor,"minor");Xm.exports=VE});var eg=H((C5,Qm)=>{"use strict";var UE=Je(),WE=s((t,e)=>new UE(t,e).patch,"patch");Qm.exports=WE});var ng=H((T5,tg)=>{"use strict";var YE=sr(),zE=s((t,e)=>{let n=YE(t,e);return n&&n.prerelease.length?n.prerelease:null},"prerelease");tg.exports=zE});var St=H((F5,ig)=>{"use strict";var rg=Je(),HE=s((t,e,n)=>new rg(t,n).compare(new rg(e,n)),"compare");ig.exports=HE});var og=H((I5,sg)=>{"use strict";var jE=St(),GE=s((t,e,n)=>jE(e,t,n),"rcompare");sg.exports=GE});var lg=H((_5,ag)=>{"use strict";var qE=St(),KE=s((t,e)=>qE(t,e,!0),"compareLoose");ag.exports=KE});var ea=H((M5,cg)=>{"use strict";var ug=Je(),JE=s((t,e,n)=>{let r=new ug(t,n),i=new ug(e,n);return r.compare(i)||r.compareBuild(i)},"compareBuild");cg.exports=JE});var fg=H((L5,dg)=>{"use strict";var XE=ea(),ZE=s((t,e)=>t.sort((n,r)=>XE(n,r,e)),"sort");dg.exports=ZE});var pg=H(($5,hg)=>{"use strict";var QE=ea(),eT=s((t,e)=>t.sort((n,r)=>QE(r,n,e)),"rsort");hg.exports=eT});var ji=H((V5,mg)=>{"use strict";var tT=St(),nT=s((t,e,n)=>tT(t,e,n)>0,"gt");mg.exports=nT});var ta=H((W5,gg)=>{"use strict";var rT=St(),iT=s((t,e,n)=>rT(t,e,n)<0,"lt");gg.exports=iT});var mc=H((z5,yg)=>{"use strict";var sT=St(),oT=s((t,e,n)=>sT(t,e,n)===0,"eq");yg.exports=oT});var gc=H((j5,wg)=>{"use strict";var aT=St(),lT=s((t,e,n)=>aT(t,e,n)!==0,"neq");wg.exports=lT});var na=H((q5,bg)=>{"use strict";var uT=St(),cT=s((t,e,n)=>uT(t,e,n)>=0,"gte");bg.exports=cT});var ra=H((J5,Ag)=>{"use strict";var dT=St(),fT=s((t,e,n)=>dT(t,e,n)<=0,"lte");Ag.exports=fT});var yc=H((Z5,xg)=>{"use strict";var hT=mc(),pT=gc(),mT=ji(),gT=na(),yT=ta(),wT=ra(),bT=s((t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return hT(t,n,r);case"!=":return pT(t,n,r);case">":return mT(t,n,r);case">=":return gT(t,n,r);case"<":return yT(t,n,r);case"<=":return wT(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}},"cmp");xg.exports=bT});var vg=H((eW,kg)=>{"use strict";var AT=Je(),xT=sr(),{safeRe:ia,t:sa}=Gr(),kT=s((t,e)=>{if(t instanceof AT)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?ia[sa.COERCEFULL]:ia[sa.COERCE]);else{let d=e.includePrerelease?ia[sa.COERCERTLFULL]:ia[sa.COERCERTL],f;for(;(f=d.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||f.index+f[0].length!==n.index+n[0].length)&&(n=f),d.lastIndex=f.index+f[1].length+f[2].length;d.lastIndex=-1}if(n===null)return null;let r=n[2],i=n[3]||"0",o=n[4]||"0",l=e.includePrerelease&&n[5]?`-${n[5]}`:"",u=e.includePrerelease&&n[6]?`+${n[6]}`:"";return xT(`${r}.${i}.${o}${l}${u}`,e)},"coerce");kg.exports=kT});var Eg=H((nW,Cg)=>{"use strict";var wc=class{static{s(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(e){let n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}};Cg.exports=wc});var Ft=H((iW,Pg)=>{"use strict";var vT=/\s+/g,bc=class t{static{s(this,"Range")}constructor(e,n){if(n=ET(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof Ac)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().replace(vT," "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!Sg(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&_T(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let n=this.set[e];for(let r=0;r<n.length;r++)r>0&&(this.formatted+=" "),this.formatted+=n[r].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&IT)|(this.options.loose&&OT))+":"+e,i=Tg.get(r);if(i)return i;let o=this.options.loose,l=o?dt[ot.HYPHENRANGELOOSE]:dt[ot.HYPHENRANGE];e=e.replace(l,WT(this.options.includePrerelease)),xe("hyphen replace",e),e=e.replace(dt[ot.COMPARATORTRIM],ST),xe("comparator trim",e),e=e.replace(dt[ot.TILDETRIM],FT),xe("tilde trim",e),e=e.replace(dt[ot.CARETTRIM],PT),xe("caret trim",e);let u=e.split(" ").map(m=>RT(m,this.options)).join(" ").split(/\s+/).map(m=>UT(m,this.options));o&&(u=u.filter(m=>(xe("loose invalid filter",m,this.options),!!m.match(dt[ot.COMPARATORLOOSE])))),xe("range list",u);let d=new Map,f=u.map(m=>new Ac(m,this.options));for(let m of f){if(Sg(m))return[m];d.set(m.value,m)}d.size>1&&d.has("")&&d.delete("");let p=[...d.values()];return Tg.set(r,p),p}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(r=>Fg(r,n)&&e.set.some(i=>Fg(i,n)&&r.every(o=>i.every(l=>o.intersects(l,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new TT(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(YT(this.set[n],e,this.options))return!0;return!1}};Pg.exports=bc;var CT=Eg(),Tg=new CT,ET=Ko(),Ac=Gi(),xe=Hi(),TT=Je(),{safeRe:dt,t:ot,comparatorTrimReplace:ST,tildeTrimReplace:FT,caretTrimReplace:PT}=Gr(),{FLAG_INCLUDE_PRERELEASE:IT,FLAG_LOOSE:OT}=zi(),Sg=s(t=>t.value==="<0.0.0-0","isNullSet"),_T=s(t=>t.value==="","isAny"),Fg=s((t,e)=>{let n=!0,r=t.slice(),i=r.pop();for(;n&&r.length;)n=r.every(o=>i.intersects(o,e)),i=r.pop();return n},"isSatisfiable"),RT=s((t,e)=>(xe("comp",t,e),t=LT(t,e),xe("caret",t),t=MT(t,e),xe("tildes",t),t=$T(t,e),xe("xrange",t),t=VT(t,e),xe("stars",t),t),"parseComparator"),at=s(t=>!t||t.toLowerCase()==="x"||t==="*","isX"),MT=s((t,e)=>t.trim().split(/\s+/).map(n=>NT(n,e)).join(" "),"replaceTildes"),NT=s((t,e)=>{let n=e.loose?dt[ot.TILDELOOSE]:dt[ot.TILDE];return t.replace(n,(r,i,o,l,u)=>{xe("tilde",t,r,i,o,l,u);let d;return at(i)?d="":at(o)?d=`>=${i}.0.0 <${+i+1}.0.0-0`:at(l)?d=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:u?(xe("replaceTilde pr",u),d=`>=${i}.${o}.${l}-${u} <${i}.${+o+1}.0-0`):d=`>=${i}.${o}.${l} <${i}.${+o+1}.0-0`,xe("tilde return",d),d})},"replaceTilde"),LT=s((t,e)=>t.trim().split(/\s+/).map(n=>DT(n,e)).join(" "),"replaceCarets"),DT=s((t,e)=>{xe("caret",t,e);let n=e.loose?dt[ot.CARETLOOSE]:dt[ot.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(i,o,l,u,d)=>{xe("caret",t,i,o,l,u,d);let f;return at(o)?f="":at(l)?f=`>=${o}.0.0${r} <${+o+1}.0.0-0`:at(u)?o==="0"?f=`>=${o}.${l}.0${r} <${o}.${+l+1}.0-0`:f=`>=${o}.${l}.0${r} <${+o+1}.0.0-0`:d?(xe("replaceCaret pr",d),o==="0"?l==="0"?f=`>=${o}.${l}.${u}-${d} <${o}.${l}.${+u+1}-0`:f=`>=${o}.${l}.${u}-${d} <${o}.${+l+1}.0-0`:f=`>=${o}.${l}.${u}-${d} <${+o+1}.0.0-0`):(xe("no pr"),o==="0"?l==="0"?f=`>=${o}.${l}.${u}${r} <${o}.${l}.${+u+1}-0`:f=`>=${o}.${l}.${u}${r} <${o}.${+l+1}.0-0`:f=`>=${o}.${l}.${u} <${+o+1}.0.0-0`),xe("caret return",f),f})},"replaceCaret"),$T=s((t,e)=>(xe("replaceXRanges",t,e),t.split(/\s+/).map(n=>BT(n,e)).join(" ")),"replaceXRanges"),BT=s((t,e)=>{t=t.trim();let n=e.loose?dt[ot.XRANGELOOSE]:dt[ot.XRANGE];return t.replace(n,(r,i,o,l,u,d)=>{xe("xRange",t,r,i,o,l,u,d);let f=at(o),p=f||at(l),m=p||at(u),w=m;return i==="="&&w&&(i=""),d=e.includePrerelease?"-0":"",f?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&w?(p&&(l=0),u=0,i===">"?(i=">=",p?(o=+o+1,l=0,u=0):(l=+l+1,u=0)):i==="<="&&(i="<",p?o=+o+1:l=+l+1),i==="<"&&(d="-0"),r=`${i+o}.${l}.${u}${d}`):p?r=`>=${o}.0.0${d} <${+o+1}.0.0-0`:m&&(r=`>=${o}.${l}.0${d} <${o}.${+l+1}.0-0`),xe("xRange return",r),r})},"replaceXRange"),VT=s((t,e)=>(xe("replaceStars",t,e),t.trim().replace(dt[ot.STAR],"")),"replaceStars"),UT=s((t,e)=>(xe("replaceGTE0",t,e),t.trim().replace(dt[e.includePrerelease?ot.GTE0PRE:ot.GTE0],"")),"replaceGTE0"),WT=s(t=>(e,n,r,i,o,l,u,d,f,p,m,w)=>(at(r)?n="":at(i)?n=`>=${r}.0.0${t?"-0":""}`:at(o)?n=`>=${r}.${i}.0${t?"-0":""}`:l?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,at(f)?d="":at(p)?d=`<${+f+1}.0.0-0`:at(m)?d=`<${f}.${+p+1}.0-0`:w?d=`<=${f}.${p}.${m}-${w}`:t?d=`<${f}.${p}.${+m+1}-0`:d=`<=${d}`,`${n} ${d}`.trim()),"hyphenReplace"),YT=s((t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(xe(t[r].semver),t[r].semver!==Ac.ANY&&t[r].semver.prerelease.length>0){let i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0},"testSet")});var Gi=H((oW,Ng)=>{"use strict";var qi=Symbol("SemVer ANY"),vc=class t{static{s(this,"Comparator")}static get ANY(){return qi}constructor(e,n){if(n=Ig(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),kc("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===qi?this.value="":this.value=this.operator+this.semver.version,kc("comp",this)}parse(e){let n=this.options.loose?Og[_g.COMPARATORLOOSE]:Og[_g.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new Rg(r[2],this.options.loose):this.semver=qi}toString(){return this.value}test(e){if(kc("Comparator.test",e,this.options.loose),this.semver===qi||e===qi)return!0;if(typeof e=="string")try{e=new Rg(e,this.options)}catch{return!1}return xc(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Mg(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new Mg(this.value,n).test(e.semver):(n=Ig(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||xc(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||xc(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Ng.exports=vc;var Ig=Ko(),{safeRe:Og,t:_g}=Gr(),xc=yc(),kc=Hi(),Rg=Je(),Mg=Ft()});var Ki=H((lW,Lg)=>{"use strict";var zT=Ft(),HT=s((t,e,n)=>{try{e=new zT(e,n)}catch{return!1}return e.test(t)},"satisfies");Lg.exports=HT});var $g=H((cW,Dg)=>{"use strict";var jT=Ft(),GT=s((t,e)=>new jT(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" ")),"toComparators");Dg.exports=GT});var Vg=H((fW,Bg)=>{"use strict";var qT=Je(),KT=Ft(),JT=s((t,e,n)=>{let r=null,i=null,o=null;try{o=new KT(e,n)}catch{return null}return t.forEach(l=>{o.test(l)&&(!r||i.compare(l)===-1)&&(r=l,i=new qT(r,n))}),r},"maxSatisfying");Bg.exports=JT});var Wg=H((pW,Ug)=>{"use strict";var XT=Je(),ZT=Ft(),QT=s((t,e,n)=>{let r=null,i=null,o=null;try{o=new ZT(e,n)}catch{return null}return t.forEach(l=>{o.test(l)&&(!r||i.compare(l)===1)&&(r=l,i=new XT(r,n))}),r},"minSatisfying");Ug.exports=QT});var Hg=H((gW,zg)=>{"use strict";var Cc=Je(),eS=Ft(),Yg=ji(),tS=s((t,e)=>{t=new eS(t,e);let n=new Cc("0.0.0");if(t.test(n)||(n=new Cc("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){let i=t.set[r],o=null;i.forEach(l=>{let u=new Cc(l.semver.version);switch(l.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!o||Yg(u,o))&&(o=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),o&&(!n||Yg(n,o))&&(n=o)}return n&&t.test(n)?n:null},"minVersion");zg.exports=tS});var Gg=H((wW,jg)=>{"use strict";var nS=Ft(),rS=s((t,e)=>{try{return new nS(t,e).range||"*"}catch{return null}},"validRange");jg.exports=rS});var oa=H((AW,Xg)=>{"use strict";var iS=Je(),Jg=Gi(),{ANY:sS}=Jg,oS=Ft(),aS=Ki(),qg=ji(),Kg=ta(),lS=ra(),uS=na(),cS=s((t,e,n,r)=>{t=new iS(t,r),e=new oS(e,r);let i,o,l,u,d;switch(n){case">":i=qg,o=lS,l=Kg,u=">",d=">=";break;case"<":i=Kg,o=uS,l=qg,u="<",d="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(aS(t,e,r))return!1;for(let f=0;f<e.set.length;++f){let p=e.set[f],m=null,w=null;if(p.forEach(y=>{y.semver===sS&&(y=new Jg(">=0.0.0")),m=m||y,w=w||y,i(y.semver,m.semver,r)?m=y:l(y.semver,w.semver,r)&&(w=y)}),m.operator===u||m.operator===d||(!w.operator||w.operator===u)&&o(t,w.semver))return!1;if(w.operator===d&&l(t,w.semver))return!1}return!0},"outside");Xg.exports=cS});var Qg=H((kW,Zg)=>{"use strict";var dS=oa(),fS=s((t,e,n)=>dS(t,e,">",n),"gtr");Zg.exports=fS});var ty=H((CW,ey)=>{"use strict";var hS=oa(),pS=s((t,e,n)=>hS(t,e,"<",n),"ltr");ey.exports=pS});var iy=H((TW,ry)=>{"use strict";var ny=Ft(),mS=s((t,e,n)=>(t=new ny(t,n),e=new ny(e,n),t.intersects(e,n)),"intersects");ry.exports=mS});var oy=H((FW,sy)=>{"use strict";var gS=Ki(),yS=St();sy.exports=(t,e,n)=>{let r=[],i=null,o=null,l=t.sort((p,m)=>yS(p,m,n));for(let p of l)gS(p,e,n)?(o=p,i||(i=p)):(o&&r.push([i,o]),o=null,i=null);i&&r.push([i,null]);let u=[];for(let[p,m]of r)p===m?u.push(p):!m&&p===l[0]?u.push("*"):m?p===l[0]?u.push(`<=${m}`):u.push(`${p} - ${m}`):u.push(`>=${p}`);let d=u.join(" || "),f=typeof e.raw=="string"?e.raw:String(e);return d.length<f.length?d:e}});var fy=H((PW,dy)=>{"use strict";var ay=Ft(),Tc=Gi(),{ANY:Ec}=Tc,Ji=Ki(),Sc=St(),wS=s((t,e,n={})=>{if(t===e)return!0;t=new ay(t,n),e=new ay(e,n);let r=!1;e:for(let i of t.set){for(let o of e.set){let l=AS(i,o,n);if(r=r||l!==null,l)continue e}if(r)return!1}return!0},"subset"),bS=[new Tc(">=0.0.0-0")],ly=[new Tc(">=0.0.0")],AS=s((t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Ec){if(e.length===1&&e[0].semver===Ec)return!0;n.includePrerelease?t=bS:t=ly}if(e.length===1&&e[0].semver===Ec){if(n.includePrerelease)return!0;e=ly}let r=new Set,i,o;for(let y of t)y.operator===">"||y.operator===">="?i=uy(i,y,n):y.operator==="<"||y.operator==="<="?o=cy(o,y,n):r.add(y.semver);if(r.size>1)return null;let l;if(i&&o){if(l=Sc(i.semver,o.semver,n),l>0)return null;if(l===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let y of r){if(i&&!Ji(y,String(i),n)||o&&!Ji(y,String(o),n))return null;for(let x of e)if(!Ji(y,String(x),n))return!1;return!0}let u,d,f,p,m=o&&!n.includePrerelease&&o.semver.prerelease.length?o.semver:!1,w=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;m&&m.prerelease.length===1&&o.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(let y of e){if(p=p||y.operator===">"||y.operator===">=",f=f||y.operator==="<"||y.operator==="<=",i){if(w&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===w.major&&y.semver.minor===w.minor&&y.semver.patch===w.patch&&(w=!1),y.operator===">"||y.operator===">="){if(u=uy(i,y,n),u===y&&u!==i)return!1}else if(i.operator===">="&&!Ji(i.semver,String(y),n))return!1}if(o){if(m&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===m.major&&y.semver.minor===m.minor&&y.semver.patch===m.patch&&(m=!1),y.operator==="<"||y.operator==="<="){if(d=cy(o,y,n),d===y&&d!==o)return!1}else if(o.operator==="<="&&!Ji(o.semver,String(y),n))return!1}if(!y.operator&&(o||i)&&l!==0)return!1}return!(i&&f&&!o&&l!==0||o&&p&&!i&&l!==0||w||m)},"simpleSubset"),uy=s((t,e,n)=>{if(!t)return e;let r=Sc(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},"higherGT"),cy=s((t,e,n)=>{if(!t)return e;let r=Sc(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t},"lowerLT");dy.exports=wS});var gy=H((OW,my)=>{"use strict";var Fc=Gr(),hy=zi(),xS=Je(),py=hc(),kS=sr(),vS=Vm(),CS=Wm(),ES=Hm(),TS=qm(),SS=Jm(),FS=Zm(),PS=eg(),IS=ng(),OS=St(),_S=og(),RS=lg(),MS=ea(),NS=fg(),LS=pg(),DS=ji(),$S=ta(),BS=mc(),VS=gc(),US=na(),WS=ra(),YS=yc(),zS=vg(),HS=Gi(),jS=Ft(),GS=Ki(),qS=$g(),KS=Vg(),JS=Wg(),XS=Hg(),ZS=Gg(),QS=oa(),e2=Qg(),t2=ty(),n2=iy(),r2=oy(),i2=fy();my.exports={parse:kS,valid:vS,clean:CS,inc:ES,diff:TS,major:SS,minor:FS,patch:PS,prerelease:IS,compare:OS,rcompare:_S,compareLoose:RS,compareBuild:MS,sort:NS,rsort:LS,gt:DS,lt:$S,eq:BS,neq:VS,gte:US,lte:WS,cmp:YS,coerce:zS,Comparator:HS,Range:jS,satisfies:GS,toComparators:qS,maxSatisfying:KS,minSatisfying:JS,minVersion:XS,validRange:ZS,outside:QS,gtr:e2,ltr:t2,intersects:n2,simplifyRange:r2,subset:i2,SemVer:xS,re:Fc.re,src:Fc.src,tokens:Fc.t,SEMVER_SPEC_VERSION:hy.SEMVER_SPEC_VERSION,RELEASE_TYPES:hy.RELEASE_TYPES,compareIdentifiers:py.compareIdentifiers,rcompareIdentifiers:py.rcompareIdentifiers}});var p2={};Ed(p2,{default:()=>h2});module.exports=mA(p2);var Wa=require("electron"),Bc=Ve(un(),1),$t=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Nt(){}s(Nt,"noop");async function Ut(){}s(Ut,"noopAsync");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ui=Number.POSITIVE_INFINITY;function Yn(...t){let e=t.filter(o=>!!o);if(typeof AbortSignal.any=="function")return AbortSignal.any(e);if(e.length===0)return Ue();if(e.length===1&&e[0])return e[0];let n=new AbortController;for(let o of e)if(o.aborted)return o;let r=[];for(let o of e)r.push(Fd(o,i));return n.signal;function i(o){for(let l of r)l();n.abort(o.reason)}}s(Yn,"abortSignalAny");function Ue(){return new AbortController().signal}s(Ue,"abortSignalNever");function Sd(t){if(t===ui)return Ue();if(typeof AbortSignal.timeout=="function")return AbortSignal.timeout(t);let e=new AbortController;return window.setTimeout(()=>{e.abort(new Error(`Timed out in ${String(t)} milliseconds`))},t),e.signal}s(Sd,"abortSignalTimeout");function Fd(t,e){if(t.aborted)return e(t),Nt;return t.addEventListener("abort",n,{once:!0}),()=>{t.removeEventListener("abort",n)};function n(r){e(r.target)}s(n,"wrappedCallback")}s(Fd,"onAbort");function Pd(t,e){return new Promise((n,r)=>{Fd(t,()=>{e?r(t.reason):n(t.reason)})})}s(Pd,"waitForAbort");var xl=Ve(Ud(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function ci(t,e){let n=t.length,r=0;for(let i=0;i<n;i++){if(!Object.hasOwn(t,i))continue;let o=t[i];e(o,i,t)&&(t[r++]=o)}t.length=r}s(ci,"filterInPlace");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Wt=class{static{s(this,"AsyncEvents")}eventRefsMap=new Map;off(e,n){let r=this.eventRefsMap.get(e);r&&(ci(r,i=>i.callback!==n),r.length===0&&this.eventRefsMap.delete(e))}offref(e){let n=this.eventRefsMap.get(e.name);n&&(ci(n,r=>r!==e),n.length===0&&this.eventRefsMap.delete(e.name))}on(e,n,r){let i=this.eventRefsMap.get(e);i||(i=[],this.eventRefsMap.set(e,i));let o={asyncEvents:this,callback:n,name:e,thisArg:r};return i.push(o),o}once(e,n,r){let i=this.on(e,n,r),o=this.on(e,()=>{this.offref(i),this.offref(o)});return i}trigger(e,...n){let r=this.eventRefsMap.get(e)??[];for(let i of r.slice())this.tryTrigger(i,n)}async triggerAsync(e,...n){let r=this.eventRefsMap.get(e)??[];for(let i of r.slice())await this.tryTriggerAsync(i,n)}tryTrigger(e,n){try{e.callback.apply(e.thisArg,n)}catch(r){window.setTimeout(()=>{throw r},0)}}async tryTriggerAsync(e,n){try{await e.callback.call(e.thisArg,...n)}catch(r){window.setTimeout(()=>{throw r},0)}}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var yl="asyncError",xs=new Wt;xs.on(yl,VA);var ks="An unhandled error occurred executing async operation",Yd="    at",Lt=class t extends Error{static{s(this,"CustomStackTraceError")}constructor(e,n,r){super(e,{cause:r}),this.name="CustomStackTraceError",Error.captureStackTrace?.(this,t);let i=r,o=new Set;for(;i instanceof t;){if(o.has(i))throw new Error("Circular cause detected");o.add(i),i=i.cause}let l=(this.stack??"").split(`
`),u=n.split(`
`);/^\w*Error(?:: |$)/.test(u[0]??"")&&u.splice(0,1),l.splice(1,l.length-1,...u),this.stack=l.join(`
`)}},br=class t extends Error{static{s(this,"SilentError")}constructor(e){super(e),this.name="SilentError",Error.captureStackTrace?.(this,t)}};function vs(t){xs.trigger(yl,t)}s(vs,"emitAsyncErrorEvent");function Cs(t){if(!(t instanceof Error))return String(t);let e=t.stack??`${t.name}: ${t.message}`;if(t.cause!==void 0){let n=Cs(t.cause).split(`
`);e+=`
${Wd("Caused by:")}`;for(let r of n)r.trim()&&(e+=r.startsWith(Yd)?`
${r}`:`
${Wd(r)}`)}return e}s(Cs,"errorToString");function nt(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}s(nt,"getStackTrace");function Hn(t,e){e??=globalThis.console,e.error(Cs(t))}s(Hn,"printError");function zd(t){let e=xs.on(yl,t);return()=>{xs.offref(e)}}s(zd,"registerAsyncErrorEventHandler");function cn(t){throw t}s(cn,"throwExpression");function Wd(t){return`${Yd} --- ${t} --- (0)`}s(Wd,"generateStackTraceLine");function VA(t){Hn(t)}s(VA,"handleAsyncError");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var wl="40.6.0",Es="obsidian-dev-utils",Hd=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre::after {
  content: "";
  display: block;
  height: var(--bottom-gap, 0);
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACzCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;AChDF;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre::after%20%7B%5Cn%20%20%20%20%20%20content:%20%5C%22%5C%22;%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20height:%20var(--bottom-gap,%200);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var bl=class{static{s(this,"ValueWrapper")}constructor(e){this.value=e}};function UA(){try{return globalThis.require("obsidian/app")}catch{return globalThis.app??cn(new Error("Obsidian app not found"))}}s(UA,"getApp");function dn(t,e,n){let i=t??WA()??globalThis;return i.obsidianDevUtilsState??={},i.obsidianDevUtilsState[e]??=new bl(n)}s(dn,"getObsidianDevUtilsState");function WA(){return typeof window>"u"?null:UA()}s(WA,"getAppOrNull");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Al="__no-plugin-id-initialized__",jd=Al;function Ts(){return jd}s(Ts,"getPluginId");function Gd(t){t&&(jd=t)}s(Gd,"setPluginId");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var qd=",",Ss="-";function Kd(){return{disable:YA,enable:zA,get:Fs,set:di}}s(Kd,"getDebugController");function Ar(t,e=0){let n=`${t}:${String(e)}`,r=dn(null,"debuggers",new Map).value,i=r.get(n);return i||(i=fi()(t),i.log=(o,...l)=>{HA(t,e,o,...l)},r.set(n,i)),i}s(Ar,"getDebugger");function ht(t){let e=Ts(),n=e===Al?"":`${e}:`;return Ar(`${n}${Es}:${t}`)}s(ht,"getLibDebugger");function fn(t,e,n,...r){if(!Xd()){t(n,...r);return}t(n,...r,`

---
Context stack trace:
`,Zd(e))}s(fn,"printWithStackTrace");function Jd(t){let e=fi().enabled(t),n=e?"enabled":"disabled",r=e?"disable":"enable",i=Fs();di(t),Ar(t)(`Debug messages for plugin ${t} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${r} them.`),di(i)}s(Jd,"showInitialDebugMessage");function YA(t){let e=new Set(Fs());for(let n of hi(t)){if(n.startsWith(Ss))continue;let r=Ss+n;e.has(n)&&e.delete(n),e.add(r)}di(Array.from(e))}s(YA,"disableNamespaces");function zA(t){let e=new Set(Fs());for(let n of hi(t)){if(!n.startsWith(Ss)){let r=Ss+n;e.has(r)&&e.delete(r)}e.add(n)}di(Array.from(e))}s(zA,"enableNamespaces");function Fs(){return hi(fi().load()??"")}s(Fs,"getNamespaces");function fi(){return typeof window>"u"?xl.default:dn(null,"debug",xl.default).value}s(fi,"getSharedDebugLibInstance");function Xd(){return typeof window<"u"}s(Xd,"isInObsidian");function HA(t,e,n,...r){if(!fi().enabled(t))return;if(!Xd()){console.debug(n,...r);return}let i=4,o=new Error().stack?.split(`
`)??[];o.splice(0,i+e),console.debug(n,...r,`

---
Logger stack trace:
`,Zd(o.join(`
`)))}s(HA,"logWithCaller");function Zd(t){return new Lt("Debug mode: intentional placeholder error. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md.",t,void 0)}s(Zd,"makeStackTraceError");function di(t){fi().enable(hi(t).join(qd))}s(di,"setNamespaces");function hi(t){return typeof t=="string"?t.split(qd).filter(Boolean):t.flatMap(hi)}s(hi,"toArray");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function kl(t,e){e??=nt(1);try{await t()}catch(n){let r=new Lt(ks,e,n);if(jA(r))return;vs(r)}}s(kl,"addErrorHandler");function rt(t,e){return e??=nt(1),(...n)=>{let r=nt(1);e=`${e??""}
    at --- convertAsyncToSync --- (0)
${r}`,Ee(()=>t(...n),e)}}s(rt,"convertAsyncToSync");function Ee(t,e){e??=nt(1),kl(t,e)}s(Ee,"invokeAsyncSafely");function Qd(t,e=0,n,r){r??=Ue(),r.throwIfAborted(),n??=nt(1),Ee(async()=>{await Cl(e,r,!0),await t(r)},n)}s(Qd,"invokeAsyncSafelyAfterDelay");function jA(t){let e=t;for(;!(e instanceof br);){if(!(e instanceof Error))return!1;e=e.cause}return ht("Async:handleSilentError")(t),!0}s(jA,"handleSilentError");var GA=new WeakSet;async function ef(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}s(ef,"requestAnimationFrameAsync");async function Ps(t,e,n){let r=ht("Async:retryWithTimeout");n??=nt(1);let o={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...e};o.abortSignal?.throwIfAborted(),await vl(o.timeoutInMilliseconds,async l=>{let u=Yn(o.abortSignal,l);u.throwIfAborted();let d=0;for(;!u.aborted;){d++;let f;try{f=await t(u)}catch(p){if(u.aborted||!o.shouldRetryOnError||GA.has(p))throw new Lt("retryWithTimeout failed",n,p);Hn(p),f=!1}if(f){fn(r,n,`Retry completed successfully after ${String(d)} attempts`,{fn:t});return}fn(r,n,`Retry attempt ${String(d)} completed unsuccessfully. Trying again in ${String(o.retryDelayInMilliseconds)} milliseconds`,{fn:t}),await Cl(o.retryDelayInMilliseconds,l)}},{retryFn:t},n)}s(Ps,"retryWithTimeout");async function vl(t,e,n,r){r??=nt(1);let i=performance.now(),o=new AbortController,l=new AbortController,u=null,d=!1,f=!1;if(await Promise.race([p(),m()]),d)return u;throw new Lt("Run with timeout failed",r,o.signal.reason);async function p(){try{u=await e(o.signal);let w=performance.now()-i,y=ht("Async:runWithTimeout");fn(y,r??"",`Execution time: ${String(w)} milliseconds`,{context:n,fn:e}),d=!0}catch(w){o.abort(w)}finally{f=!0,l.abort(new Error("Completed"))}}async function m(){for(;!f;){if(await Cl(t,l.signal),f)return;let w=performance.now()-i;console.warn(`Timed out after ${String(w)} milliseconds`,{context:n,fn:e});let y=ht("Async:runWithTimeout:timeout");if(!y.enabled){o.abort(new Error(`Timed out after ${String(w)} milliseconds`));return}y(`The execution is not terminated because debugger ${y.namespace} is enabled. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md for more information.`)}}}s(vl,"runWithTimeout");async function Cl(t,e,n){await Pd(Yn(e,Sd(t))),n&&e?.throwIfAborted()}s(Cl,"sleep");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function qA(t){return await new Promise(e=>{let n=new FileReader;n.addEventListener("loadend",r),n.readAsDataURL(t);function r(){e(n.result)}s(r,"handleLoadEnd")})}s(qA,"blobToDataUrl");async function tf(t,e){let n=await qA(t);return new Promise(r=>{let i=new Image;i.addEventListener("load",o),i.src=n;function o(){let l=document.createElement("canvas"),u=l.getContext("2d");if(!u)throw new Error("Could not get 2D context.");let d=i.width,f=i.height;l.width=d,l.height=f,u.fillStyle="#fff",u.fillRect(0,0,d,f),u.save();let p=.5;u.translate(d*p,f*p),u.drawImage(i,0,0,d,f,-d*p,-f*p,d,f),u.restore();let m=l.toDataURL("image/jpeg",e),w=KA(m);r(w)}s(o,"handleLoad")})}s(tf,"blobToJpegArrayBuffer");function KA(t){let n=t.split(";base64,")[1];if(!n)throw new Error("Invalid data URL");let r=window.atob(n),i=r.length,o=new Uint8Array(i);for(let l=0;l<i;l++)o[l]=r.charCodeAt(l);return o.buffer}s(KA,"dataUrlToArrayBuffer");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Is(t){return t.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(Is,"escapeRegExp");function nf(t){try{return new RegExp(t),!0}catch{return!1}}s(nf,"isValidRegExp");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function jn(t,e,...n){return e??=Ue(),e.throwIfAborted(),JA(t)?await t(e,...n):t}s(jn,"resolveValue");function JA(t){return typeof t=="function"}s(JA,"isFunction");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var XA={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"};var ZA={};for(let[t,e]of Object.entries(XA))ZA[e]=t;function rf(t,e,n,r){return r??=n,t.slice(0,n)+e+t.slice(r)}s(rf,"insertAt");function pi(t){return Te(t,/\u00A0|\u202F/g," ").normalize("NFC")}s(pi,"normalize");function Te(t,e,n){return typeof n>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof n=="string"?t.replaceAll(e,n):t.replaceAll(e,(r,...i)=>{let l=typeof i.at(-1)=="object",u=l?i.length-2:i.length-1,d={groups:l?i.at(-1):void 0,missingGroupIndices:[],offset:i.at(u-1),source:i.at(u),substring:r},f=i.slice(0,u-1).map((p,m)=>{if(typeof p=="string")return p;if(typeof p>"u")return d.missingGroupIndices.push(m),"";throw new Error(`Unexpected argument type: ${typeof p}`)});return n(d,...f)??d.substring}))}s(Te,"replaceAll");async function sf(t,e,n,r){if(r??=Ue(),r.throwIfAborted(),typeof n=="string")return Te(t,e,n);let i=[];Te(t,e,(l,...u)=>(i.push(()=>jn(n,r,l,...u)),""));let o=[];for(let l of i)r.throwIfAborted(),o.push(await l());return r.throwIfAborted(),Te(t,e,l=>o.shift()??l.substring)}s(sf,"replaceAllAsync");function xr(t,e,n){if(t.endsWith(e))return t.slice(0,-e.length);if(n)throw new Error(`String ${t} does not end with suffix ${e}`);return t}s(xr,"trimEnd");function kr(t,e,n){if(t.startsWith(e))return t.slice(e.length);if(n)throw new Error(`String ${t} does not start with prefix ${e}`);return t}s(kr,"trimStart");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var of=".",QA=[{constructor:ArrayBuffer,equalityComparer:tx},{constructor:Date,equalityComparer:nx},{constructor:RegExp,equalityComparer:ix},{constructor:Map,equalityComparer:rx},{constructor:Set,equalityComparer:sx}];function xt(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null)return!1;let n=t.constructor,r=e.constructor;if(n!==r)return!1;if(n!==Object){let d=ox(t,e);if(d!==void 0)return d}let i=vr(t),o=vr(e);if(i.length!==o.length)return!1;let l=t,u=e;for(let d of i)if(!o.includes(d)||!xt(l[d],u[d]))return!1;return!0}s(xt,"deepEqual");function af(t){return typeof t!="object"||t===null?t:"default"in t?t.default:t}s(af,"extractDefaultExportInterop");function vr(t){let e=[],n=t;for(;n;){let r=Object.getOwnPropertyDescriptors(n);for(let[i,o]of Object.entries(r)){if(i==="__proto__"||typeof o.value=="function")continue;let l=typeof o.get=="function",u=typeof o.set=="function";if(l||u){l&&u&&e.push(i);continue}o.enumerable&&o.writable&&e.push(i)}n=Object.getPrototypeOf(n)}return e.sort()}s(vr,"getAllKeys");function Tn(t,e){let n=t,r=e.split(of);for(let i of r){if(n===void 0)return;n=n[i]}return n}s(Tn,"getNestedPropertyValue");function Tl(t){return t==null?t:Object.getPrototypeOf(t)}s(Tl,"getPrototypeOf");function lf(t,e){for(let[n,r]of Object.entries(t))r===void 0&&!e?.includes(n)&&delete t[n];return t}s(lf,"removeUndefinedProperties");function uf(t,e,n){let r=new Error(`Property path ${e} not found`),i=t,o=e.split(of);for(let u of o.slice(0,-1)){if(i===void 0)throw r;i=i[u]}let l=o.at(-1);if(i===void 0||l===void 0)throw r;i[l]=n}s(uf,"setNestedPropertyValue");function Cr(t,e={}){let n={functionHandlingMode:"exclude",maxDepth:-1,shouldCatchToJSONErrors:!1,shouldHandleCircularReferences:!1,shouldHandleErrors:!1,shouldHandleUndefined:!1,shouldSortKeys:!1,space:2,tokenSubstitutions:{circularReference:El("CircularReference"),maxDepthLimitReached:El("MaxDepthLimitReached"),toJSONFailed:El("ToJSONFailed")}},r={...n,...e,tokenSubstitutions:{...n.tokenSubstitutions,...e.tokenSubstitutions}};r.maxDepth===-1&&(r.maxDepth=1/0);let i=[],l=Os(t,"",0,!0,r,i,new WeakSet),u=JSON.stringify(l,null,r.space)??"";return u=Te(u,/"\[\[(?<Key>[A-Za-z]+)(?<Index>\d*)\]\]"/g,(d,f,p)=>ex({functionTexts:i,index:p?parseInt(p,10):0,key:f,substitutions:r.tokenSubstitutions})),u}s(Cr,"toJson");function ex(t){switch(t.key){case"CircularReference":return t.substitutions.circularReference;case"Function":return t.functionTexts[t.index]??cn(new Error(`Function with index ${String(t.index)} not found`));case"MaxDepthLimitReached":return t.substitutions.maxDepthLimitReached;case"MaxDepthLimitReachedArray":return`Array(${String(t.index)})`;case"ToJSONFailed":return t.substitutions.toJSONFailed;case"Undefined":return"undefined";default:break}}s(ex,"applySubstitutions");function tx(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),r=new Uint8Array(e);return xt(n,r)}s(tx,"deepEqualArrayBuffer");function nx(t,e){return t.getTime()===e.getTime()}s(nx,"deepEqualDate");function rx(t,e){if(t.size!==e.size)return!1;for(let[n,r]of t.entries())if(!e.has(n)||!xt(r,e.get(n)))return!1;return!0}s(rx,"deepEqualMap");function ix(t,e){return t.source===e.source&&t.flags===e.flags}s(ix,"deepEqualRegExp");function sx(t,e){if(t.size!==e.size)return!1;for(let n of t){if(e.has(n))continue;let r=!1;for(let i of e)if(xt(n,i)){r=!0;break}if(!r)return!1}return!0}s(sx,"deepEqualSet");function ox(t,e){for(let{constructor:n,equalityComparer:r}of QA)if(t instanceof n&&e instanceof n)return r(t,e)}s(ox,"deepEqualTyped");function ax(t,e,n,r,i,o){return e>r.maxDepth?Er("MaxDepthLimitReachedArray",t.length):t.map((l,u)=>Os(l,String(u),e+1,n,r,i,o))}s(ax,"handleArray");function lx(t,e,n){if(n.shouldHandleCircularReferences)return Er("CircularReference");let r=t.constructor.name||"Object";throw new TypeError(`Converting circular structure to JSON
--> starting at object with constructor '${r}'
--- property '${e}' closes the circle`)}s(lx,"handleCircularReference");function ux(t,e,n){if(n.functionHandlingMode==="exclude")return;let r=e.length,i=n.functionHandlingMode==="full"?String(t):`function ${t.name||"anonymous"}() { /* ... */ }`;return e.push(i),Er("Function",r)}s(ux,"handleFunction");function cx(t,e,n,r,i,o,l){if(l.has(t))return lx(t,e,i);if(l.add(t),r){let u=fx(t,e,n,i,o,l);if(u!==void 0)return u}return Array.isArray(t)?ax(t,n,r,i,o,l):n>i.maxDepth?Er("MaxDepthLimitReached"):t instanceof Error&&i.shouldHandleErrors?Cs(t):dx(t,n,r,i,o,l)}s(cx,"handleObject");function dx(t,e,n,r,i,o){let l=Object.entries(t);return r.shouldSortKeys&&l.sort(([u],[d])=>u.localeCompare(d)),Object.fromEntries(l.map(([u,d])=>[u,Os(d,u,e+1,n,r,i,o)]))}s(dx,"handlePlainObject");function El(t){return`{ "[[${t}]]": null }`}s(El,"makeObjectTokenSubstitution");function Er(t,e){return`[[${t}${e?String(e):""}]]`}s(Er,"makePlaceholder");function Os(t,e,n,r,i,o,l){return t===void 0?n===0||i.shouldHandleUndefined?Er("Undefined"):void 0:typeof t=="function"?ux(t,o,i):typeof t!="object"||t===null?t:cx(t,e,n,r,i,o,l)}s(Os,"toPlainObject");function fx(t,e,n,r,i,o){let l=t.toJSON;if(typeof l=="function")try{let u=l.call(t,e);return Os(u,e,n,!1,r,i,o)}catch(u){if(r.shouldCatchToJSONErrors)return Er("ToJSONFailed");throw u}}s(fx,"tryHandleToJSON");var hx=require("obsidian"),df=require("obsidian"),ff=require("obsidian"),EF=require("obsidian"),TF=require("obsidian");var cf=class{static{s(this,"CustomArrayDictImpl")}data=new Map;add(t,e){let n=this.get(t);n||(n=[],this.data.set(t,n)),n.includes(e)||n.push(e)}remove(t,e){let n=this.get(t);n&&(n.remove(e),n.length===0&&this.clear(t))}get(t){return this.data.get(t)||null}keys(){return Array.from(this.data.keys())}clear(t){this.data.delete(t)}clearAll(){this.data.clear()}contains(t,e){return!!this.get(t)?.contains(e)}count(){let t=0;for(let e of this.keys())t+=this.get(e)?.length??0;return t}};var kt={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},mi={AllProperties:"all-properties",Audio:"audio",Backlink:kt.Backlink,Bases:kt.Bases,Bookmarks:kt.Bookmarks,Canvas:kt.Canvas,Empty:"empty",FileExplorer:kt.FileExplorer,FileProperties:"file-properties",Graph:kt.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:kt.OutgoingLink,Outline:kt.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function px(){return df.TFile}s(px,"getTFileConstructor");function mx(){return ff.TFolder}s(mx,"getTFolderConstructor");function vt(t){return t.replace(/\/?[^\/]*$/,"")||"/"}s(vt,"parentFolderPath");function _s(t,e){let n=t.vault.getFolderByPath(e);return n||(n=new(mx())(t.vault,e),n.parent=_s(t,vt(e)),n.deleted=!0,n)}s(_s,"createTFolderInstance");function hf(t,e){let n=t.vault.getFileByPath(e);return n||(n=new(px())(t.vault,e),n.parent=_s(t,vt(e)),n.deleted=!0,n)}s(hf,"createTFileInstance");function hn(t){return!!t.position}s(hn,"isReferenceCache");function pt(t){return!!t.key}s(pt,"isFrontmatterLinkCache");var Sl=Ve(gf(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var yx=/[a-zA-Z]:\/[^:]*$/,zt=Sl.default.posix,MF=zt.delimiter,NF=Sl.default.posix.sep,Se=zt.basename,we=zt.dirname,We=zt.extname,LF=zt.format;var Fe=zt.join,DF=zt.normalize,$F=zt.parse,Sr=zt.relative;function Dt(t,e){return e?`${t}.${e}`:t}s(Dt,"makeFileName");function yf(...t){let e=zt.resolve(...t);return e=wx(e),yx.exec(e)?.[0]??e}s(yf,"resolve");function wx(t){return Te(t,"\\","/")}s(wx,"toPosixPath");var pn=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var bx="base",Ax="canvas",Rs="md";function Fl(t,e,n){if(Ct(e))return e.extension===n;if(typeof e=="string"){let r=Me(t,e);return r?r.extension===n:We(e).slice(1)===n}return!1}s(Fl,"checkExtension");function Gn(t,e,n){if(e===null)return null;if(bf(e))return e;let r=wf(t,e,n);if(r)return r;let i=xf(e);return i===e?null:wf(t,i,n)}s(Gn,"getAbstractFileOrNull");function Ye(t,e,n,r){let i=Me(t,e,r);if(!i)if(n)i=hf(t,e);else throw new Error(`File not found: ${e}`);return i}s(Ye,"getFile");function Me(t,e,n){let r=Gn(t,e,n);return Ct(r)?r:null}s(Me,"getFileOrNull");function gi(t,e,n,r){let i=Ht(t,e,r);if(!i)if(n)i=_s(t,e);else throw new Error(`Folder not found: ${e}`);return i}s(gi,"getFolder");function Ht(t,e,n){let r=Gn(t,e,n);return Pl(r)?r:null}s(Ht,"getFolderOrNull");function Ae(t,e){if(bf(e))return e.path;let n=Gn(t,e);return n?n.path:xf(e)}s(Ae,"getPath");function bf(t){return t instanceof pn.TAbstractFile}s(bf,"isAbstractFile");function xx(t,e){return Fl(t,e,bx)}s(xx,"isBaseFile");function mn(t,e){return Fl(t,e,Ax)}s(mn,"isCanvasFile");function Ct(t){return t instanceof pn.TFile}s(Ct,"isFile");function Pl(t){return t instanceof pn.TFolder}s(Pl,"isFolder");function gn(t,e){return Fl(t,e,Rs)}s(gn,"isMarkdownFile");function yi(t,e){return gn(t,e)||mn(t,e)||xx(t,e)}s(yi,"isNote");function Af(t,e){return gn(t,e)?xr(e.path,`.${Rs}`):e.path}s(Af,"trimMarkdownExtension");function wf(t,e,n){return n?t.vault.getAbstractFileByPathInsensitive(e):t.vault.getAbstractFileByPath(e)}s(wf,"getFileInternal");function xf(t){return(0,pn.normalizePath)(yf("/",t))}s(xf,"getResolvedPath");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Sn=(t=>(t.DeleteNote="DeleteNote",t.RenameNote="RenameNote",t.Unknown="Unknown",t))(Sn||{}),jt="__DUMMY__";async function Il(t){let{app:e,attachmentPathOrFile:n,notePathOrFile:r,shouldSkipDuplicateCheck:i}=t,o=Ae(e,n),l=We(o),u=Se(o,l),d=Me(e,o),p=e.vault.getAvailablePathForAttachments.extended;return p?p({attachmentFileBaseName:u,attachmentFileContent:d?await e.vault.readBinary(d):void 0,attachmentFileExtension:l.slice(1),attachmentFileStat:d?.stat,context:t.context,notePathOrFile:r,oldNotePathOrFile:t.oldNotePathOrFile,shouldSkipDuplicateCheck:i,shouldSkipMissingAttachmentFolderCreation:!0}):await Ol({app:e,attachmentFileBaseName:u,attachmentFileExtension:l.slice(1),notePathOrFile:r,shouldSkipDuplicateCheck:i,shouldSkipMissingAttachmentFolderCreation:!0})}s(Il,"getAttachmentFilePath");async function Fr(t,e,n="Unknown"){return vt(await Il({app:t,attachmentPathOrFile:jt,context:n,notePathOrFile:e,shouldSkipDuplicateCheck:!0}))}s(Fr,"getAttachmentFolderPath");async function Ol(t){let{app:e,attachmentFileExtension:n,notePathOrFile:r,shouldSkipDuplicateCheck:i,shouldSkipMissingAttachmentFolderCreation:o}=t,l=e.vault.getConfig("attachmentFolderPath"),u=l==="."||l==="./",d=l.startsWith("./")?kr(l,"./"):null,f=Me(e,r);u?l=f?f.parent?.path??"":"":d&&(l=(f?f.parent?.getParentPrefix()??"":"")+d),l=pi(kf(l));let p=pi(kf(t.attachmentFileBaseName)),m=Ht(e,l,!0);!m&&d&&(m=o?gi(e,l,!0):await e.vault.createFolder(l));let w=m?.getParentPrefix()??"";return i?Dt(w+p,n):e.vault.getAvailablePath(w+p,n)}s(Ol,"getAvailablePathForAttachments");async function _l(t,e,n="Unknown"){let r=await Fr(t,e,n),i=await Fr(t,Fe(we(e),`${jt}.${Rs}`),n);return r!==i}s(_l,"hasOwnAttachmentFolder");function kf(t){return t=Te(t,/(?:[\\/])+/g,"/"),t=Te(t,/^\/+|\/+$/g,""),t||"/"}s(kf,"normalizeSlashes");var J=s(t=>typeof t=="string","isString"),wi=s(()=>{let t,e,n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},"defer"),vf=s(t=>t==null?"":""+t,"makeString"),kx=s((t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},"copy"),vx=/###/g,Cf=s(t=>t&&t.indexOf("###")>-1?t.replace(vx,"."):t,"cleanKey"),Ef=s(t=>!t||J(t),"canNotTraverseDeeper"),bi=s((t,e,n)=>{let r=J(e)?e.split("."):e,i=0;for(;i<r.length-1;){if(Ef(t))return{};let o=Cf(r[i]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++i}return Ef(t)?{}:{obj:t,k:Cf(r[i])}},"getLastOfPath"),Tf=s((t,e,n)=>{let{obj:r,k:i}=bi(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let o=e[e.length-1],l=e.slice(0,e.length-1),u=bi(t,l,Object);for(;u.obj===void 0&&l.length;)o=`${l[l.length-1]}.${o}`,l=l.slice(0,l.length-1),u=bi(t,l,Object),u?.obj&&typeof u.obj[`${u.k}.${o}`]<"u"&&(u.obj=void 0);u.obj[`${u.k}.${o}`]=n},"setPath"),Cx=s((t,e,n,r)=>{let{obj:i,k:o}=bi(t,e,Object);i[o]=i[o]||[],i[o].push(n)},"pushPath"),Ns=s((t,e)=>{let{obj:n,k:r}=bi(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},"getPath"),Ex=s((t,e,n)=>{let r=Ns(t,n);return r!==void 0?r:Ns(e,n)},"getPathWithDefaults"),Nf=s((t,e,n)=>{for(let r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?J(t[r])||t[r]instanceof String||J(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):Nf(t[r],e[r],n):t[r]=e[r]);return t},"deepExtend"),Pr=s(t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"regexEscape"),Tx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},Sx=s(t=>J(t)?t.replace(/[&<>"'\/]/g,e=>Tx[e]):t,"escape"),Ml=class{static{s(this,"RegExpCache")}constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let n=this.regExpMap.get(e);if(n!==void 0)return n;let r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}},Fx=[" ",",","?","!",";"],Px=new Ml(20),Ix=s((t,e,n)=>{e=e||"",n=n||"";let r=Fx.filter(l=>e.indexOf(l)<0&&n.indexOf(l)<0);if(r.length===0)return!0;let i=Px.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`),o=!i.test(t);if(!o){let l=t.indexOf(n);l>0&&!i.test(t.substring(0,l))&&(o=!0)}return o},"looksLikeObjectPath"),Nl=s((t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;let r=e.split(n),i=t;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let l,u="";for(let d=o;d<r.length;++d)if(d!==o&&(u+=n),u+=r[d],l=i[u],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<r.length-1)continue;o+=d-o+1;break}i=l}return i},"deepFind"),Ai=s(t=>t?.replace("_","-"),"getCleanedCode"),Ox={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}},Ll=class t{static{s(this,"Logger")}constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||Ox,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(J(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new t(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t(this.logger,e)}},Gt=new Ll,Ir=class{static{s(this,"EventEmitter")}constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);let i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,o])=>{for(let l=0;l<o;l++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,o])=>{for(let l=0;l<o;l++)i.apply(i,[e,...n])})}},Ls=class extends Ir{static{s(this,"ResourceStore")}constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){let o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure,u;e.indexOf(".")>-1?u=e.split("."):(u=[e,n],r&&(Array.isArray(r)?u.push(...r):J(r)&&o?u.push(...r.split(o)):u.push(r)));let d=Ns(this.data,u);return!d&&!n&&!r&&e.indexOf(".")>-1&&(e=u[0],n=u[1],r=u.slice(2).join(".")),d||!l||!J(r)?d:Nl(this.data?.[e]?.[n],r,o)}addResource(e,n,r,i,o={silent:!1}){let l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,u=[e,n];r&&(u=u.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(u=e.split("."),i=n,n=u[1]),this.addNamespaces(n),Tf(this.data,u,i),o.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(let o in r)(J(r[o])||Array.isArray(r[o]))&&this.addResource(e,n,o,r[o],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,o,l={silent:!1,skipCopy:!1}){let u=[e,n];e.indexOf(".")>-1&&(u=e.split("."),i=r,r=n,n=u[1]),this.addNamespaces(n);let d=Ns(this.data,u)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?Nf(d,r,o):d={...d,...r},Tf(this.data,u,d),l.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}},Lf={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(o=>{e=this.processors[o]?.process(e,n,r,i)??e}),e}},Df=Symbol("i18next/PATH_KEY");function _x(){let t=[],e=Object.create(null),n;return e.get=(r,i)=>(n?.revoke?.(),i===Df?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}s(_x,"createProxy");function Dl(t,e){let{[Df]:n}=t(_x());return n.join(e?.keySeparator??".")}s(Dl,"keysFromSelector");var Sf={},Ff=s(t=>!J(t)&&typeof t!="boolean"&&typeof t!="number","shouldHandleAsObject"),Ds=class t extends Ir{static{s(this,"Translator")}constructor(e,n={}){super(),kx(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Gt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){let r={...n};return e==null?!1:this.resolve(e,r)?.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");let i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,o=n.ns||this.options.defaultNS||[],l=r&&e.indexOf(r)>-1,u=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Ix(e,r,i);if(l&&!u){let d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:J(o)?[o]:o};let f=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(f[0])>-1)&&(o=f.shift()),e=f.join(i)}return{key:e,namespaces:J(o)?[o]:o}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=Dl(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);let o=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:u,namespaces:d}=this.extractFromKey(e[e.length-1],i),f=d[d.length-1],p=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");let m=i.lng||this.language,w=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m?.toLowerCase()==="cimode")return w?o?{res:`${f}${p}${u}`,usedKey:u,exactUsedKey:u,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:`${f}${p}${u}`:o?{res:u,usedKey:u,exactUsedKey:u,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:u;let y=this.resolve(e,i),x=y?.res,T=y?.usedKey||u,S=y?.exactUsedKey||u,E=["[object Number]","[object Function]","[object RegExp]"],P=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,L=i.count!==void 0&&!J(i.count),z=t.hasDefaultValue(i),F=L?this.pluralResolver.getSuffix(m,i.count,i):"",Z=i.ordinal&&L?this.pluralResolver.getSuffix(m,i.count,{ordinal:!1}):"",re=L&&!i.ordinal&&i.count===0,q=re&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${F}`]||i[`defaultValue${Z}`]||i.defaultValue,ne=x;_&&!x&&z&&(ne=q);let me=Ff(ne),ae=Object.prototype.toString.apply(ne);if(_&&ne&&me&&E.indexOf(ae)<0&&!(J(P)&&Array.isArray(ne))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let N=this.options.returnedObjectHandler?this.options.returnedObjectHandler(T,ne,{...i,ns:d}):`key '${u} (${this.language})' returned an object instead of string.`;return o?(y.res=N,y.usedParams=this.getUsedParamsDetails(i),y):N}if(l){let N=Array.isArray(ne),j=N?[]:{},G=N?S:T;for(let Q in ne)if(Object.prototype.hasOwnProperty.call(ne,Q)){let ce=`${G}${l}${Q}`;z&&!x?j[Q]=this.translate(ce,{...i,defaultValue:Ff(q)?q[Q]:void 0,joinArrays:!1,ns:d}):j[Q]=this.translate(ce,{...i,joinArrays:!1,ns:d}),j[Q]===ce&&(j[Q]=ne[Q])}x=j}}else if(_&&J(P)&&Array.isArray(x))x=x.join(P),x&&(x=this.extendTranslation(x,e,i,r));else{let N=!1,j=!1;!this.isValidLookup(x)&&z&&(N=!0,x=q),this.isValidLookup(x)||(j=!0,x=u);let Q=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&j?void 0:x,ce=z&&q!==x&&this.options.updateMissing;if(j||N||ce){if(this.logger.log(ce?"updateKey":"missingKey",m,f,u,ce?q:x),l){let fe=this.resolve(u,{...i,keySeparator:!1});fe&&fe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ge=[],Oe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Oe&&Oe[0])for(let fe=0;fe<Oe.length;fe++)ge.push(Oe[fe]);else this.options.saveMissingTo==="all"?ge=this.languageUtils.toResolveHierarchy(i.lng||this.language):ge.push(i.lng||this.language);let v=s((fe,ve,A)=>{let Ne=z&&A!==x?A:Q;this.options.missingKeyHandler?this.options.missingKeyHandler(fe,f,ve,Ne,ce,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(fe,f,ve,Ne,ce,i),this.emit("missingKey",fe,f,ve,x)},"send");this.options.saveMissing&&(this.options.saveMissingPlurals&&L?ge.forEach(fe=>{let ve=this.pluralResolver.getSuffixes(fe,i);re&&i[`defaultValue${this.options.pluralSeparator}zero`]&&ve.indexOf(`${this.options.pluralSeparator}zero`)<0&&ve.push(`${this.options.pluralSeparator}zero`),ve.forEach(A=>{v([fe],u+A,i[`defaultValue${A}`]||q)})}):v(ge,u,q))}x=this.extendTranslation(x,e,i,y,r),j&&x===u&&this.options.appendNamespaceToMissingKey&&(x=`${f}${p}${u}`),(j||N)&&this.options.parseMissingKeyHandler&&(x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${p}${u}`:u,N?x:void 0,i))}return o?(y.res=x,y.usedParams=this.getUsedParamsDetails(i),y):x}extendTranslation(e,n,r,i,o){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});let d=J(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),f;if(d){let m=e.match(this.interpolator.nestingRegexp);f=m&&m.length}let p=r.replace&&!J(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,r.lng||this.language||i.usedLng,r),d){let m=e.match(this.interpolator.nestingRegexp),w=m&&m.length;f<w&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...m)=>o?.[0]===m[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):this.translate(...m,n),r)),r.interpolation&&this.interpolator.reset()}let l=r.postProcess||this.options.postProcess,u=J(l)?[l]:l;return e!=null&&u?.length&&r.applyPostProcessor!==!1&&(e=Lf.handle(u,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,o,l,u;return J(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(r))return;let f=this.extractFromKey(d,n),p=f.key;i=p;let m=f.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));let w=n.count!==void 0&&!J(n.count),y=w&&!n.ordinal&&n.count===0,x=n.context!==void 0&&(J(n.context)||typeof n.context=="number")&&n.context!=="",T=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);m.forEach(S=>{this.isValidLookup(r)||(u=S,!Sf[`${T[0]}-${S}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(u)&&(Sf[`${T[0]}-${S}`]=!0,this.logger.warn(`key "${i}" for languages "${T.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),T.forEach(E=>{if(this.isValidLookup(r))return;l=E;let P=[p];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(P,p,E,S,n);else{let L;w&&(L=this.pluralResolver.getSuffix(E,n.count,n));let z=`${this.options.pluralSeparator}zero`,F=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(w&&(n.ordinal&&L.indexOf(F)===0&&P.push(p+L.replace(F,this.options.pluralSeparator)),P.push(p+L),y&&P.push(p+z)),x){let Z=`${p}${this.options.contextSeparator||"_"}${n.context}`;P.push(Z),w&&(n.ordinal&&L.indexOf(F)===0&&P.push(Z+L.replace(F,this.options.pluralSeparator)),P.push(Z+L),y&&P.push(Z+z))}}let _;for(;_=P.pop();)this.isValidLookup(r)||(o=_,r=this.getResource(E,S,_,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:l,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){let n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!J(e.replace),i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(let o of n)delete i[o]}return i}static hasDefaultValue(e){let n="defaultValue";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}},$s=class{static{s(this,"LanguageUtil")}constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Gt.create("languageUtils")}getScriptPartFromCode(e){if(e=Ai(e),!e||e.indexOf("-")<0)return null;let n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Ai(e),!e||e.indexOf("-")<0)return e;let n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(J(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;let i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;let i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;let o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(l=>{if(l===o)return l;if(!(l.indexOf("-")<0&&o.indexOf("-")<0)&&(l.indexOf("-")>0&&o.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===o||l.indexOf(o)===0&&o.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),J(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){let r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],o=s(l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))},"addCode");return J(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):J(e)&&o(this.formatLanguageCode(e)),r.forEach(l=>{i.indexOf(l)<0&&o(this.formatLanguageCode(l))}),i}},Pf={zero:0,one:1,two:2,few:3,many:4,other:5},If={select:s(t=>t===1?"one":"other","select"),resolvedOptions:s(()=>({pluralCategories:["one","other"]}),"resolvedOptions")},$l=class{static{s(this,"PluralResolver")}constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Gt.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){let r=Ai(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let l;try{l=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),If;if(!e.match(/-|_/))return If;let d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,n)}return this.pluralRulesCache[o]=l,l}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,o)=>Pf[i]-Pf[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){let i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}},Of=s((t,e,n,r=".",i=!0)=>{let o=Ex(t,e,n);return!o&&i&&J(n)&&(o=Nl(t,n,r),o===void 0&&(o=Nl(e,n,r))),o},"deepFindWithDefaults"),Rl=s(t=>t.replace(/\$/g,"$$$$"),"regexSafe"),Bl=class{static{s(this,"Interpolator")}constructor(e={}){this.logger=Gt.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});let{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:l,suffix:u,suffixEscaped:d,formatSeparator:f,unescapeSuffix:p,unescapePrefix:m,nestingPrefix:w,nestingPrefixEscaped:y,nestingSuffix:x,nestingSuffixEscaped:T,nestingOptionsSeparator:S,maxReplaces:E,alwaysFormat:P}=e.interpolation;this.escape=n!==void 0?n:Sx,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Pr(o):l||"{{",this.suffix=u?Pr(u):d||"}}",this.formatSeparator=f||",",this.unescapePrefix=p?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=w?Pr(w):y||Pr("$t("),this.nestingSuffix=x?Pr(x):T||Pr(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=E||1e3,this.alwaysFormat=P!==void 0?P:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=s((n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g"),"getOrResetRegExp");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let o,l,u,d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=s(y=>{if(y.indexOf(this.formatSeparator)<0){let E=Of(n,d,y,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(E,void 0,r,{...i,...n,interpolationkey:y}):E}let x=y.split(this.formatSeparator),T=x.shift().trim(),S=x.join(this.formatSeparator).trim();return this.format(Of(n,d,T,this.options.keySeparator,this.options.ignoreJSONStructure),S,r,{...i,...n,interpolationkey:T})},"handleFormat");this.resetRegExp();let p=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,m=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:s(y=>Rl(y),"safeValue")},{regex:this.regexp,safeValue:s(y=>this.escapeValue?Rl(this.escape(y)):Rl(y),"safeValue")}].forEach(y=>{for(u=0;o=y.regex.exec(e);){let x=o[1].trim();if(l=f(x),l===void 0)if(typeof p=="function"){let S=p(e,o,i);l=J(S)?S:""}else if(i&&Object.prototype.hasOwnProperty.call(i,x))l="";else if(m){l=o[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),l="";else!J(l)&&!this.useRawValueToEscape&&(l=vf(l));let T=y.safeValue(l);if(e=e.replace(o[0],T),m?(y.regex.lastIndex+=l.length,y.regex.lastIndex-=o[0].length):y.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,o,l,u=s((d,f)=>{let p=this.nestingOptionsSeparator;if(d.indexOf(p)<0)return d;let m=d.split(new RegExp(`${p}[ ]*{`)),w=`{${m[1]}`;d=m[0],w=this.interpolate(w,l);let y=w.match(/'/g),x=w.match(/"/g);((y?.length??0)%2===0&&!x||x.length%2!==0)&&(w=w.replace(/'/g,'"'));try{l=JSON.parse(w),f&&(l={...f,...l})}catch(T){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,T),`${d}${p}${w}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d},"handleHasOptions");for(;i=this.nestingRegexp.exec(e);){let d=[];l={...r},l=l.replace&&!J(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let f=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(f!==-1&&(d=i[1].slice(f).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),i[1]=i[1].slice(0,f)),o=n(u.call(this,i[1].trim(),l),l),o&&i[0]===e&&!J(o))return o;J(o)||(o=vf(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),d.length&&(o=d.reduce((p,m)=>this.format(p,m,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}},Rx=s(t=>{let e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){let r=t.split("(");e=r[0].toLowerCase().trim();let i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(l=>{if(l){let[u,...d]=l.split(":"),f=d.join(":").trim().replace(/^'+|'+$/g,""),p=u.trim();n[p]||(n[p]=f),f==="false"&&(n[p]=!1),f==="true"&&(n[p]=!0),isNaN(f)||(n[p]=parseInt(f,10))}})}return{formatName:e,formatOptions:n}},"parseFormatStr"),_f=s(t=>{let e={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});let l=r+JSON.stringify(o),u=e[l];return u||(u=t(Ai(r),i),e[l]=u),u(n)}},"createCachedFormatter"),Mx=s(t=>(e,n,r)=>t(Ai(n),r)(e),"createNonCachedFormatter"),Vl=class{static{s(this,"Formatter")}constructor(e={}){this.logger=Gt.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";let r=n.cacheInBuiltFormats?_f:Mx;this.formats={number:r((i,o)=>{let l=new Intl.NumberFormat(i,{...o});return u=>l.format(u)}),currency:r((i,o)=>{let l=new Intl.NumberFormat(i,{...o,style:"currency"});return u=>l.format(u)}),datetime:r((i,o)=>{let l=new Intl.DateTimeFormat(i,{...o});return u=>l.format(u)}),relativetime:r((i,o)=>{let l=new Intl.RelativeTimeFormat(i,{...o});return u=>l.format(u,o.range||"day")}),list:r((i,o)=>{let l=new Intl.ListFormat(i,{...o});return u=>l.format(u)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=_f(n)}format(e,n,r,i={}){let o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(u=>u.indexOf(")")>-1)){let u=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,u)].join(this.formatSeparator)}return o.reduce((u,d)=>{let{formatName:f,formatOptions:p}=Rx(d);if(this.formats[f]){let m=u;try{let w=i?.formatParams?.[i.interpolationkey]||{},y=w.locale||w.lng||i.locale||i.lng||r;m=this.formats[f](u,y,{...p,...i,...w})}catch(w){this.logger.warn(w)}return m}else this.logger.warn(`there was no format function for ${f}`);return u},e)}},Nx=s((t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)},"removePending"),Ul=class extends Ir{static{s(this,"Connector")}constructor(e,n,r,i={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Gt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,i.backend,i)}queueLoad(e,n,r,i){let o={},l={},u={},d={};return e.forEach(f=>{let p=!0;n.forEach(m=>{let w=`${f}|${m}`;!r.reload&&this.store.hasResourceBundle(f,m)?this.state[w]=2:this.state[w]<0||(this.state[w]===1?l[w]===void 0&&(l[w]=!0):(this.state[w]=1,p=!1,l[w]===void 0&&(l[w]=!0),o[w]===void 0&&(o[w]=!0),d[m]===void 0&&(d[m]=!0)))}),p||(u[f]=!0)}),(Object.keys(o).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(l),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(d)}}loaded(e,n,r){let i=e.split("|"),o=i[0],l=i[1];n&&this.emit("failedLoading",o,l,n),!n&&r&&this.store.addResourceBundle(o,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);let u={};this.queue.forEach(d=>{Cx(d.loaded,[o],l),Nx(d,e),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(f=>{u[f]||(u[f]={});let p=d.loaded[f];p.length&&p.forEach(m=>{u[f][m]===void 0&&(u[f][m]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(d=>!d.done)}read(e,n,r,i=0,o=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:o,callback:l});return}this.readingCalls++;let u=s((f,p)=>{if(this.readingCalls--,this.waitingReads.length>0){let m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(f&&p&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,o*2,l)},o);return}l(f,p)},"resolver"),d=this.backend[r].bind(this.backend);if(d.length===2){try{let f=d(e,n);f&&typeof f.then=="function"?f.then(p=>u(null,p)).catch(u):u(null,f)}catch(f){u(f)}return}return d(e,n,u)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();J(e)&&(e=this.languageUtils.toResolveHierarchy(e)),J(n)&&(n=[n]);let o=this.queueLoad(e,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(l=>{this.loadOne(l)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){let r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(l,u)=>{l&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,l),!l&&u&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,u),this.loaded(e,l,u)})}saveMissing(e,n,r,i,o,l={},u=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){let d={...l,isUpdate:o},f=this.backend.create.bind(this.backend);if(f.length<6)try{let p;f.length===5?p=f(e,n,r,i,d):p=f(e,n,r,i),p&&typeof p.then=="function"?p.then(m=>u(null,m)).catch(u):u(null,p)}catch(p){u(p)}else f(e,n,r,i,u,d)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}},Rf=s(()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s(t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),J(t[1])&&(e.defaultValue=t[1]),J(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){let n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},"overloadTranslationOptionHandler"),interpolation:{escapeValue:!0,format:s(t=>t,"format"),prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),"get"),Mf=s(t=>(J(t.ns)&&(t.ns=[t.ns]),J(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),J(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),"transformOptions"),Ms=s(()=>{},"noop"),Lx=s(t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})},"bindMemberFunctions"),Bs=class t extends Ir{static{s(this,"I18n")}constructor(e={},n){if(super(),this.options=Mf(e),this.services={},this.logger=Gt,this.modules={external:[]},Lx(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(J(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));let r=Rf();this.options={...r,...this.options,...Mf(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);let i=s(f=>f?typeof f=="function"?new f:f:null,"createClassOnDemand");if(!this.options.isClone){this.modules.logger?Gt.init(i(this.modules.logger),this.options):Gt.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=Vl;let p=new $s(this.options);this.store=new Ls(this.options.resources,this.options);let m=this.services;m.logger=Gt,m.resourceStore=this.store,m.languageUtils=p,m.pluralResolver=new $l(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),f&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(m.formatter=i(f),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new Bl(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new Ul(i(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(y,...x)=>{this.emit(y,...x)}),this.modules.languageDetector&&(m.languageDetector=i(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=i(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new Ds(this.services,this.options),this.translator.on("*",(y,...x)=>{this.emit(y,...x)}),this.modules.external.forEach(y=>{y.init&&y.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Ms),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...p)=>this.store[f](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...p)=>(this.store[f](...p),this)});let u=wi(),d=s(()=>{let f=s((p,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(m),n(p,m)},"finish");if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)},"load");return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),u}loadResources(e,n=Ms){let r=n,i=J(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();let o=[],l=s(u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&o.indexOf(f)<0&&o.push(f)})},"append");i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload?.forEach?.(u=>l(u)),this.services.backendConnector.load(o,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(e,n,r){let i=wi();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Ms),this.services.backendConnector.reload(e,n,o=>{i.resolve(),r(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Lf.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){let r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;let r=wi();this.emit("languageChanging",e);let i=s(u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},"setLngProps"),o=s((u,d)=>{d?this.isLanguageChangingTo===e&&(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve((...f)=>this.t(...f)),n&&n(u,(...f)=>this.t(...f))},"done"),l=s(u=>{!e&&!u&&this.services.languageDetector&&(u=[]);let d=J(u)?u:u&&u[0],f=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(J(u)?[u]:u);f&&(this.language||i(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector?.cacheUserLanguage?.(f)),this.loadResources(f,p=>{o(p,f)})},"setLng");return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,n,r){let i=s((o,l,...u)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([o,l].concat(u)):d={...l},d.lng=d.lng||i.lng,d.lngs=d.lngs||i.lngs,d.ns=d.ns||i.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||i.keyPrefix);let f=this.options.keySeparator||".",p;return d.keyPrefix&&Array.isArray(o)?p=o.map(m=>(typeof m=="function"&&(m=Dl(m,{...this.options,...l})),`${d.keyPrefix}${f}${m}`)):(typeof o=="function"&&(o=Dl(o,{...this.options,...l})),p=d.keyPrefix?`${d.keyPrefix}${f}${o}`:o),this.t(p,d)},"fixedT");return J(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;let l=s((u,d)=>{let f=this.services.backendConnector.state[`${u}|${d}`];return f===-1||f===0||f===2},"loadNotPending");if(n.precheck){let u=n.precheck(this,l);if(u!==void 0)return u}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!i||l(o,e)))}loadNamespaces(e,n){let r=wi();return this.options.ns?(J(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){let r=wi();J(e)&&(e=[e]);let i=this.options.preload||[],o=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return o.length?(this.options.preload=i.concat(o),this.loadResources(l=>{r.resolve(),n&&n(l)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{let i=new Intl.Locale(e);if(i&&i.getTextInfo){let o=i.getTextInfo();if(o&&o.direction)return o.direction}}catch{}let n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new $s(Rf());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new t(e,n)}cloneInstance(e={},n=Ms){let r=e.forkResourceStore;r&&delete e.forkResourceStore;let i={...this.options,...e,isClone:!0},o=new t(i);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(u=>{o[u]=this[u]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){let u=Object.keys(this.store.data).reduce((d,f)=>(d[f]={...this.store.data[f]},d[f]=Object.keys(d[f]).reduce((p,m)=>(p[m]={...d[f][m]},p),d[f]),d),{});o.store=new Ls(u,i),o.services.resourceStore=o.store}return o.translator=new Ds(o.services,i),o.translator.on("*",(u,...d)=>{o.emit(u,...d)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},ze=Bs.createInstance();ze.createInstance=Bs.createInstance;var ZF=ze.createInstance,QF=ze.dir,$f=ze.init,eP=ze.loadResources,tP=ze.reloadResources,nP=ze.use,rP=ze.changeLanguage,iP=ze.getFixedT,Vs=ze.t,sP=ze.exists,oP=ze.setDefaultNamespace,aP=ze.hasLoadedNamespace,lP=ze.loadNamespaces,uP=ze.loadLanguages;var Uf=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Us={obsidianDevUtils:{buttons:{cancel:"Cancel",ok:"OK"},dataview:{itemsPerPage:"Items per page:",jumpToPage:"Jump to page:"},notices:{attachmentIsStillUsed:"Attachment {{attachmentPath}} is still used by other notes. It will not be deleted.",unhandledError:"An unhandled error occurred. Please check the console for more information."}}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Wl="en",Dx={en:Us},Bf=Dx;s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Vf="translation",Yl=!1;async function Wf(t){Yl||(await $f({fallbackLng:Wl,lng:(0,Uf.getLanguage)(),resources:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,{[Vf]:n}])),returnEmptyString:!1,returnNull:!1}),ze.addResourceBundle(Wl,Vf,Us,!0,!1),Yl=!0)}s(Wf,"initI18N");function $x(t,e){if(!Yl)throw new Error("I18N is not initialized");return Vs(t,e)}s($x,"tImpl");var C=$x;var xo=require("obsidian");var Bx={};function qn(t,e){let n=e||Bx,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return zf(t,r,i)}s(qn,"toString");function zf(t,e,n){if(Vx(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Yf(t.children,e,n)}return Array.isArray(t)?Yf(t,e,n):""}s(zf,"one");function Yf(t,e,n){let r=[],i=-1;for(;++i<t.length;)r[i]=zf(t[i],e,n);return r.join("")}s(Yf,"all");function Vx(t){return!!(t&&typeof t=="object")}s(Vx,"node");var Hf=document.createElement("i");function Or(t){let e="&"+t+";";Hf.innerHTML=e;let n=Hf.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}s(Or,"decodeNamedCharacterReference");function He(t,e,n,r){let i=t.length,o=0,l;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(e,0),t.splice(...l),o+=1e4,e+=1e4}s(He,"splice");function it(t,e){return t.length>0?(He(t,t.length,0,e),t):e}s(it,"push");var jf={}.hasOwnProperty;function Gf(t){let e={},n=-1;for(;++n<t.length;)Ux(e,t[n]);return e}s(Gf,"combineExtensions");function Ux(t,e){let n;for(n in e){let i=(jf.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n],l;if(o)for(l in o){jf.call(i,l)||(i[l]=[]);let u=o[l];Wx(i[l],Array.isArray(u)?u:u?[u]:[])}}}s(Ux,"syntaxExtension");function Wx(t,e){let n=-1,r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);He(t,0,0,r)}s(Wx,"constructs");function Ws(t,e){let n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}s(Ws,"decodeNumericCharacterReference");function yn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}s(yn,"normalizeIdentifier");var mt=Fn(/[A-Za-z]/),st=Fn(/[\dA-Za-z]/),qf=Fn(/[#-'*+\--9=?A-Z^-~]/);function xi(t){return t!==null&&(t<32||t===127)}s(xi,"asciiControl");var ki=Fn(/\d/),Kf=Fn(/[\dA-Fa-f]/),Jf=Fn(/[!-/:-@[-`{-~]/);function Y(t){return t!==null&&t<-2}s(Y,"markdownLineEnding");function Ie(t){return t!==null&&(t<0||t===32)}s(Ie,"markdownLineEndingOrSpace");function X(t){return t===-2||t===-1||t===32}s(X,"markdownSpace");var Xf=Fn(/\p{P}|\p{S}/u),Zf=Fn(/\s/);function Fn(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}s(Fn,"regexCheck");function ee(t,e,n,r){let i=r?r-1:Number.POSITIVE_INFINITY,o=0;return l;function l(d){return X(d)?(t.enter(n),u(d)):e(d)}function u(d){return X(d)&&o++<i?(t.consume(d),u):(t.exit(n),e(d))}}s(ee,"factorySpace");var Qf={tokenize:Yx};function Yx(t){let e=t.attempt(this.parser.constructs.contentInitial,r,i),n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),ee(t,e,"linePrefix")}function i(u){return t.enter("paragraph"),o(u)}function o(u){let d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(u)}function l(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return Y(u)?(t.consume(u),t.exit("chunkText"),o):(t.consume(u),l)}}s(Yx,"initializeContent");var th={tokenize:zx},eh={tokenize:Hx};function zx(t){let e=this,n=[],r=0,i,o,l;return u;function u(_){if(r<n.length){let L=n[r];return e.containerState=L[1],t.attempt(L[0].continuation,d,f)(_)}return f(_)}function d(_){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&P();let L=e.events.length,z=L,F;for(;z--;)if(e.events[z][0]==="exit"&&e.events[z][1].type==="chunkFlow"){F=e.events[z][1].end;break}E(r);let Z=L;for(;Z<e.events.length;)e.events[Z][1].end={...F},Z++;return He(e.events,z+1,0,e.events.slice(L)),e.events.length=Z,f(_)}return u(_)}function f(_){if(r===n.length){if(!i)return w(_);if(i.currentConstruct&&i.currentConstruct.concrete)return x(_);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(eh,p,m)(_)}function p(_){return i&&P(),E(r),w(_)}function m(_){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,x(_)}function w(_){return e.containerState={},t.attempt(eh,y,x)(_)}function y(_){return r++,n.push([e.currentConstruct,e.containerState]),w(_)}function x(_){if(_===null){i&&P(),E(0),t.consume(_);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),T(_)}function T(_){if(_===null){S(t.exit("chunkFlow"),!0),E(0),t.consume(_);return}return Y(_)?(t.consume(_),S(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(_),T)}function S(_,L){let z=e.sliceStream(_);if(L&&z.push(null),_.previous=o,o&&(o.next=_),o=_,i.defineSkip(_.start),i.write(z),e.parser.lazy[_.start.line]){let F=i.events.length;for(;F--;)if(i.events[F][1].start.offset<l&&(!i.events[F][1].end||i.events[F][1].end.offset>l))return;let Z=e.events.length,re=Z,q,ne;for(;re--;)if(e.events[re][0]==="exit"&&e.events[re][1].type==="chunkFlow"){if(q){ne=e.events[re][1].end;break}q=!0}for(E(r),F=Z;F<e.events.length;)e.events[F][1].end={...ne},F++;He(e.events,re+1,0,e.events.slice(Z)),e.events.length=F}}function E(_){let L=n.length;for(;L-- >_;){let z=n[L];e.containerState=z[1],z[0].exit.call(e,t)}n.length=_}function P(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}s(zx,"initializeDocument");function Hx(t,e,n){return ee(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}s(Hx,"tokenizeContainer");function _r(t){if(t===null||Ie(t)||Zf(t))return 1;if(Xf(t))return 2}s(_r,"classifyCharacter");function Rr(t,e,n){let r=[],i=-1;for(;++i<t.length;){let o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}s(Rr,"resolveAll");var vi={name:"attention",resolveAll:jx,tokenize:Gx};function jx(t,e){let n=-1,r,i,o,l,u,d,f,p;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;let m={...t[r][1].end},w={...t[n][1].start};nh(m,-d),nh(w,d),l={type:d>1?"strongSequence":"emphasisSequence",start:m,end:{...t[r][1].end}},u={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:w},o={type:d>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:d>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},t[r][1].end={...l.start},t[n][1].start={...u.end},f=[],t[r][1].end.offset-t[r][1].start.offset&&(f=it(f,[["enter",t[r][1],e],["exit",t[r][1],e]])),f=it(f,[["enter",i,e],["enter",l,e],["exit",l,e],["enter",o,e]]),f=it(f,Rr(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),f=it(f,[["exit",o,e],["enter",u,e],["exit",u,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(p=2,f=it(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):p=0,He(t,r-1,n-r+3,f),n=r+f.length-p-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}s(jx,"resolveAllAttention");function Gx(t,e){let n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=_r(r),o;return l;function l(d){return o=d,t.enter("attentionSequence"),u(d)}function u(d){if(d===o)return t.consume(d),u;let f=t.exit("attentionSequence"),p=_r(d),m=!p||p===2&&i||n.includes(d),w=!i||i===2&&p||n.includes(r);return f._open=!!(o===42?m:m&&(i||!w)),f._close=!!(o===42?w:w&&(p||!m)),e(d)}}s(Gx,"tokenizeAttention");function nh(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}s(nh,"movePoint");var zl={name:"autolink",tokenize:qx};function qx(t,e,n){let r=0;return i;function i(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(y){return mt(y)?(t.consume(y),l):y===64?n(y):f(y)}function l(y){return y===43||y===45||y===46||st(y)?(r=1,u(y)):f(y)}function u(y){return y===58?(t.consume(y),r=0,d):(y===43||y===45||y===46||st(y))&&r++<32?(t.consume(y),u):(r=0,f(y))}function d(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||xi(y)?n(y):(t.consume(y),d)}function f(y){return y===64?(t.consume(y),p):qf(y)?(t.consume(y),f):n(y)}function p(y){return st(y)?m(y):n(y)}function m(y){return y===46?(t.consume(y),r=0,p):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):w(y)}function w(y){if((y===45||st(y))&&r++<63){let x=y===45?w:m;return t.consume(y),x}return n(y)}}s(qx,"tokenizeAutolink");var Pn={partial:!0,tokenize:Kx};function Kx(t,e,n){return r;function r(o){return X(o)?ee(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||Y(o)?e(o):n(o)}}s(Kx,"tokenizeBlankLine");var Ys={continuation:{tokenize:Xx},exit:Zx,name:"blockQuote",tokenize:Jx};function Jx(t,e,n){let r=this;return i;function i(l){if(l===62){let u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),o}return n(l)}function o(l){return X(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}s(Jx,"tokenizeBlockQuoteStart");function Xx(t,e,n){let r=this;return i;function i(l){return X(l)?ee(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return t.attempt(Ys,e,n)(l)}}s(Xx,"tokenizeBlockQuoteContinuation");function Zx(t){t.exit("blockQuote")}s(Zx,"exit");var zs={name:"characterEscape",tokenize:Qx};function Qx(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return Jf(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}s(Qx,"tokenizeCharacterEscape");var Hs={name:"characterReference",tokenize:ek};function ek(t,e,n){let r=this,i=0,o,l;return u;function u(m){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),d}function d(m){return m===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(m),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),o=31,l=st,p(m))}function f(m){return m===88||m===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(m),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,l=Kf,p):(t.enter("characterReferenceValue"),o=7,l=ki,p(m))}function p(m){if(m===59&&i){let w=t.exit("characterReferenceValue");return l===st&&!Or(r.sliceSerialize(w))?n(m):(t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(m)&&i++<o?(t.consume(m),p):n(m)}}s(ek,"tokenizeCharacterReference");var rh={partial:!0,tokenize:nk},js={concrete:!0,name:"codeFenced",tokenize:tk};function tk(t,e,n){let r=this,i={partial:!0,tokenize:z},o=0,l=0,u;return d;function d(F){return f(F)}function f(F){let Z=r.events[r.events.length-1];return o=Z&&Z[1].type==="linePrefix"?Z[2].sliceSerialize(Z[1],!0).length:0,u=F,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),p(F)}function p(F){return F===u?(l++,t.consume(F),p):l<3?n(F):(t.exit("codeFencedFenceSequence"),X(F)?ee(t,m,"whitespace")(F):m(F))}function m(F){return F===null||Y(F)?(t.exit("codeFencedFence"),r.interrupt?e(F):t.check(rh,T,L)(F)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),w(F))}function w(F){return F===null||Y(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),m(F)):X(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),ee(t,y,"whitespace")(F)):F===96&&F===u?n(F):(t.consume(F),w)}function y(F){return F===null||Y(F)?m(F):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(F))}function x(F){return F===null||Y(F)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(F)):F===96&&F===u?n(F):(t.consume(F),x)}function T(F){return t.attempt(i,L,S)(F)}function S(F){return t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),E}function E(F){return o>0&&X(F)?ee(t,P,"linePrefix",o+1)(F):P(F)}function P(F){return F===null||Y(F)?t.check(rh,T,L)(F):(t.enter("codeFlowValue"),_(F))}function _(F){return F===null||Y(F)?(t.exit("codeFlowValue"),P(F)):(t.consume(F),_)}function L(F){return t.exit("codeFenced"),e(F)}function z(F,Z,re){let q=0;return ne;function ne(G){return F.enter("lineEnding"),F.consume(G),F.exit("lineEnding"),me}function me(G){return F.enter("codeFencedFence"),X(G)?ee(F,ae,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):ae(G)}function ae(G){return G===u?(F.enter("codeFencedFenceSequence"),N(G)):re(G)}function N(G){return G===u?(q++,F.consume(G),N):q>=l?(F.exit("codeFencedFenceSequence"),X(G)?ee(F,j,"whitespace")(G):j(G)):re(G)}function j(G){return G===null||Y(G)?(F.exit("codeFencedFence"),Z(G)):re(G)}}}s(tk,"tokenizeCodeFenced");function nk(t,e,n){let r=this;return i;function i(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}s(nk,"tokenizeNonLazyContinuation");var Ci={name:"codeIndented",tokenize:ik},rk={partial:!0,tokenize:sk};function ik(t,e,n){let r=this;return i;function i(f){return t.enter("codeIndented"),ee(t,o,"linePrefix",5)(f)}function o(f){let p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?d(f):Y(f)?t.attempt(rk,l,d)(f):(t.enter("codeFlowValue"),u(f))}function u(f){return f===null||Y(f)?(t.exit("codeFlowValue"),l(f)):(t.consume(f),u)}function d(f){return t.exit("codeIndented"),e(f)}}s(ik,"tokenizeCodeIndented");function sk(t,e,n){let r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):Y(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),i):ee(t,o,"linePrefix",5)(l)}function o(l){let u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):Y(l)?i(l):n(l)}}s(sk,"tokenizeFurtherStart");var Hl={name:"codeText",previous:ak,resolve:ok,tokenize:lk};function ok(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}s(ok,"resolveCodeText");function ak(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}s(ak,"previous");function lk(t,e,n){let r=this,i=0,o,l;return u;function u(w){return t.enter("codeText"),t.enter("codeTextSequence"),d(w)}function d(w){return w===96?(t.consume(w),i++,d):(t.exit("codeTextSequence"),f(w))}function f(w){return w===null?n(w):w===32?(t.enter("space"),t.consume(w),t.exit("space"),f):w===96?(l=t.enter("codeTextSequence"),o=0,m(w)):Y(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),f):(t.enter("codeTextData"),p(w))}function p(w){return w===null||w===32||w===96||Y(w)?(t.exit("codeTextData"),f(w)):(t.consume(w),p)}function m(w){return w===96?(t.consume(w),o++,m):o===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(w)):(l.type="codeTextData",p(w))}}s(lk,"tokenizeCodeText");var Gs=class{static{s(this,"SpliceBuffer")}constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){let r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){let i=n||0;this.setCursor(Math.trunc(e));let o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ei(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ei(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ei(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let n=this.left.splice(e,Number.POSITIVE_INFINITY);Ei(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ei(this.left,n.reverse())}}};function Ei(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}s(Ei,"chunkedPush");function qs(t){let e={},n=-1,r,i,o,l,u,d,f,p=new Gs(t);for(;++n<p.length;){for(;n in e;)n=e[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,o=0,o<d.length&&d[o][1].type==="lineEndingBlank"&&(o+=2),o<d.length&&d[o][1].type==="content"))for(;++o<d.length&&d[o][1].type!=="content";)d[o][1].type==="chunkText"&&(d[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,uk(p,n)),n=e[n],f=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(l=p.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(p.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...p.get(i)[1].start},u=p.slice(i,n),u.unshift(r),p.splice(i,n-i+1,u))}}return He(t,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}s(qs,"subtokenize");function uk(t,e){let n=t.get(e)[1],r=t.get(e)[2],i=e-1,o=[],l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));let u=l.events,d=[],f={},p,m,w=-1,y=n,x=0,T=0,S=[T];for(;y;){for(;t.get(++i)[1]!==y;);o.push(i),y._tokenizer||(p=r.sliceStream(y),y.next||p.push(null),m&&l.defineSkip(y.start),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=y,y=y.next}for(y=n;++w<u.length;)u[w][0]==="exit"&&u[w-1][0]==="enter"&&u[w][1].type===u[w-1][1].type&&u[w][1].start.line!==u[w][1].end.line&&(T=w+1,S.push(T),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(l.events=[],y?(y._tokenizer=void 0,y.previous=void 0):S.pop(),w=S.length;w--;){let E=u.slice(S[w],S[w+1]),P=o.pop();d.push([P,P+E.length-1]),t.splice(P,2,E)}for(d.reverse(),w=-1;++w<d.length;)f[x+d[w][0]]=x+d[w][1],x+=d[w][1]-d[w][0]-1;return f}s(uk,"subcontent");var jl={resolve:dk,tokenize:fk},ck={partial:!0,tokenize:hk};function dk(t){return qs(t),t}s(dk,"resolveContent");function fk(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?o(u):Y(u)?t.check(ck,l,o)(u):(t.consume(u),i)}function o(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function l(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}s(fk,"tokenizeContent");function hk(t,e,n){let r=this;return i;function i(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),ee(t,o,"linePrefix")}function o(l){if(l===null||Y(l))return n(l);let u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}s(hk,"tokenizeContinuation");function Ks(t,e,n,r,i,o,l,u,d){let f=d||Number.POSITIVE_INFINITY,p=0;return m;function m(E){return E===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(E),t.exit(o),w):E===null||E===32||E===41||xi(E)?n(E):(t.enter(r),t.enter(l),t.enter(u),t.enter("chunkString",{contentType:"string"}),T(E))}function w(E){return E===62?(t.enter(o),t.consume(E),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),y(E))}function y(E){return E===62?(t.exit("chunkString"),t.exit(u),w(E)):E===null||E===60||Y(E)?n(E):(t.consume(E),E===92?x:y)}function x(E){return E===60||E===62||E===92?(t.consume(E),y):y(E)}function T(E){return!p&&(E===null||E===41||Ie(E))?(t.exit("chunkString"),t.exit(u),t.exit(l),t.exit(r),e(E)):p<f&&E===40?(t.consume(E),p++,T):E===41?(t.consume(E),p--,T):E===null||E===32||E===40||xi(E)?n(E):(t.consume(E),E===92?S:T)}function S(E){return E===40||E===41||E===92?(t.consume(E),T):T(E)}}s(Ks,"factoryDestination");function Js(t,e,n,r,i,o){let l=this,u=0,d;return f;function f(y){return t.enter(r),t.enter(i),t.consume(y),t.exit(i),t.enter(o),p}function p(y){return u>999||y===null||y===91||y===93&&!d||y===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(y):y===93?(t.exit(o),t.enter(i),t.consume(y),t.exit(i),t.exit(r),e):Y(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),p):(t.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===null||y===91||y===93||Y(y)||u++>999?(t.exit("chunkString"),p(y)):(t.consume(y),d||(d=!X(y)),y===92?w:m)}function w(y){return y===91||y===92||y===93?(t.consume(y),u++,m):m(y)}}s(Js,"factoryLabel");function Xs(t,e,n,r,i,o){let l;return u;function u(w){return w===34||w===39||w===40?(t.enter(r),t.enter(i),t.consume(w),t.exit(i),l=w===40?41:w,d):n(w)}function d(w){return w===l?(t.enter(i),t.consume(w),t.exit(i),t.exit(r),e):(t.enter(o),f(w))}function f(w){return w===l?(t.exit(o),d(l)):w===null?n(w):Y(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),ee(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),p(w))}function p(w){return w===l||w===null||Y(w)?(t.exit("chunkString"),f(w)):(t.consume(w),w===92?m:p)}function m(w){return w===l||w===92?(t.consume(w),p):p(w)}}s(Xs,"factoryTitle");function Kn(t,e){let n;return r;function r(i){return Y(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):X(i)?ee(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}s(Kn,"factoryWhitespace");var Gl={name:"definition",tokenize:mk},pk={partial:!0,tokenize:gk};function mk(t,e,n){let r=this,i;return o;function o(y){return t.enter("definition"),l(y)}function l(y){return Js.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function u(y){return i=yn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),d):n(y)}function d(y){return Ie(y)?Kn(t,f)(y):f(y)}function f(y){return Ks(t,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function p(y){return t.attempt(pk,m,m)(y)}function m(y){return X(y)?ee(t,w,"whitespace")(y):w(y)}function w(y){return y===null||Y(y)?(t.exit("definition"),r.parser.defined.push(i),e(y)):n(y)}}s(mk,"tokenizeDefinition");function gk(t,e,n){return r;function r(u){return Ie(u)?Kn(t,i)(u):n(u)}function i(u){return Xs(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return X(u)?ee(t,l,"whitespace")(u):l(u)}function l(u){return u===null||Y(u)?e(u):n(u)}}s(gk,"tokenizeTitleBefore");var ql={name:"hardBreakEscape",tokenize:yk};function yk(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return Y(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}s(yk,"tokenizeHardBreakEscape");var Kl={name:"headingAtx",resolve:wk,tokenize:bk};function wk(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},He(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}s(wk,"resolveHeadingAtx");function bk(t,e,n){let r=0;return i;function i(p){return t.enter("atxHeading"),o(p)}function o(p){return t.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&r++<6?(t.consume(p),l):p===null||Ie(p)?(t.exit("atxHeadingSequence"),u(p)):n(p)}function u(p){return p===35?(t.enter("atxHeadingSequence"),d(p)):p===null||Y(p)?(t.exit("atxHeading"),e(p)):X(p)?ee(t,u,"whitespace")(p):(t.enter("atxHeadingText"),f(p))}function d(p){return p===35?(t.consume(p),d):(t.exit("atxHeadingSequence"),u(p))}function f(p){return p===null||p===35||Ie(p)?(t.exit("atxHeadingText"),u(p)):(t.consume(p),f)}}s(bk,"tokenizeHeadingAtx");var ih=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Jl=["pre","script","style","textarea"];var Xl={concrete:!0,name:"htmlFlow",resolveTo:kk,tokenize:vk},Ak={partial:!0,tokenize:Ek},xk={partial:!0,tokenize:Ck};function kk(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}s(kk,"resolveToHtmlFlow");function vk(t,e,n){let r=this,i,o,l,u,d;return f;function f(A){return p(A)}function p(A){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(A),m}function m(A){return A===33?(t.consume(A),w):A===47?(t.consume(A),o=!0,T):A===63?(t.consume(A),i=3,r.interrupt?e:v):mt(A)?(t.consume(A),l=String.fromCharCode(A),S):n(A)}function w(A){return A===45?(t.consume(A),i=2,y):A===91?(t.consume(A),i=5,u=0,x):mt(A)?(t.consume(A),i=4,r.interrupt?e:v):n(A)}function y(A){return A===45?(t.consume(A),r.interrupt?e:v):n(A)}function x(A){let Ne="CDATA[";return A===Ne.charCodeAt(u++)?(t.consume(A),u===Ne.length?r.interrupt?e:ae:x):n(A)}function T(A){return mt(A)?(t.consume(A),l=String.fromCharCode(A),S):n(A)}function S(A){if(A===null||A===47||A===62||Ie(A)){let Ne=A===47,Xt=l.toLowerCase();return!Ne&&!o&&Jl.includes(Xt)?(i=1,r.interrupt?e(A):ae(A)):ih.includes(l.toLowerCase())?(i=6,Ne?(t.consume(A),E):r.interrupt?e(A):ae(A)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(A):o?P(A):_(A))}return A===45||st(A)?(t.consume(A),l+=String.fromCharCode(A),S):n(A)}function E(A){return A===62?(t.consume(A),r.interrupt?e:ae):n(A)}function P(A){return X(A)?(t.consume(A),P):ne(A)}function _(A){return A===47?(t.consume(A),ne):A===58||A===95||mt(A)?(t.consume(A),L):X(A)?(t.consume(A),_):ne(A)}function L(A){return A===45||A===46||A===58||A===95||st(A)?(t.consume(A),L):z(A)}function z(A){return A===61?(t.consume(A),F):X(A)?(t.consume(A),z):_(A)}function F(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),d=A,Z):X(A)?(t.consume(A),F):re(A)}function Z(A){return A===d?(t.consume(A),d=null,q):A===null||Y(A)?n(A):(t.consume(A),Z)}function re(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||Ie(A)?z(A):(t.consume(A),re)}function q(A){return A===47||A===62||X(A)?_(A):n(A)}function ne(A){return A===62?(t.consume(A),me):n(A)}function me(A){return A===null||Y(A)?ae(A):X(A)?(t.consume(A),me):n(A)}function ae(A){return A===45&&i===2?(t.consume(A),Q):A===60&&i===1?(t.consume(A),ce):A===62&&i===4?(t.consume(A),fe):A===63&&i===3?(t.consume(A),v):A===93&&i===5?(t.consume(A),Oe):Y(A)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Ak,ve,N)(A)):A===null||Y(A)?(t.exit("htmlFlowData"),N(A)):(t.consume(A),ae)}function N(A){return t.check(xk,j,ve)(A)}function j(A){return t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),G}function G(A){return A===null||Y(A)?N(A):(t.enter("htmlFlowData"),ae(A))}function Q(A){return A===45?(t.consume(A),v):ae(A)}function ce(A){return A===47?(t.consume(A),l="",ge):ae(A)}function ge(A){if(A===62){let Ne=l.toLowerCase();return Jl.includes(Ne)?(t.consume(A),fe):ae(A)}return mt(A)&&l.length<8?(t.consume(A),l+=String.fromCharCode(A),ge):ae(A)}function Oe(A){return A===93?(t.consume(A),v):ae(A)}function v(A){return A===62?(t.consume(A),fe):A===45&&i===2?(t.consume(A),v):ae(A)}function fe(A){return A===null||Y(A)?(t.exit("htmlFlowData"),ve(A)):(t.consume(A),fe)}function ve(A){return t.exit("htmlFlow"),e(A)}}s(vk,"tokenizeHtmlFlow");function Ck(t,e,n){let r=this;return i;function i(l){return Y(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}s(Ck,"tokenizeNonLazyContinuationStart");function Ek(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Pn,e,n)}}s(Ek,"tokenizeBlankLineBefore");var Zl={name:"htmlText",tokenize:Tk};function Tk(t,e,n){let r=this,i,o,l;return u;function u(v){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(v),d}function d(v){return v===33?(t.consume(v),f):v===47?(t.consume(v),z):v===63?(t.consume(v),_):mt(v)?(t.consume(v),re):n(v)}function f(v){return v===45?(t.consume(v),p):v===91?(t.consume(v),o=0,x):mt(v)?(t.consume(v),P):n(v)}function p(v){return v===45?(t.consume(v),y):n(v)}function m(v){return v===null?n(v):v===45?(t.consume(v),w):Y(v)?(l=m,ce(v)):(t.consume(v),m)}function w(v){return v===45?(t.consume(v),y):m(v)}function y(v){return v===62?Q(v):v===45?w(v):m(v)}function x(v){let fe="CDATA[";return v===fe.charCodeAt(o++)?(t.consume(v),o===fe.length?T:x):n(v)}function T(v){return v===null?n(v):v===93?(t.consume(v),S):Y(v)?(l=T,ce(v)):(t.consume(v),T)}function S(v){return v===93?(t.consume(v),E):T(v)}function E(v){return v===62?Q(v):v===93?(t.consume(v),E):T(v)}function P(v){return v===null||v===62?Q(v):Y(v)?(l=P,ce(v)):(t.consume(v),P)}function _(v){return v===null?n(v):v===63?(t.consume(v),L):Y(v)?(l=_,ce(v)):(t.consume(v),_)}function L(v){return v===62?Q(v):_(v)}function z(v){return mt(v)?(t.consume(v),F):n(v)}function F(v){return v===45||st(v)?(t.consume(v),F):Z(v)}function Z(v){return Y(v)?(l=Z,ce(v)):X(v)?(t.consume(v),Z):Q(v)}function re(v){return v===45||st(v)?(t.consume(v),re):v===47||v===62||Ie(v)?q(v):n(v)}function q(v){return v===47?(t.consume(v),Q):v===58||v===95||mt(v)?(t.consume(v),ne):Y(v)?(l=q,ce(v)):X(v)?(t.consume(v),q):Q(v)}function ne(v){return v===45||v===46||v===58||v===95||st(v)?(t.consume(v),ne):me(v)}function me(v){return v===61?(t.consume(v),ae):Y(v)?(l=me,ce(v)):X(v)?(t.consume(v),me):q(v)}function ae(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(t.consume(v),i=v,N):Y(v)?(l=ae,ce(v)):X(v)?(t.consume(v),ae):(t.consume(v),j)}function N(v){return v===i?(t.consume(v),i=void 0,G):v===null?n(v):Y(v)?(l=N,ce(v)):(t.consume(v),N)}function j(v){return v===null||v===34||v===39||v===60||v===61||v===96?n(v):v===47||v===62||Ie(v)?q(v):(t.consume(v),j)}function G(v){return v===47||v===62||Ie(v)?q(v):n(v)}function Q(v){return v===62?(t.consume(v),t.exit("htmlTextData"),t.exit("htmlText"),e):n(v)}function ce(v){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),ge}function ge(v){return X(v)?ee(t,Oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(v):Oe(v)}function Oe(v){return t.enter("htmlTextData"),l(v)}}s(Tk,"tokenizeHtmlText");var Jn={name:"labelEnd",resolveAll:Ik,resolveTo:Ok,tokenize:_k},Sk={tokenize:Rk},Fk={tokenize:Mk},Pk={tokenize:Nk};function Ik(t){let e=-1,n=[];for(;++e<t.length;){let r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){let i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&He(t,0,t.length,n),t}s(Ik,"resolveAllLabelEnd");function Ok(t,e){let n=t.length,r=0,i,o,l,u;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);let d={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},f={type:"label",start:{...t[o][1].start},end:{...t[l][1].end}},p={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[l-2][1].start}};return u=[["enter",d,e],["enter",f,e]],u=it(u,t.slice(o+1,o+r+3)),u=it(u,[["enter",p,e]]),u=it(u,Rr(e.parser.constructs.insideSpan.null,t.slice(o+r+4,l-3),e)),u=it(u,[["exit",p,e],t[l-2],t[l-1],["exit",f,e]]),u=it(u,t.slice(l+1)),u=it(u,[["exit",d,e]]),He(t,o,t.length,u),t}s(Ok,"resolveToLabelEnd");function _k(t,e,n){let r=this,i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return u;function u(w){return o?o._inactive?m(w):(l=r.parser.defined.includes(yn(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(w),t.exit("labelMarker"),t.exit("labelEnd"),d):n(w)}function d(w){return w===40?t.attempt(Sk,p,l?p:m)(w):w===91?t.attempt(Fk,p,l?f:m)(w):l?p(w):m(w)}function f(w){return t.attempt(Pk,p,m)(w)}function p(w){return e(w)}function m(w){return o._balanced=!0,n(w)}}s(_k,"tokenizeLabelEnd");function Rk(t,e,n){return r;function r(m){return t.enter("resource"),t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),i}function i(m){return Ie(m)?Kn(t,o)(m):o(m)}function o(m){return m===41?p(m):Ks(t,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return Ie(m)?Kn(t,d)(m):p(m)}function u(m){return n(m)}function d(m){return m===34||m===39||m===40?Xs(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function f(m){return Ie(m)?Kn(t,p)(m):p(m)}function p(m){return m===41?(t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),t.exit("resource"),e):n(m)}}s(Rk,"tokenizeResource");function Mk(t,e,n){let r=this;return i;function i(u){return Js.call(r,t,o,l,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes(yn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function l(u){return n(u)}}s(Mk,"tokenizeReferenceFull");function Nk(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}s(Nk,"tokenizeReferenceCollapsed");var Ql={name:"labelStartImage",resolveAll:Jn.resolveAll,tokenize:Lk};function Lk(t,e,n){let r=this;return i;function i(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),o}function o(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}s(Lk,"tokenizeLabelStartImage");var eu={name:"labelStartLink",resolveAll:Jn.resolveAll,tokenize:Dk};function Dk(t,e,n){let r=this;return i;function i(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}s(Dk,"tokenizeLabelStartLink");var Ti={name:"lineEnding",tokenize:$k};function $k(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),ee(t,e,"linePrefix")}}s($k,"tokenizeLineEnding");var Xn={name:"thematicBreak",tokenize:Bk};function Bk(t,e,n){let r=0,i;return o;function o(f){return t.enter("thematicBreak"),l(f)}function l(f){return i=f,u(f)}function u(f){return f===i?(t.enter("thematicBreakSequence"),d(f)):r>=3&&(f===null||Y(f))?(t.exit("thematicBreak"),e(f)):n(f)}function d(f){return f===i?(t.consume(f),r++,d):(t.exit("thematicBreakSequence"),X(f)?ee(t,u,"whitespace")(f):u(f))}}s(Bk,"tokenizeThematicBreak");var qe={continuation:{tokenize:Yk},exit:Hk,name:"list",tokenize:Wk},Vk={partial:!0,tokenize:jk},Uk={partial:!0,tokenize:zk};function Wk(t,e,n){let r=this,i=r.events[r.events.length-1],o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return u;function u(y){let x=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:ki(y)){if(r.containerState.type||(r.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(Xn,n,f)(y):f(y);if(!r.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(y)}return n(y)}function d(y){return ki(y)&&++l<10?(t.consume(y),d):(!r.interrupt||l<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),f(y)):n(y)}function f(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,t.check(Pn,r.interrupt?n:p,t.attempt(Vk,w,m))}function p(y){return r.containerState.initialBlankLine=!0,o++,w(y)}function m(y){return X(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),w):n(y)}function w(y){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}s(Wk,"tokenizeListStart");function Yk(t,e,n){let r=this;return r.containerState._closeFlow=void 0,t.check(Pn,i,o);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ee(t,e,"listItemIndent",r.containerState.size+1)(u)}s(i,"onBlank");function o(u){return r.containerState.furtherBlankLines||!X(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Uk,e,l)(u))}s(o,"notBlank");function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,ee(t,t.attempt(qe,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}s(l,"notInCurrentItem")}s(Yk,"tokenizeListContinuation");function zk(t,e,n){let r=this;return ee(t,i,"listItemIndent",r.containerState.size+1);function i(o){let l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(o):n(o)}}s(zk,"tokenizeIndent");function Hk(t){t.exit(this.containerState.type)}s(Hk,"tokenizeListEnd");function jk(t,e,n){let r=this;return ee(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){let l=r.events[r.events.length-1];return!X(o)&&l&&l[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}s(jk,"tokenizeListItemPrefixWhitespace");var Zs={name:"setextUnderline",resolveTo:Gk,tokenize:qk};function Gk(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);let l={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",l,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}s(Gk,"resolveToSetextUnderline");function qk(t,e,n){let r=this,i;return o;function o(f){let p=r.events.length,m;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){m=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(t.enter("setextHeadingLine"),i=f,l(f)):n(f)}function l(f){return t.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===i?(t.consume(f),u):(t.exit("setextHeadingLineSequence"),X(f)?ee(t,d,"lineSuffix")(f):d(f))}function d(f){return f===null||Y(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}s(qk,"tokenizeSetextUnderline");var sh={tokenize:Kk};function Kk(t){let e=this,n=t.attempt(Pn,r,t.attempt(this.parser.constructs.flowInitial,i,ee(t,t.attempt(this.parser.constructs.flow,i,t.attempt(jl,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}s(Kk,"initializeFlow");var oh={resolveAll:ch()},ah=uh("string"),lh=uh("text");function uh(t){return{resolveAll:ch(t==="text"?Jk:void 0),tokenize:e};function e(n){let r=this,i=this.parser.constructs[t],o=n.attempt(i,l,u);return l;function l(p){return f(p)?o(p):u(p)}function u(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),d}function d(p){return f(p)?(n.exit("data"),o(p)):(n.consume(p),d)}function f(p){if(p===null)return!0;let m=i[p],w=-1;if(m)for(;++w<m.length;){let y=m[w];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}s(uh,"initializeFactory");function ch(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}s(ch,"createResolver");function Jk(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){let r=t[n-1][1],i=e.sliceStream(r),o=i.length,l=-1,u=0,d;for(;o--;){let f=i[o];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(f===-2)d=!0,u++;else if(f!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(u=0),u){let f={type:n===t.length||d||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}s(Jk,"resolveAllLineSuffixes");var tu={};Ed(tu,{attentionMarkers:()=>iv,contentInitial:()=>Zk,disable:()=>sv,document:()=>Xk,flow:()=>ev,flowInitial:()=>Qk,insideSpan:()=>rv,string:()=>tv,text:()=>nv});var Xk={42:qe,43:qe,45:qe,48:qe,49:qe,50:qe,51:qe,52:qe,53:qe,54:qe,55:qe,56:qe,57:qe,62:Ys},Zk={91:Gl},Qk={[-2]:Ci,[-1]:Ci,32:Ci},ev={35:Kl,42:Xn,45:[Zs,Xn],60:Xl,61:Zs,95:Xn,96:js,126:js},tv={38:Hs,92:zs},nv={[-5]:Ti,[-4]:Ti,[-3]:Ti,33:Ql,38:Hs,42:vi,60:[zl,Zl],91:eu,92:[ql,zs],93:Jn,95:vi,96:Hl},rv={null:[vi,oh]},iv={null:[42,95]},sv={null:[]};function dh(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},i={},o=[],l=[],u=[],d=!0,f={attempt:q(Z),check:q(re),consume:L,enter:z,exit:F,interrupt:q(re,{interrupt:!0})},p={code:null,containerState:{},defineSkip:E,events:[],now:S,parser:t,previous:null,sliceSerialize:x,sliceStream:T,write:y},m=e.tokenize.call(p,f),w;return e.resolveAll&&o.push(e),p;function y(N){return l=it(l,N),P(),l[l.length-1]!==null?[]:(ne(e,0),p.events=Rr(o,p.events,p),p.events)}s(y,"write");function x(N,j){return av(T(N),j)}s(x,"sliceSerialize");function T(N){return ov(l,N)}s(T,"sliceStream");function S(){let{_bufferIndex:N,_index:j,line:G,column:Q,offset:ce}=r;return{_bufferIndex:N,_index:j,line:G,column:Q,offset:ce}}s(S,"now");function E(N){i[N.line]=N.column,ae()}s(E,"defineSkip");function P(){let N;for(;r._index<l.length;){let j=l[r._index];if(typeof j=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<j.length;)_(j.charCodeAt(r._bufferIndex));else _(j)}}s(P,"main");function _(N){d=void 0,w=N,m=m(N)}s(_,"go");function L(N){Y(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,ae()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=N,d=!0}s(L,"consume");function z(N,j){let G=j||{};return G.type=N,G.start=S(),p.events.push(["enter",G,p]),u.push(G),G}s(z,"enter");function F(N){let j=u.pop();return j.end=S(),p.events.push(["exit",j,p]),j}s(F,"exit");function Z(N,j){ne(N,j.from)}s(Z,"onsuccessfulconstruct");function re(N,j){j.restore()}s(re,"onsuccessfulcheck");function q(N,j){return G;function G(Q,ce,ge){let Oe,v,fe,ve;return Array.isArray(Q)?Ne(Q):"tokenize"in Q?Ne([Q]):A(Q);function A(_e){return Bn;function Bn(Pt){let Zt=Pt!==null&&_e[Pt],kn=Pt!==null&&_e.null,Zr=[...Array.isArray(Zt)?Zt:Zt?[Zt]:[],...Array.isArray(kn)?kn:kn?[kn]:[]];return Ne(Zr)(Pt)}}function Ne(_e){return Oe=_e,v=0,_e.length===0?ge:Xt(_e[v])}function Xt(_e){return Bn;function Bn(Pt){return ve=me(),fe=_e,_e.partial||(p.currentConstruct=_e),_e.name&&p.parser.constructs.disable.null.includes(_e.name)?$n(Pt):_e.tokenize.call(j?Object.assign(Object.create(p),j):p,f,xn,$n)(Pt)}}function xn(_e){return d=!0,N(fe,ve),ce}function $n(_e){return d=!0,ve.restore(),++v<Oe.length?Xt(Oe[v]):ge}}}s(q,"constructFactory");function ne(N,j){N.resolveAll&&!o.includes(N)&&o.push(N),N.resolve&&He(p.events,j,p.events.length-j,N.resolve(p.events.slice(j),p)),N.resolveTo&&(p.events=N.resolveTo(p.events,p))}s(ne,"addResult");function me(){let N=S(),j=p.previous,G=p.currentConstruct,Q=p.events.length,ce=Array.from(u);return{from:Q,restore:ge};function ge(){r=N,p.previous=j,p.currentConstruct=G,p.events.length=Q,u=ce,ae()}}s(me,"store");function ae(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}s(ae,"accountForPotentialSkip")}s(dh,"createTokenizer");function ov(t,e){let n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex,l;if(n===i)l=[t[n].slice(r,o)];else{if(l=t.slice(n,i),r>-1){let u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}o>0&&l.push(t[i].slice(0,o))}return l}s(ov,"sliceChunks");function av(t,e){let n=-1,r=[],i;for(;++n<t.length;){let o=t[n],l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}s(av,"serializeChunks");function nu(t){let r={constructs:Gf([tu,...(t||{}).extensions||[]]),content:i(Qf),defined:[],document:i(th),flow:i(sh),lazy:{},string:i(ah),text:i(lh)};return r;function i(o){return l;function l(u){return dh(r,o,u)}}}s(nu,"parse");function ru(t){for(;!qs(t););return t}s(ru,"postprocess");var fh=/[\0\t\n\r]/g;function iu(){let t=1,e="",n=!0,r;return i;function i(o,l,u){let d=[],f,p,m,w,y;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),m=0,e="",n&&(o.charCodeAt(0)===65279&&m++,n=void 0);m<o.length;){if(fh.lastIndex=m,f=fh.exec(o),w=f&&f.index!==void 0?f.index:o.length,y=o.charCodeAt(w),!f){e=o.slice(m);break}if(y===10&&m===w&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),m<w&&(d.push(o.slice(m,w)),t+=w-m),y){case 0:{d.push(65533),t++;break}case 9:{for(p=Math.ceil(t/4)*4,d.push(-2);t++<p;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:r=!0,t=1}m=w+1}return u&&(r&&d.push(-5),e&&d.push(e),d.push(null)),d}}s(iu,"preprocess");var lv=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Qs(t){return t.replace(lv,uv)}s(Qs,"decodeString");function uv(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){let i=n.charCodeAt(1),o=i===120||i===88;return Ws(n.slice(o?2:1),o?16:10)}return Or(n)||t}s(uv,"decode");function In(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?hh(t.position):"start"in t||"end"in t?hh(t):"line"in t||"column"in t?su(t):""}s(In,"stringifyPosition");function su(t){return ph(t&&t.line)+":"+ph(t&&t.column)}s(su,"point");function hh(t){return su(t&&t.start)+"-"+su(t&&t.end)}s(hh,"position");function ph(t){return t&&typeof t=="number"?t:1}s(ph,"index");var gh={}.hasOwnProperty;function ou(t,e,n){return typeof e!="string"&&(n=e,e=void 0),cv(n)(ru(nu(n).document().write(iu()(t,e,!0))))}s(ou,"fromMarkdown");function cv(t){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Ze),autolinkProtocol:q,autolinkEmail:q,atxHeading:o(Xi),blockQuote:o(Pt),characterEscape:q,characterReference:q,codeFenced:o(Zt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Zt,l),codeText:o(kn,l),codeTextData:q,data:q,codeFlowValue:q,definition:o(Zr),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(za),hardBreakEscape:o(Zi),hardBreakTrailing:o(Zi),htmlFlow:o(Qi,l),htmlFlowData:q,htmlText:o(Qi,l),htmlTextData:q,image:o(es),label:l,link:o(Ze),listItem:o(Ha),listItemValue:w,listOrdered:o(ar,m),listUnordered:o(ar),paragraph:o(ja),reference:A,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(Xi),strong:o(ts),thematicBreak:o(ns)},exit:{atxHeading:d(),atxHeadingSequence:z,autolink:d(),autolinkEmail:Bn,autolinkProtocol:_e,blockQuote:d(),characterEscapeValue:ne,characterReferenceMarkerHexadecimal:Xt,characterReferenceMarkerNumeric:Xt,characterReferenceValue:xn,characterReference:$n,codeFenced:d(S),codeFencedFence:T,codeFencedFenceInfo:y,codeFencedFenceMeta:x,codeFlowValue:ne,codeIndented:d(E),codeText:d(G),codeTextData:ne,data:ne,definition:d(),definitionDestinationString:L,definitionLabelString:P,definitionTitleString:_,emphasis:d(),hardBreakEscape:d(ae),hardBreakTrailing:d(ae),htmlFlow:d(N),htmlFlowData:ne,htmlText:d(j),htmlTextData:ne,image:d(ce),label:Oe,labelText:ge,lineEnding:me,link:d(Q),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:Ne,resourceDestinationString:v,resourceTitleString:fe,resource:ve,setextHeading:d(re),setextHeadingLineSequence:Z,setextHeadingText:F,strong:d(),thematicBreak:d()}};yh(e,(t||{}).mdastExtensions||[]);let n={};return r;function r(O){let M={type:"root",children:[]},D={stack:[M],tokenStack:[],config:e,enter:u,exit:f,buffer:l,resume:p,data:n},se=[],he=-1;for(;++he<O.length;)if(O[he][1].type==="listOrdered"||O[he][1].type==="listUnordered")if(O[he][0]==="enter")se.push(he);else{let je=se.pop();he=i(O,je,he)}for(he=-1;++he<O.length;){let je=e[O[he][0]];gh.call(je,O[he][1].type)&&je[O[he][1].type].call(Object.assign({sliceSerialize:O[he][2].sliceSerialize},D),O[he][1])}if(D.tokenStack.length>0){let je=D.tokenStack[D.tokenStack.length-1];(je[1]||mh).call(D,void 0,je[0])}for(M.position={start:On(O.length>0?O[0][1].start:{line:1,column:1,offset:0}),end:On(O.length>0?O[O.length-2][1].end:{line:1,column:1,offset:0})},he=-1;++he<e.transforms.length;)M=e.transforms[he](M)||M;return M}function i(O,M,D){let se=M-1,he=-1,je=!1,It,lt,wt,Bt;for(;++se<=D;){let et=O[se];switch(et[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{et[0]==="enter"?he++:he--,Bt=void 0;break}case"lineEndingBlank":{et[0]==="enter"&&(It&&!Bt&&!he&&!wt&&(wt=se),Bt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Bt=void 0}if(!he&&et[0]==="enter"&&et[1].type==="listItemPrefix"||he===-1&&et[0]==="exit"&&(et[1].type==="listUnordered"||et[1].type==="listOrdered")){if(It){let Ot=se;for(lt=void 0;Ot--;){let _t=O[Ot];if(_t[1].type==="lineEnding"||_t[1].type==="lineEndingBlank"){if(_t[0]==="exit")continue;lt&&(O[lt][1].type="lineEndingBlank",je=!0),_t[1].type="lineEnding",lt=Ot}else if(!(_t[1].type==="linePrefix"||_t[1].type==="blockQuotePrefix"||_t[1].type==="blockQuotePrefixWhitespace"||_t[1].type==="blockQuoteMarker"||_t[1].type==="listItemIndent"))break}wt&&(!lt||wt<lt)&&(It._spread=!0),It.end=Object.assign({},lt?O[lt][1].start:et[1].end),O.splice(lt||se,0,["exit",It,et[2]]),se++,D++}if(et[1].type==="listItemPrefix"){let Ot={type:"listItem",_spread:!1,start:Object.assign({},et[1].start),end:void 0};It=Ot,O.splice(se,0,["enter",Ot,et[2]]),se++,D++,wt=void 0,Bt=!0}}}return O[M][1]._spread=je,D}function o(O,M){return D;function D(se){u.call(this,O(se),se),M&&M.call(this,se)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(O,M,D){this.stack[this.stack.length-1].children.push(O),this.stack.push(O),this.tokenStack.push([M,D||void 0]),O.position={start:On(M.start),end:void 0}}function d(O){return M;function M(D){O&&O.call(this,D),f.call(this,D)}}function f(O,M){let D=this.stack.pop(),se=this.tokenStack.pop();if(se)se[0].type!==O.type&&(M?M.call(this,O,se[0]):(se[1]||mh).call(this,O,se[0]));else throw new Error("Cannot close `"+O.type+"` ("+In({start:O.start,end:O.end})+"): it\u2019s not open");D.position.end=On(O.end)}function p(){return qn(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function w(O){if(this.data.expectingFirstListItemValue){let M=this.stack[this.stack.length-2];M.start=Number.parseInt(this.sliceSerialize(O),10),this.data.expectingFirstListItemValue=void 0}}function y(){let O=this.resume(),M=this.stack[this.stack.length-1];M.lang=O}function x(){let O=this.resume(),M=this.stack[this.stack.length-1];M.meta=O}function T(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){let O=this.resume(),M=this.stack[this.stack.length-1];M.value=O.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){let O=this.resume(),M=this.stack[this.stack.length-1];M.value=O.replace(/(\r?\n|\r)$/g,"")}function P(O){let M=this.resume(),D=this.stack[this.stack.length-1];D.label=M,D.identifier=yn(this.sliceSerialize(O)).toLowerCase()}function _(){let O=this.resume(),M=this.stack[this.stack.length-1];M.title=O}function L(){let O=this.resume(),M=this.stack[this.stack.length-1];M.url=O}function z(O){let M=this.stack[this.stack.length-1];if(!M.depth){let D=this.sliceSerialize(O).length;M.depth=D}}function F(){this.data.setextHeadingSlurpLineEnding=!0}function Z(O){let M=this.stack[this.stack.length-1];M.depth=this.sliceSerialize(O).codePointAt(0)===61?1:2}function re(){this.data.setextHeadingSlurpLineEnding=void 0}function q(O){let D=this.stack[this.stack.length-1].children,se=D[D.length-1];(!se||se.type!=="text")&&(se=Qe(),se.position={start:On(O.start),end:void 0},D.push(se)),this.stack.push(se)}function ne(O){let M=this.stack.pop();M.value+=this.sliceSerialize(O),M.position.end=On(O.end)}function me(O){let M=this.stack[this.stack.length-1];if(this.data.atHardBreak){let D=M.children[M.children.length-1];D.position.end=On(O.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(M.type)&&(q.call(this,O),ne.call(this,O))}function ae(){this.data.atHardBreak=!0}function N(){let O=this.resume(),M=this.stack[this.stack.length-1];M.value=O}function j(){let O=this.resume(),M=this.stack[this.stack.length-1];M.value=O}function G(){let O=this.resume(),M=this.stack[this.stack.length-1];M.value=O}function Q(){let O=this.stack[this.stack.length-1];if(this.data.inReference){let M=this.data.referenceType||"shortcut";O.type+="Reference",O.referenceType=M,delete O.url,delete O.title}else delete O.identifier,delete O.label;this.data.referenceType=void 0}function ce(){let O=this.stack[this.stack.length-1];if(this.data.inReference){let M=this.data.referenceType||"shortcut";O.type+="Reference",O.referenceType=M,delete O.url,delete O.title}else delete O.identifier,delete O.label;this.data.referenceType=void 0}function ge(O){let M=this.sliceSerialize(O),D=this.stack[this.stack.length-2];D.label=Qs(M),D.identifier=yn(M).toLowerCase()}function Oe(){let O=this.stack[this.stack.length-1],M=this.resume(),D=this.stack[this.stack.length-1];if(this.data.inReference=!0,D.type==="link"){let se=O.children;D.children=se}else D.alt=M}function v(){let O=this.resume(),M=this.stack[this.stack.length-1];M.url=O}function fe(){let O=this.resume(),M=this.stack[this.stack.length-1];M.title=O}function ve(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function Ne(O){let M=this.resume(),D=this.stack[this.stack.length-1];D.label=M,D.identifier=yn(this.sliceSerialize(O)).toLowerCase(),this.data.referenceType="full"}function Xt(O){this.data.characterReferenceType=O.type}function xn(O){let M=this.sliceSerialize(O),D=this.data.characterReferenceType,se;D?(se=Ws(M,D==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):se=Or(M);let he=this.stack[this.stack.length-1];he.value+=se}function $n(O){let M=this.stack.pop();M.position.end=On(O.end)}function _e(O){ne.call(this,O);let M=this.stack[this.stack.length-1];M.url=this.sliceSerialize(O)}function Bn(O){ne.call(this,O);let M=this.stack[this.stack.length-1];M.url="mailto:"+this.sliceSerialize(O)}function Pt(){return{type:"blockquote",children:[]}}function Zt(){return{type:"code",lang:null,meta:null,value:""}}function kn(){return{type:"inlineCode",value:""}}function Zr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function za(){return{type:"emphasis",children:[]}}function Xi(){return{type:"heading",depth:0,children:[]}}function Zi(){return{type:"break"}}function Qi(){return{type:"html",value:""}}function es(){return{type:"image",title:null,url:"",alt:null}}function Ze(){return{type:"link",title:null,url:"",children:[]}}function ar(O){return{type:"list",ordered:O.type==="listOrdered",start:null,spread:O._spread,children:[]}}function Ha(O){return{type:"listItem",spread:O._spread,checked:null,children:[]}}function ja(){return{type:"paragraph",children:[]}}function ts(){return{type:"strong",children:[]}}function Qe(){return{type:"text",value:""}}function ns(){return{type:"thematicBreak"}}}s(cv,"compiler");function On(t){return{line:t.line,column:t.column,offset:t.offset}}s(On,"point");function yh(t,e){let n=-1;for(;++n<e.length;){let r=e[n];Array.isArray(r)?yh(t,r):dv(t,r)}}s(yh,"configure");function dv(t,e){let n;for(n in e)if(gh.call(e,n))switch(n){case"canContainEols":{let r=e[n];r&&t[n].push(...r);break}case"transforms":{let r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{let r=e[n];r&&Object.assign(t[n],r);break}}}s(dv,"extension");function mh(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+In({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+In({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+In({start:e.start,end:e.end})+") is still open")}s(mh,"defaultOnError");function Mr(t){let e=this;e.parser=n;function n(r){return ou(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}s(n,"parser")}s(Mr,"remarkParse");var wh={}.hasOwnProperty;function bh(t,e){let n=e||{};function r(i,...o){let l=r.invalid,u=r.handlers;if(i&&wh.call(i,t)){let d=String(i[t]);l=wh.call(u,d)?u[d]:r.unknown}if(l)return l.call(this,i,...o)}return s(r,"one"),r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}s(bh,"zwitch");var fv={}.hasOwnProperty;function au(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)au(t,e.extensions[n]);for(r in e)if(fv.call(e,r))switch(r){case"extensions":break;case"unsafe":{Ah(t[r],e[r]);break}case"join":{Ah(t[r],e[r]);break}case"handlers":{hv(t[r],e[r]);break}default:t.options[r]=e[r]}return t}s(au,"configure");function Ah(t,e){e&&t.push(...e)}s(Ah,"list");function hv(t,e){e&&Object.assign(t,e)}s(hv,"map");function xh(t,e,n,r){let i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);let l=n.indentLines(n.containerFlow(t,o.current()),pv);return i(),l}s(xh,"blockquote");function pv(t,e,n){return">"+(n?"":" ")+t}s(pv,"map");function eo(t,e){return kh(t,e.inConstruct,!0)&&!kh(t,e.notInConstruct,!1)}s(eo,"patternInScope");function kh(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}s(kh,"listInScope");function lu(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&eo(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}s(lu,"hardBreak");function vh(t,e){let n=String(t),r=n.indexOf(e),i=r,o=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>l&&(l=o):o=1,i=r+e.length,r=n.indexOf(e,i);return l}s(vh,"longestStreak");function Si(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}s(Si,"formatCodeAsIndented");function Ch(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}s(Ch,"checkFence");function Eh(t,e,n,r){let i=Ch(n),o=t.value||"",l=i==="`"?"GraveAccent":"Tilde";if(Si(t,n)){let m=n.enter("codeIndented"),w=n.indentLines(o,mv);return m(),w}let u=n.createTracker(r),d=i.repeat(Math.max(vh(o,i)+1,3)),f=n.enter("codeFenced"),p=u.move(d);if(t.lang){let m=n.enter(`codeFencedLang${l}`);p+=u.move(n.safe(t.lang,{before:p,after:" ",encode:["`"],...u.current()})),m()}if(t.lang&&t.meta){let m=n.enter(`codeFencedMeta${l}`);p+=u.move(" "),p+=u.move(n.safe(t.meta,{before:p,after:`
`,encode:["`"],...u.current()})),m()}return p+=u.move(`
`),o&&(p+=u.move(o+`
`)),p+=u.move(d),f(),p}s(Eh,"code");function mv(t,e,n){return(n?"":"    ")+t}s(mv,"map");function Nr(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}s(Nr,"checkQuote");function Th(t,e,n,r){let i=Nr(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("definition"),u=n.enter("label"),d=n.createTracker(r),f=d.move("[");return f+=d.move(n.safe(n.associationId(t),{before:f,after:"]",...d.current()})),f+=d.move("]: "),u(),!t.url||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(t.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(u=n.enter("destinationRaw"),f+=d.move(n.safe(t.url,{before:f,after:t.title?" ":`
`,...d.current()}))),u(),t.title&&(u=n.enter(`title${o}`),f+=d.move(" "+i),f+=d.move(n.safe(t.title,{before:f,after:i,...d.current()})),f+=d.move(i),u()),l(),f}s(Th,"definition");function Sh(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}s(Sh,"checkEmphasis");function gt(t){return"&#x"+t.toString(16).toUpperCase()+";"}s(gt,"encodeCharacterReference");function Lr(t,e,n){let r=_r(t),i=_r(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}s(Lr,"encodeInfo");uu.peek=gv;function uu(t,e,n,r){let i=Sh(n),o=n.enter("emphasis"),l=n.createTracker(r),u=l.move(i),d=l.move(n.containerPhrasing(t,{after:i,before:u,...l.current()})),f=d.charCodeAt(0),p=Lr(r.before.charCodeAt(r.before.length-1),f,i);p.inside&&(d=gt(f)+d.slice(1));let m=d.charCodeAt(d.length-1),w=Lr(r.after.charCodeAt(0),m,i);w.inside&&(d=d.slice(0,-1)+gt(m));let y=l.move(i);return o(),n.attentionEncodeSurroundingInfo={after:w.outside,before:p.outside},u+d+y}s(uu,"emphasis");function gv(t,e,n){return n.options.emphasis||"*"}s(gv,"emphasisPeek");var Dr=s((function(t){if(t==null)return Av;if(typeof t=="function")return to(t);if(typeof t=="object")return Array.isArray(t)?yv(t):wv(t);if(typeof t=="string")return bv(t);throw new Error("Expected function, string, or object as test")}),"convert");function yv(t){let e=[],n=-1;for(;++n<t.length;)e[n]=Dr(t[n]);return to(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}s(yv,"anyFactory");function wv(t){let e=t;return to(n);function n(r){let i=r,o;for(o in t)if(i[o]!==e[o])return!1;return!0}}s(wv,"propsFactory");function bv(t){return to(e);function e(n){return n&&n.type===t}}s(bv,"typeFactory");function to(t){return e;function e(n,r,i){return!!(xv(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}s(to,"castFactory");function Av(){return!0}s(Av,"ok");function xv(t){return t!==null&&typeof t=="object"&&"type"in t}s(xv,"looksLikeANode");function Fh(t){return"\x1B[33m"+t+"\x1B[39m"}s(Fh,"color");var Ph=[],no=!0,Zn=!1,ro="skip";function cu(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;let o=Dr(i),l=r?-1:1;u(t,void 0,[])();function u(d,f,p){let m=d&&typeof d=="object"?d:{};if(typeof m.type=="string"){let y=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(w,"name",{value:"node ("+Fh(d.type+(y?"<"+y+">":""))+")"})}return w;function w(){let y=Ph,x,T,S;if((!e||o(d,f,p[p.length-1]||void 0))&&(y=kv(n(d,p)),y[0]===Zn))return y;if("children"in d&&d.children){let E=d;if(E.children&&y[0]!==ro)for(T=(r?E.children.length:-1)+l,S=p.concat(E);T>-1&&T<E.children.length;){let P=E.children[T];if(x=u(P,T,S)(),x[0]===Zn)return x;T=typeof x[1]=="number"?x[1]:T+l}}return y}}s(u,"factory")}s(cu,"visitParents");function kv(t){return Array.isArray(t)?t:typeof t=="number"?[no,t]:t==null?Ph:[t]}s(kv,"toResult");function Fi(t,e,n,r){let i,o,l;typeof e=="function"&&typeof n!="function"?(o=void 0,l=e,i=n):(o=e,l=n,i=r),cu(t,o,u,i);function u(d,f){let p=f[f.length-1],m=p?p.children.indexOf(d):void 0;return l(d,m,p)}s(u,"overload")}s(Fi,"visit");function io(t,e){let n=!1;return Fi(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Zn}),!!((!t.depth||t.depth<3)&&qn(t)&&(e.options.setext||n))}s(io,"formatHeadingAsSetext");function Ih(t,e,n,r){let i=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(io(t,n)){let p=n.enter("headingSetext"),m=n.enter("phrasing"),w=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return m(),p(),w+`
`+(i===1?"=":"-").repeat(w.length-(Math.max(w.lastIndexOf("\r"),w.lastIndexOf(`
`))+1))}let l="#".repeat(i),u=n.enter("headingAtx"),d=n.enter("phrasing");o.move(l+" ");let f=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=gt(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,n.options.closeAtx&&(f+=" "+l),d(),u(),f}s(Ih,"heading");du.peek=vv;function du(t){return t.value||""}s(du,"html");function vv(){return"<"}s(vv,"htmlPeek");fu.peek=Cv;function fu(t,e,n,r){let i=Nr(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("image"),u=n.enter("label"),d=n.createTracker(r),f=d.move("![");return f+=d.move(n.safe(t.alt,{before:f,after:"]",...d.current()})),f+=d.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(t.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(u=n.enter("destinationRaw"),f+=d.move(n.safe(t.url,{before:f,after:t.title?" ":")",...d.current()}))),u(),t.title&&(u=n.enter(`title${o}`),f+=d.move(" "+i),f+=d.move(n.safe(t.title,{before:f,after:i,...d.current()})),f+=d.move(i),u()),f+=d.move(")"),l(),f}s(fu,"image");function Cv(){return"!"}s(Cv,"imagePeek");hu.peek=Ev;function hu(t,e,n,r){let i=t.referenceType,o=n.enter("imageReference"),l=n.enter("label"),u=n.createTracker(r),d=u.move("!["),f=n.safe(t.alt,{before:d,after:"]",...u.current()});d+=u.move(f+"]["),l();let p=n.stack;n.stack=[],l=n.enter("reference");let m=n.safe(n.associationId(t),{before:d,after:"]",...u.current()});return l(),n.stack=p,o(),i==="full"||!f||f!==m?d+=u.move(m+"]"):i==="shortcut"?d=d.slice(0,-1):d+=u.move("]"),d}s(hu,"imageReference");function Ev(){return"!"}s(Ev,"imageReferencePeek");pu.peek=Tv;function pu(t,e,n){let r=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){let l=n.unsafe[o],u=n.compilePattern(l),d;if(l.atBreak)for(;d=u.exec(r);){let f=d.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(d.index+1)}}return i+r+i}s(pu,"inlineCode");function Tv(){return"`"}s(Tv,"inlineCodePeek");function mu(t,e){let n=qn(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}s(mu,"formatLinkAsAutolink");gu.peek=Sv;function gu(t,e,n,r){let i=Nr(n),o=i==='"'?"Quote":"Apostrophe",l=n.createTracker(r),u,d;if(mu(t,n)){let p=n.stack;n.stack=[],u=n.enter("autolink");let m=l.move("<");return m+=l.move(n.containerPhrasing(t,{before:m,after:">",...l.current()})),m+=l.move(">"),u(),n.stack=p,m}u=n.enter("link"),d=n.enter("label");let f=l.move("[");return f+=l.move(n.containerPhrasing(t,{before:f,after:"](",...l.current()})),f+=l.move("]("),d(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(d=n.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(n.safe(t.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(d=n.enter("destinationRaw"),f+=l.move(n.safe(t.url,{before:f,after:t.title?" ":")",...l.current()}))),d(),t.title&&(d=n.enter(`title${o}`),f+=l.move(" "+i),f+=l.move(n.safe(t.title,{before:f,after:i,...l.current()})),f+=l.move(i),d()),f+=l.move(")"),u(),f}s(gu,"link");function Sv(t,e,n){return mu(t,n)?"<":"["}s(Sv,"linkPeek");yu.peek=Fv;function yu(t,e,n,r){let i=t.referenceType,o=n.enter("linkReference"),l=n.enter("label"),u=n.createTracker(r),d=u.move("["),f=n.containerPhrasing(t,{before:d,after:"]",...u.current()});d+=u.move(f+"]["),l();let p=n.stack;n.stack=[],l=n.enter("reference");let m=n.safe(n.associationId(t),{before:d,after:"]",...u.current()});return l(),n.stack=p,o(),i==="full"||!f||f!==m?d+=u.move(m+"]"):i==="shortcut"?d=d.slice(0,-1):d+=u.move("]"),d}s(yu,"linkReference");function Fv(){return"["}s(Fv,"linkReferencePeek");function $r(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}s($r,"checkBullet");function Oh(t){let e=$r(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}s(Oh,"checkBulletOther");function _h(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}s(_h,"checkBulletOrdered");function so(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}s(so,"checkRule");function Rh(t,e,n,r){let i=n.enter("list"),o=n.bulletCurrent,l=t.ordered?_h(n):$r(n),u=t.ordered?l==="."?")":".":Oh(n),d=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){let p=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),so(n)===l&&p){let m=-1;for(;++m<t.children.length;){let w=t.children[m];if(w&&w.type==="listItem"&&w.children&&w.children[0]&&w.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(l=u),n.bulletCurrent=l;let f=n.containerFlow(t,r);return n.bulletLastUsed=l,n.bulletCurrent=o,i(),f}s(Rh,"list");function Mh(t){let e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}s(Mh,"checkListItemIndent");function Nh(t,e,n,r){let i=Mh(n),o=n.bulletCurrent||$r(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let l=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);let u=n.createTracker(r);u.move(o+" ".repeat(l-o.length)),u.shift(l);let d=n.enter("listItem"),f=n.indentLines(n.containerFlow(t,u.current()),p);return d(),f;function p(m,w,y){return w?(y?"":" ".repeat(l))+m:(y?o:o+" ".repeat(l-o.length))+m}s(p,"map")}s(Nh,"listItem");function Lh(t,e,n,r){let i=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(t,r);return o(),i(),l}s(Lh,"paragraph");var wu=Dr(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Dh(t,e,n,r){return(t.children.some(function(l){return wu(l)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}s(Dh,"root");function $h(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}s($h,"checkStrong");bu.peek=Pv;function bu(t,e,n,r){let i=$h(n),o=n.enter("strong"),l=n.createTracker(r),u=l.move(i+i),d=l.move(n.containerPhrasing(t,{after:i,before:u,...l.current()})),f=d.charCodeAt(0),p=Lr(r.before.charCodeAt(r.before.length-1),f,i);p.inside&&(d=gt(f)+d.slice(1));let m=d.charCodeAt(d.length-1),w=Lr(r.after.charCodeAt(0),m,i);w.inside&&(d=d.slice(0,-1)+gt(m));let y=l.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:w.outside,before:p.outside},u+d+y}s(bu,"strong");function Pv(t,e,n){return n.options.strong||"*"}s(Pv,"strongPeek");function Bh(t,e,n,r){return n.safe(t.value,r)}s(Bh,"text");function Vh(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}s(Vh,"checkRuleRepetition");function Uh(t,e,n){let r=(so(n)+(n.options.ruleSpaces?" ":"")).repeat(Vh(n));return n.options.ruleSpaces?r.slice(0,-1):r}s(Uh,"thematicBreak");var Wh={blockquote:xh,break:lu,code:Eh,definition:Th,emphasis:uu,hardBreak:lu,heading:Ih,html:du,image:fu,imageReference:hu,inlineCode:pu,link:gu,linkReference:yu,list:Rh,listItem:Nh,paragraph:Lh,root:Dh,strong:bu,text:Bh,thematicBreak:Uh};var Yh=[Iv];function Iv(t,e,n,r){if(e.type==="code"&&Si(e,r)&&(t.type==="list"||t.type===e.type&&Si(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&io(e,r))?void 0:n.spread?1:0}s(Iv,"joinDefaults");var Qn=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],zh=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Qn},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Qn},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Qn},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Qn},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Qn},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Qn},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Qn},{atBreak:!0,character:"~"}];function Hh(t){return t.label||!t.identifier?t.label||"":Qs(t.identifier)}s(Hh,"association");function jh(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}s(jh,"compilePattern");function Gh(t,e,n){let r=e.indexStack,i=t.children||[],o=[],l=-1,u=n.before,d;r.push(-1);let f=e.createTracker(n);for(;++l<i.length;){let p=i[l],m;if(r[r.length-1]=l,l+1<i.length){let x=e.handle.handlers[i[l+1].type];x&&x.peek&&(x=x.peek),m=x?x(i[l+1],t,e,{before:"",after:"",...f.current()}).charAt(0):""}else m=n.after;o.length>0&&(u==="\r"||u===`
`)&&p.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),u=" ",f=e.createTracker(n),f.move(o.join("")));let w=e.handle(p,t,e,{...f.current(),after:m,before:u});d&&d===w.slice(0,1)&&(w=gt(d.charCodeAt(0))+w.slice(1));let y=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,d=void 0,y&&(o.length>0&&y.before&&u===o[o.length-1].slice(-1)&&(o[o.length-1]=o[o.length-1].slice(0,-1)+gt(u.charCodeAt(0))),y.after&&(d=m)),f.move(w),o.push(w),u=w.slice(-1)}return r.pop(),o.join("")}s(Gh,"containerPhrasing");function qh(t,e,n){let r=e.indexStack,i=t.children||[],o=e.createTracker(n),l=[],u=-1;for(r.push(-1);++u<i.length;){let d=i[u];r[r.length-1]=u,l.push(o.move(e.handle(d,t,e,{before:`
`,after:`
`,...o.current()}))),d.type!=="list"&&(e.bulletLastUsed=void 0),u<i.length-1&&l.push(o.move(Ov(d,i[u+1],t,e)))}return r.pop(),l.join("")}s(qh,"containerFlow");function Ov(t,e,n,r){let i=r.join.length;for(;i--;){let o=r.join[i](t,e,n,r);if(o===!0||o===1)break;if(typeof o=="number")return`
`.repeat(1+o);if(o===!1)return`

<!---->

`}return`

`}s(Ov,"between");var _v=/\r?\n|\r/g;function Kh(t,e){let n=[],r=0,i=0,o;for(;o=_v.exec(t);)l(t.slice(r,o.index)),n.push(o[0]),r=o.index+o[0].length,i++;return l(t.slice(r)),n.join("");function l(u){n.push(e(u,i,!u))}s(l,"one")}s(Kh,"indentLines");function Xh(t,e,n){let r=(n.before||"")+(e||"")+(n.after||""),i=[],o=[],l={},u=-1;for(;++u<t.unsafe.length;){let p=t.unsafe[u];if(!eo(t.stack,p))continue;let m=t.compilePattern(p),w;for(;w=m.exec(r);){let y="before"in p||!!p.atBreak,x="after"in p,T=w.index+(y?w[1].length:0);i.includes(T)?(l[T].before&&!y&&(l[T].before=!1),l[T].after&&!x&&(l[T].after=!1)):(i.push(T),l[T]={before:y,after:x})}}i.sort(Rv);let d=n.before?n.before.length:0,f=r.length-(n.after?n.after.length:0);for(u=-1;++u<i.length;){let p=i[u];p<d||p>=f||p+1<f&&i[u+1]===p+1&&l[p].after&&!l[p+1].before&&!l[p+1].after||i[u-1]===p-1&&l[p].before&&!l[p-1].before&&!l[p-1].after||(d!==p&&o.push(Jh(r.slice(d,p),"\\")),d=p,/[!-/:-@[-`{-~]/.test(r.charAt(p))&&(!n.encode||!n.encode.includes(r.charAt(p)))?o.push("\\"):(o.push(gt(r.charCodeAt(p))),d++))}return o.push(Jh(r.slice(d,f),n.after)),o.join("")}s(Xh,"safe");function Rv(t,e){return t-e}s(Rv,"numerical");function Jh(t,e){let n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=t+e,l=-1,u=0,d;for(;d=n.exec(o);)r.push(d.index);for(;++l<r.length;)u!==r[l]&&i.push(t.slice(u,r[l])),i.push("\\"),u=r[l];return i.push(t.slice(u)),i.join("")}s(Jh,"escapeBackslashes");function Zh(t){let e=t||{},n=e.now||{},r=e.lineShift||0,i=n.line||1,o=n.column||1;return{move:d,current:l,shift:u};function l(){return{now:{line:i,column:o},lineShift:r}}function u(f){r+=f}function d(f){let p=f||"",m=p.split(/\r?\n|\r/g),w=m[m.length-1];return i+=m.length-1,o=m.length===1?o+w.length:1+w.length+r,p}}s(Zh,"track");function Au(t,e){let n=e||{},r={associationId:Hh,containerPhrasing:Dv,containerFlow:$v,createTracker:Zh,compilePattern:jh,enter:o,handlers:{...Wh},handle:void 0,indentLines:Kh,indexStack:[],join:[...Yh],options:{},safe:Bv,stack:[],unsafe:[...zh]};au(r,n),r.options.tightDefinitions&&r.join.push(Lv),r.handle=bh("type",{invalid:Mv,unknown:Nv,handlers:r.handlers});let i=r.handle(t,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function o(l){return r.stack.push(l),u;function u(){r.stack.pop()}s(u,"exit")}s(o,"enter")}s(Au,"toMarkdown");function Mv(t){throw new Error("Cannot handle value `"+t+"`, expected node")}s(Mv,"invalid");function Nv(t){let e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}s(Nv,"unknown");function Lv(t,e){if(t.type==="definition"&&t.type===e.type)return 0}s(Lv,"joinDefinition");function Dv(t,e){return Gh(t,this,e)}s(Dv,"containerPhrasingBound");function $v(t,e){return qh(t,this,e)}s($v,"containerFlowBound");function Bv(t,e){return Xh(this,t,e)}s(Bv,"safeBound");function oo(t){let e=this;e.compiler=n;function n(r){return Au(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}s(n,"compiler")}s(oo,"remarkStringify");function xu(t){if(t)throw t}s(xu,"bail");var co=Ve(ap(),1);function Pi(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}s(Pi,"isPlainObject");function ku(){let t=[],e={run:n,use:r};return e;function n(...i){let o=-1,l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...i);function u(d,...f){let p=t[++o],m=-1;if(d){l(d);return}for(;++m<i.length;)(f[m]===null||f[m]===void 0)&&(f[m]=i[m]);i=f,p?lp(p,u)(...f):l(null,...f)}s(u,"next")}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}s(ku,"trough");function lp(t,e){let n;return r;function r(...l){let u=t.length>l.length,d;u&&l.push(i);try{d=t.apply(this,l)}catch(f){let p=f;if(u&&n)throw p;return i(p)}u||(d&&d.then&&typeof d.then=="function"?d.then(o,i):d instanceof Error?i(d):o(d))}function i(l,...u){n||(n=!0,e(l,...u))}function o(l){i(null,l)}}s(lp,"wrap");var $e=class extends Error{static{s(this,"VFileMessage")}constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(l=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){let d=r.indexOf(":");d===-1?o.ruleId=r:(o.source=r.slice(0,d),o.ruleId=r.slice(d+1))}if(!o.place&&o.ancestors&&o.ancestors){let d=o.ancestors[o.ancestors.length-1];d&&(o.place=d.position)}let u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=In(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}};$e.prototype.file="";$e.prototype.name="";$e.prototype.reason="";$e.prototype.message="";$e.prototype.stack="";$e.prototype.column=void 0;$e.prototype.line=void 0;$e.prototype.ancestors=void 0;$e.prototype.cause=void 0;$e.prototype.fatal=void 0;$e.prototype.place=void 0;$e.prototype.ruleId=void 0;$e.prototype.source=void 0;var Et=Ve(require("node:path"),1);var vu=Ve(require("node:process"),1);var Cu=require("node:url");function lo(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}s(lo,"isUrl");var Eu=["history","path","basename","stem","extname","dirname"],Ii=class{static{s(this,"VFile")}constructor(e){let n;e?lo(e)?n={path:e}:typeof e=="string"||Vv(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":vu.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Eu.length;){let o=Eu[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)Eu.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Et.default.basename(this.path):void 0}set basename(e){Su(e,"basename"),Tu(e,"basename"),this.path=Et.default.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Et.default.dirname(this.path):void 0}set dirname(e){up(this.basename,"dirname"),this.path=Et.default.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Et.default.extname(this.path):void 0}set extname(e){if(Tu(e,"extname"),up(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Et.default.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){lo(e)&&(e=(0,Cu.fileURLToPath)(e)),Su(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Et.default.basename(this.path,this.extname):void 0}set stem(e){Su(e,"stem"),Tu(e,"stem"),this.path=Et.default.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){let i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){let i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){let i=new $e(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function Tu(t,e){if(t&&t.includes(Et.default.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Et.default.sep+"`")}s(Tu,"assertPart");function Su(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}s(Su,"assertNonEmpty");function up(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}s(up,"assertPath");function Vv(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}s(Vv,"isUint8Array");var cp=s((function(t){let r=this.constructor.prototype,i=r[t],o=s(function(){return i.apply(o,arguments)},"apply");return Object.setPrototypeOf(o,r),o}),"CallableInstance");var Uv={}.hasOwnProperty,Ou=class t extends cp{static{s(this,"Processor")}constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ku()}copy(){let e=new t,n=-1;for(;++n<this.attachers.length;){let r=this.attachers[n];e.use(...r)}return e.data((0,co.default)(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Iu("data",this.frozen),this.namespace[e]=n,this):Uv.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Iu("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);let i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let n=uo(e),r=this.parser||this.Parser;return Fu("parse",r),r(String(n),n)}process(e,n){let r=this;return this.freeze(),Fu("process",this.parser||this.Parser),Pu("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){let u=uo(e),d=r.parse(u);r.run(d,u,function(p,m,w){if(p||!m||!w)return f(p);let y=m,x=r.stringify(y,w);Yv(x)?w.value=x:w.result=x,f(p,w)});function f(p,m){p||!m?l(p):o?o(m):n(void 0,m)}s(f,"realDone")}s(i,"executor")}processSync(e){let n=!1,r;return this.freeze(),Fu("processSync",this.parser||this.Parser),Pu("processSync",this.compiler||this.Compiler),this.process(e,i),fp("processSync","process",n),r;function i(o,l){n=!0,xu(o),r=l}s(i,"realDone")}run(e,n,r){dp(e),this.freeze();let i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,u){let d=uo(n);i.run(e,d,f);function f(p,m,w){let y=m||e;p?u(p):l?l(y):r(void 0,y,w)}s(f,"realDone")}s(o,"executor")}runSync(e,n){let r=!1,i;return this.run(e,n,o),fp("runSync","run",r),i;function o(l,u){xu(l),i=u,r=!0}s(o,"realDone")}stringify(e,n){this.freeze();let r=uo(n),i=this.compiler||this.Compiler;return Pu("stringify",i),dp(e),i(e,r)}use(e,...n){let r=this.attachers,i=this.namespace;if(Iu("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){let[p,...m]=f;d(p,m)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(i.settings=(0,co.default)(!0,i.settings,f.settings))}function u(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){let m=f[p];o(m)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,p){let m=-1,w=-1;for(;++m<r.length;)if(r[m][0]===f){w=m;break}if(w===-1)r.push([f,...p]);else if(p.length>0){let[y,...x]=p,T=r[w][1];Pi(T)&&Pi(y)&&(y=(0,co.default)(!0,T,y)),r[w]=[f,y,...x]}}}},_u=new Ou().freeze();function Fu(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}s(Fu,"assertParser");function Pu(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}s(Pu,"assertCompiler");function Iu(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}s(Iu,"assertUnfrozen");function dp(t){if(!Pi(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}s(dp,"assertNode");function fp(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}s(fp,"assertDone");function uo(t){return Wv(t)?t:new Ii(t)}s(uo,"vfile");function Wv(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}s(Wv,"looksLikeAVFile");function Yv(t){return typeof t=="string"||zv(t)}s(Yv,"looksLikeAValue");function zv(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}s(zv,"isUint8Array");var hp=_u().use(Mr).use(oo).freeze();var Mu={d:s((t,e)=>{for(var n in e)Mu.o(e,n)&&!Mu.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},"d"),o:s((t,e)=>Object.prototype.hasOwnProperty.call(t,e),"o")},Nu={};Mu.d(Nu,{Z:s(()=>qv,"Z"),$:s(()=>yp,"$")});var Br={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function pp(t){return t<Br.nul||t===Br.space}s(pp,"n");function Ru(t){return t<Br.horizontalTab}s(Ru,"i");var Hv={553:t=>{t.exports=function(e){var n,r;return e._compiled||(n=e.before?"(?:"+e.before+")":"",r=e.after?"(?:"+e.after+")":"",e.atBreak&&(n="[\\r\\n][\\t ]*"+n),e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(r||""),"g")),e._compiled}},112:t=>{function e(n,r,i){var o;if(!r)return i;for(typeof r=="string"&&(r=[r]),o=-1;++o<r.length;)if(n.indexOf(r[o])!==-1)return!0;return!1}s(e,"t"),t.exports=function(n,r){return e(n,r.inConstruct,!0)&&!e(n,r.notInConstruct)}},113:(t,e,n)=>{t.exports=function(u,d,f){for(var p,m,w,y,x,T,S,E,P=(f.before||"")+(d||"")+(f.after||""),_=[],L=[],z={},F=-1;++F<u.unsafe.length;)if(y=u.unsafe[F],i(u.stack,y))for(x=r(y);T=x.exec(P);)p="before"in y||y.atBreak,m="after"in y,w=T.index+(p?T[1].length:0),_.indexOf(w)===-1?(_.push(w),z[w]={before:p,after:m}):(z[w].before&&!p&&(z[w].before=!1),z[w].after&&!m&&(z[w].after=!1));for(_.sort(o),S=f.before?f.before.length:0,E=P.length-(f.after?f.after.length:0),F=-1;++F<_.length;)(w=_[F])<S||w>=E||w+1<E&&_[F+1]===w+1&&z[w].after&&!z[w+1].before&&!z[w+1].after||(S!==w&&L.push(l(P.slice(S,w),"\\")),S=w,!/[!-/:-@[-`{-~]/.test(P.charAt(w))||f.encode&&f.encode.indexOf(P.charAt(w))!==-1?(L.push("&#x"+P.charCodeAt(w).toString(16).toUpperCase()+";"),S++):L.push("\\"));return L.push(l(P.slice(S,E),f.after)),L.join("")};var r=n(553),i=n(112);function o(u,d){return u-d}s(o,"a");function l(u,d){for(var f,p=/\\(?=[!-/:-@[-`{-~])/g,m=[],w=[],y=-1,x=0,T=u+d;f=p.exec(T);)m.push(f.index);for(;++y<m.length;)x!==m[y]&&w.push(u.slice(x,m[y])),w.push("\\"),x=m[y];return w.push(u.slice(x)),w.join("")}s(l,"o")}},mp={};function qt(t){var e=mp[t];if(e!==void 0)return e.exports;var n=mp[t]={exports:{}};return Hv[t](n,n.exports,qt),n.exports}s(qt,"s");qt.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return qt.d(e,{a:e}),e},qt.d=(t,e)=>{for(var n in e)qt.o(e,n)&&!qt.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},qt.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Lu={};(()=>{function t(i={}){let o=i.permalinks||[],l=i.pageResolver||(w=>[w.replace(/ /g,"_").toLowerCase()]),u=i.newClassName||"new",d=i.wikiLinkClassName||"internal",f=i.hrefTemplate||(w=>`#/page/${w}`),p;function m(w){return w[w.length-1]}return s(m,"s"),{enter:{wikiLink:s(function(w){p={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(p,w)},"wikiLink")},exit:{wikiLinkTarget:s(function(w){let y=this.sliceSerialize(w);m(this.stack).value=y},"wikiLinkTarget"),wikiLinkAlias:s(function(w){let y=this.sliceSerialize(w);m(this.stack).data.alias=y},"wikiLinkAlias"),wikiLink:s(function(w){this.exit(w);let y=p,x=l(y.value),T=x.find((L=>o.indexOf(L)!==-1)),S=T!==void 0,E;E=S?T:x[0]||"";let P=y.value;y.data.alias&&(P=y.data.alias);let _=d;S||(_+=" "+u),y.data.alias=P,y.data.permalink=E,y.data.exists=S,y.data.hName="a",y.data.hProperties={className:_,href:f(E)},y.data.hChildren=[{type:"text",value:P}]},"wikiLink")}}}s(t,"e"),qt.d(Lu,{V:s(()=>t,"V"),x:s(()=>r,"x")});var e=qt(113),n=qt.n(e);function r(i={}){let o=i.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:s(function(l,u,d){let f=d.enter("wikiLink"),p=n()(d,l.value,{before:"[",after:"]"}),m=n()(d,l.data.alias,{before:"[",after:"]"}),w;return w=m!==p?`[[${p}${o}${m}]]`:`[[${p}]]`,f(),w},"wikiLink")}}}s(r,"n")})();var jv=Lu.V,Gv=Lu.x,gp=!1;function yp(t={}){let e=this.data();function n(r,i){e[r]?e[r].push(i):e[r]=[i]}s(n,"a"),!gp&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(gp=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",(function(){var r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",i="]]";return{text:{91:{tokenize:s(function(o,l,u){var d,f,p=0,m=0,w=0;return function(P){return P!=="[[".charCodeAt(m)?u(P):(o.enter("wikiLink"),o.enter("wikiLinkMarker"),y(P))};function y(P){return m===2?(o.exit("wikiLinkMarker"),(function(_){return Ru(_)||_===Br.eof?u(_):(o.enter("wikiLinkData"),o.enter("wikiLinkTarget"),x(_))})(P)):P!=="[[".charCodeAt(m)?u(P):(o.consume(P),m++,y)}function x(P){return P===r.charCodeAt(p)?d?(o.exit("wikiLinkTarget"),o.enter("wikiLinkAliasMarker"),T(P)):u(P):P===i.charCodeAt(w)?d?(o.exit("wikiLinkTarget"),o.exit("wikiLinkData"),o.enter("wikiLinkMarker"),E(P)):u(P):Ru(P)||P===Br.eof?u(P):(pp(P)||(d=!0),o.consume(P),x)}function T(P){return p===r.length?(o.exit("wikiLinkAliasMarker"),o.enter("wikiLinkAlias"),S(P)):P!==r.charCodeAt(p)?u(P):(o.consume(P),p++,T)}function S(P){return P===i.charCodeAt(w)?f?(o.exit("wikiLinkAlias"),o.exit("wikiLinkData"),o.enter("wikiLinkMarker"),E(P)):u(P):Ru(P)||P===Br.eof?u(P):(pp(P)||(f=!0),o.consume(P),S)}function E(P){return w===2?(o.exit("wikiLinkMarker"),o.exit("wikiLink"),l(P)):P!==i.charCodeAt(w)?u(P):(o.consume(P),w++,E)}},"tokenize")}}}})(t)),n("fromMarkdownExtensions",jv(t)),n("toMarkdownExtensions",Gv(t))}s(yp,"k");var qv=yp,sD=Nu.Z,wp=Nu.$;s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Kv=/^[A-Za-z][A-Za-z0-9+\-.]*:\S+$/;function Du(t){if(/\s/.test(t))return!1;if(t.includes("://"))try{return new URL(t),!0}catch{return!1}return Kv.test(t)}s(Du,"isUrl");var er=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function fo(t){let e=(0,er.getFrontMatterInfo)(t);return(0,er.parseYaml)(e.frontmatter)??{}}s(fo,"parseFrontmatter");function bp(t,e){let n=(0,er.getFrontMatterInfo)(t);if(Object.keys(e).length===0)return t.slice(n.contentStart);let r=(0,er.stringifyYaml)(e);return n.exists?rf(t,r,n.from,n.to):`---
${r}---
${t}`}s(bp,"setFrontmatter");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function yt(t){if(!pt(t))return!1;let e=t;return e.startOffset!==void 0&&e.endOffset!==void 0}s(yt,"isFrontmatterLinkCacheWithOffsets");function ho(t){return yt(t)?t:{...t,endOffset:t.original.length,startOffset:0}}s(ho,"toFrontmatterLinkCacheWithOffsets");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Ap(t){return $u(t)&&t.type==="file"}s(Ap,"isCanvasFileNodeReference");function $u(t){return pt(t)&&!!t.isCanvas}s($u,"isCanvasReference");function Vr(t,e){return{newContent:e,oldContent:t.original,reference:t}}s(Vr,"referenceToFileChange");function xp(t){return t.sort((e,n)=>{if(pt(e)&&pt(n)){let r=yt(e)?e.startOffset:0,i=yt(n)?n.startOffset:0;return e.key.localeCompare(n.key)||Number(yt(n))-Number(yt(e))||r-i}return hn(e)&&hn(n)?e.position.start.offset-n.position.start.offset:pt(e)?1:-1})}s(xp,"sortReferences");var kp=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function vp(t,e,n){let r=Ye(t,e),i=vt(n);await po(t,i);let o=Cp(t,n);try{await t.vault.copy(r,o)}catch(l){if(!await t.vault.exists(o))throw l}return o}s(vp,"copySafe");async function po(t,e){if(await t.vault.adapter.exists(e))return!1;try{return await t.vault.createFolder(e),!0}catch(n){if(!await t.vault.exists(e))throw n;return!0}}s(po,"createFolderSafe");function Cp(t,e){let n=We(e);return t.vault.getAvailablePath(Fe(we(e),Se(e,n)),n.slice(1))}s(Cp,"getAvailablePath");function Bu(t,e,n){let r=Ae(t,e);if(t.vault.adapter.insensitive){let i=we(n),o=Se(n),l;for(;l=Ht(t,i,!0),!l;)o=Fe(Se(i),o),i=we(i);n=Fe(l.getParentPrefix(),o)}return r.toLowerCase()===n.toLowerCase()?n:Cp(t,n)}s(Bu,"getSafeRenamePath");async function Vu(t,e){let n=await Uu(t,Ae(t,e));return n.files.length===0&&n.folders.length===0}s(Vu,"isEmptyFolder");async function Uu(t,e){let n=Ae(t,e),r={files:[],folders:[]};if((await t.vault.adapter.stat(n))?.type!=="folder")return r;try{return await t.vault.adapter.list(n)}catch(i){if(await t.vault.exists(n))throw i;return r}}s(Uu,"listSafe");async function mo(t,e,n,r={}){let o={...{shouldFailOnMissingFile:!0},...r};await Ps(async l=>{l.throwIfAborted();let u=await Wu(t,e);if(l.throwIfAborted(),u===null)return m();let d=await jn(n,l,u);if(l.throwIfAborted(),d===null)return!1;let f=!0;if(!await Ep(t,e,async w=>{l.throwIfAborted(),await t.vault.process(w,y=>(l.throwIfAborted(),y!==u?(console.warn("Content has changed since it was read. Retrying...",{actualContent:y,expectedContent:u,path:w.path}),f=!1,y):d)),l.throwIfAborted()}))return m();return f;function m(){if(o.shouldFailOnMissingFile){let w=Ae(t,e);throw new Error(`File '${w}' not found`)}return!0}},o)}s(mo,"process");async function Wu(t,e){let n=null;return await Ep(t,e,async r=>{n=await t.vault.read(r)}),n}s(Wu,"readSafe");async function go(t,e,n){let r=Ye(t,e,!1,!0),i=Bu(t,e,n);if(r.path.toLowerCase()===i.toLowerCase())return r.path!==n&&await t.vault.rename(r,i),i;let o=vt(i);await po(t,o);try{await t.vault.rename(r,i)}catch(l){if(!await t.vault.exists(i)||await t.vault.exists(r.path))throw l}return i}s(go,"renameSafe");async function Yu(t,e){if(!gn(t,e))return;let n=Ae(t,e);for(let r of t.workspace.getLeavesOfType(mi.Markdown))r.view instanceof kp.MarkdownView&&r.view.file?.path===n&&r.view.dirty&&await r.view.save()}s(Yu,"saveNote");async function Ep(t,e,n){let r=Ae(t,e),i=Me(t,r);if(!i||i.deleted)return!1;try{return await n(i),!0}catch(o){if(i=Me(t,r),!i||i.deleted)return!1;throw o}}s(Ep,"invokeFileActionSafe");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function bo(t,e,n,r,i=!0){t.throwIfAborted();let o=await jn(r,t,e);if(t.throwIfAborted(),o===null)return null;let{frontmatter:l,hasFrontmatterError:u}=rC(e,n);if(!aC(o,e,l,n,i))return i?null:e;if(o=sC(o),!oC(o))return null;let{frontmatterChanged:d,newContent:f}=eC(o,e,u,n);return await tC(t,l,d,n),t.throwIfAborted(),nC(f,l,d)}s(bo,"applyContentChanges");async function Ao(t,e,n,r={},i=!0){await mo(t,e,async(o,l)=>mn(t,e)?await Qv(o,l,Ae(t,e),n,i):await bo(o,l,Ae(t,e),n,i),r)}s(Ao,"applyFileChanges");function Oi(t){return $u(t.reference)}s(Oi,"isCanvasChange");function Jv(t){return Oi(t)&&t.reference.type==="file"}s(Jv,"isCanvasFileNodeChange");function Xv(t){return Oi(t)&&t.reference.type==="text"}s(Xv,"isCanvasTextNodeChange");function wn(t){return hn(t.reference)}s(wn,"isContentChange");function yo(t){return pt(t.reference)}s(yo,"isFrontmatterChange");function wo(t){return yt(t.reference)}s(wo,"isFrontmatterChangeWithOffsets");function Zv(t){return wo(t)?t:{...t,reference:ho(t.reference)}}s(Zv,"toFrontmatterChangeWithOffsets");async function Qv(t,e,n,r,i=!0){let o=await jn(r,t,e);if(t.throwIfAborted(),o===null)return null;let l=iC(e),u=new Map;for(let d of o){if(!Oi(d))return console.warn("Only canvas changes are supported for canvas files",{change:d,path:n}),null;let f=l.nodes[d.reference.nodeIndex];if(!f)return console.warn("Node not found",{nodeIndex:d.reference.nodeIndex,path:n}),null;if(Jv(d)){if(f.file!==d.oldContent)return console.warn("Content mismatch",{actualContent:f.file,expectedContent:d.oldContent,nodeIndex:d.reference.nodeIndex,path:n,type:"file"}),null;f.file=d.newContent}else if(Xv(d)){let p=u.get(d.reference.nodeIndex);p||(p=[],u.set(d.reference.nodeIndex,p)),p.push(d)}}for(let[d,f]of u.entries()){let p=l.nodes[d];if(!p)return console.warn("Node not found",{nodeIndex:d,path:n}),null;if(typeof p.text!="string")return console.warn("Node text is not a string",{nodeIndex:d,path:n}),null;let m=f.map(w=>Vr(w.reference.originalReference,w.newContent));p.text=await bo(t,p.text,`${n}.node${String(d)}.VIRTUAL_FILE.md`,m,i)}return JSON.stringify(l,null,"	")}s(Qv,"applyCanvasChanges");function eC(t,e,n,r){let i="",o=0,l=new Map;for(let u of t)if(wn(u))i+=e.slice(o,u.reference.position.start.offset),i+=u.newContent,o=u.reference.position.end.offset;else if(yo(u))if(n)console.error(`Cannot apply frontmatter change in ${r}, because frontmatter parsing failed`,{change:u});else{let d=l.get(u.reference.key);d||(d=[],l.set(u.reference.key,d)),d.push(Zv(u))}return i+=e.slice(o),{frontmatterChanged:l,newContent:i}}s(eC,"applyContentChangesToText");async function tC(t,e,n,r){for(let[i,o]of n.entries()){let l=Tn(e,i);if(typeof l!="string")return;let u=o.map(f=>({newContent:f.newContent,oldContent:f.oldContent,reference:{link:"",original:"",position:{end:{col:f.reference.endOffset,line:0,offset:f.reference.endOffset},start:{col:f.reference.startOffset,line:0,offset:f.reference.startOffset}}}})),d=await bo(t,l,`${r}.frontmatter.${i}.VIRTUAL_FILE.md`,u);if(d===null)return;uf(e,i,d)}}s(tC,"applyFrontmatterChangesWithOffsets");function nC(t,e,n){return n.size>0?bp(t,e):t}s(nC,"buildFinalContent");function rC(t,e){let n={},r=!1;try{n=fo(t)}catch(i){console.error(new Error(`Frontmatter parsing failed in ${e}`,{cause:i})),r=!0}return{frontmatter:n,hasFrontmatterError:r}}s(rC,"parseFrontmatterSafely");function iC(t){let e;try{e=JSON.parse(t)}catch{e=null}return(e===null||typeof e!="object")&&(e={}),e}s(iC,"parseJsonSafe");function sC(t){return t.sort((e,n)=>wn(e)&&wn(n)?e.reference.position.start.offset-n.reference.position.start.offset:wo(e)&&wo(n)?e.reference.key.localeCompare(n.reference.key)||e.reference.startOffset-n.reference.startOffset:yo(e)&&yo(n)?e.reference.key.localeCompare(n.reference.key):wn(e)?-1:1),t.filter((e,n)=>e.oldContent===e.newContent?!1:n===0?!0:!xt(e,t[n-1]))}s(sC,"sortAndFilterChanges");function oC(t){for(let e=1;e<t.length;e++){let n=t[e];if(!n)continue;let r=t[e-1];if(r&&wn(r)&&wn(n)&&r.reference.position.end.offset&&r.reference.position.end.offset>n.reference.position.start.offset)return console.warn("Overlapping changes",{change:n,previousChange:r}),!1}return!0}s(oC,"validateChangeOverlaps");function aC(t,e,n,r,i){let o=Ar("FileChange:validateChanges"),l=i?console.warn.bind(console):o;for(let u of t)if(wn(u)){let d=u.reference.position.start.offset,f=u.reference.position.end.offset,p=e.slice(d,f);if(p!==u.oldContent)return l("Content mismatch",{actualContent:p,endOffset:f,expectedContent:u.oldContent,path:r,startOffset:d}),!1}else if(wo(u)){let d=Tn(n,u.reference.key);if(typeof d!="string")return l("Property value is not a string",{frontmatterKey:u.reference.key,path:r,propertyValue:d}),!1;let f=d.slice(u.reference.startOffset,u.reference.endOffset);if(f!==u.oldContent)return l("Content mismatch",{actualContent:f,expectedContent:u.oldContent,frontmatterKey:u.reference.key,path:r,startOffset:u.reference.startOffset}),!1}else if(yo(u)){let d=Tn(n,u.reference.key);if(d!==u.oldContent)return l("Content mismatch",{actualContent:d,expectedContent:u.oldContent,frontmatterKey:u.reference.key,path:r}),!1}return!0}s(aC,"validateChanges");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Tp(t){await new Promise(e=>{t.metadataCache.onCleanCache(e)})}s(Tp,"ensureMetadataCacheReady");function _n(t){let e=[];return t.links&&e.push(...t.links),t.embeds&&e.push(...t.embeds),t.frontmatterLinks&&e.push(...t.frontmatterLinks),xp(e),e=e.filter((n,r)=>{if(r===0)return!0;let i=e[r-1];if(!i)return!0;if(hn(n)&&hn(i))return n.position.start.offset!==i.position.start.offset;if(pt(n)&&pt(i)){let o=yt(n)?n.startOffset:0,l=yt(i)?i.startOffset:0;return n.key!==i.key||yt(n)!==yt(i)||o!==l}return!0}),e}s(_n,"getAllLinks");function zu(t,e){let n=Ye(t,e,!0);return _i(t,[n],()=>t.metadataCache.getBacklinksForFile(n))}s(zu,"getBacklinksForFileOrPath");async function bn(t,e,n={}){let r=t.metadataCache.getBacklinksForFile.safe;if(r)return r(e);let i=new cf;return await Ps(async o=>{o.throwIfAborted();let l=Ye(t,e);await Tp(t),o.throwIfAborted(),i=zu(t,l);for(let u of i.keys()){o.throwIfAborted();let d=Me(t,u);if(!d)return!1;await Yu(t,d),o.throwIfAborted();let f=await Wu(t,d);if(o.throwIfAborted(),!f)return!1;let p=fo(f),m=i.get(u);if(!m)return!1;for(let w of m){let y;if(hn(w))y=f.slice(w.position.start.offset,w.position.end.offset);else if(pt(w)){let x=Tn(p,w.key);if(typeof x!="string")return!1;let T=ho(w);y=x.slice(T.startOffset,T.endOffset)}else return!0;if(y!==w.original)return!1}}return!0},n),i}s(bn,"getBacklinksForFileSafe");async function Ur(t,e){let n=Me(t,e);try{if(!n||n.deleted)return null;await Yu(t,n);let r=t.metadataCache.fileCache[n.path];return r&&r.mtime===n.stat.mtime&&r.size===n.stat.size&&t.metadataCache.metadataCache[r.hash]||(await t.metadataCache.computeFileMetadataAsync(n),await Tp(t)),t.metadataCache.getFileCache(n)}catch(r){if(!n||n.deleted)return null;throw r}}s(Ur,"getCacheSafe");function lC(t,e){let n=new Set;for(let r of e){if(!r.deleted)continue;let i=r;for(;i.deleted;)n.add(i.path),t.vault.fileMap[i.path]=i,i=i.parent??gi(t,vt(i.path),!0);Ct(r)&&t.metadataCache.uniqueFileLookup.add(r.name.toLowerCase(),r)}return()=>{for(let r of n)delete t.vault.fileMap[r];for(let r of e)r.deleted&&Ct(r)&&t.metadataCache.uniqueFileLookup.remove(r.name.toLowerCase(),r)}}s(lC,"registerFiles");function _i(t,e,n){let r=lC(t,e);try{return n()}finally{r()}}s(_i,"tempRegisterFilesAndRun");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Sp(t){return t.vault.getConfig("newLinkFormat")==="relative"}s(Sp,"shouldUseRelativeLinks");function Hu(t){return!t.vault.getConfig("useMarkdownLinks")}s(Hu,"shouldUseWikilinks");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var uC="\\|",cC=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,dC=/[\\[\]<>_*~=`$]/g,Ip=/(?<!\\)\|/g,Op="|",ju=(t=>(t.Markdown="Markdown",t.ObsidianSettingsDefault="ObsidianSettingsDefault",t.PreserveExisting="PreserveExisting",t.Wikilink="Wikilink",t))(ju||{});function fC(t){let e=Wr(t.app,t.link,t.oldSourcePathOrFile??t.newSourcePathOrFile);return e?Ni({app:t.app,link:t.link,linkStyle:t.linkStyle,newSourcePathOrFile:t.newSourcePathOrFile,newTargetPathOrFile:e,oldSourcePathOrFile:t.oldSourcePathOrFile,shouldUpdateFileNameAlias:t.shouldUpdateFileNameAlias}):t.link.original}s(fC,"convertLink");async function Gu(t,e,n,r={}){await Ao(t,e,async(i,o)=>{let l=await Ur(t,e);i.throwIfAborted();let u=Ye(t,e),d=await t.vault.cachedRead(u);return i.throwIfAborted(),o!==d?null:await AC(l,mn(t,e),n,i)},r)}s(Gu,"editLinks");function Ri(t){return Te(t,cC,({substring:e})=>encodeURIComponent(e))}s(Ri,"encodeUrl");function Wr(t,e,n,r=!1){let{linkPath:i}=_p(e.link),o=Ae(t,n),l=t.metadataCache.getFirstLinkpathDest(i,o);if(l)return l;if(!r)return null;if(i.startsWith("/"))return Ye(t,i,!0);let u=Fe(we(o),`./${i}`);return u.startsWith("../")?null:Ye(t,u,!0)}s(Wr,"extractLinkFile");function qu(t){let{app:e}=t,r=(e.fileManager.generateMarkdownLink.defaultOptionsFn??(()=>({})))();t={...{isEmptyEmbedAliasAllowed:!0},...r,...t};let o=Ye(e,t.targetPathOrFile,t.isNonExistingFileAllowed);return _i(e,[o],()=>yC(t))}s(qu,"generateMarkdownLink");function Mi(t){let e=hC(t);return e[0]?.raw===t?e[0]:null}s(Mi,"parseLink");function hC(t){let e=new Set,n="![",r=" [",i=Te(t,n,p=>(e.add(p.offset),r)),l=hp().use(Mr).use(wp,{aliasDivider:Op}).parse(i),u=[],d=[];Fi(l,p=>{let m;switch(p.type){case"link":m=kC(p,t);break;case"wikiLink":m=vC(p,t);break;default:return}e.has(m.startOffset-1)&&(m.isEmbed=!0,m.startOffset--,m.raw=`!${m.raw}`),u.push(m)}),u.sort((p,m)=>p.startOffset-m.startOffset);let f=0;for(let p of u)Fp(t,f,p.startOffset-1,d),f=p.endOffset+1;return Fp(t,f,t.length-1,d),u.push(...d),u.sort((p,m)=>p.startOffset-m.startOffset),u}s(hC,"parseLinks");function pC(t){let{app:e,displayText:n,isWikilink:r,newSourcePathOrFile:i,oldSourcePathOrFile:o,oldTargetPath:l,targetPathOrFile:u}=t;if(r===!1)return!1;if(!n)return!0;let d=Ye(e,u,!0),f=Ae(e,i),p=Ae(e,o??i),m=we(f),w=we(p),y=new Set;for(let T of[d.path,l]){if(!T)continue;let S=Ae(e,T);y.add(S),y.add(Se(S)),y.add(Sr(m,S)),y.add(Sr(w,S))}for(let T of[p,f])y.add(e.metadataCache.fileToLinktext(d,T,!1));let x=Te((0,xo.normalizePath)(n.split(" > ")[0]??""),/^\.\//g,"").toLowerCase();for(let T of y){if(T.toLowerCase()===x)return!0;let S=we(T),E=Se(T,We(T));if(Fe(S,E).toLowerCase()===x)return!0}return!1}s(pC,"shouldResetAlias");function _p(t){let e=(0,xo.parseLinktext)(pi(t));return{linkPath:e.path,subpath:e.subpath}}s(_p,"splitSubpath");function Ku(t){return Mi(t)?.hasAngleBrackets??!1}s(Ku,"testAngleBrackets");function Rp(t){return Mi(t)?.isEmbed??!1}s(Rp,"testEmbed");function mC(t){return Mi(t)?.url.startsWith("./")??!1}s(mC,"testLeadingDot");function Ju(t){return Mi(t)?.isWikilink??!1}s(Ju,"testWikilink");function Ni(t){let{app:e,link:n,linkStyle:r,newSourcePathOrFile:i,newTargetPathOrFile:o,oldSourcePathOrFile:l,oldTargetPathOrFile:u,shouldUpdateFileNameAlias:d}=t;if(!o)return n.original;let f=Ye(e,o,!0),p=Ae(e,l??i),m=Ae(e,u??o),w=Lp(e,n.original,r),{subpath:y}=_p(n.link),x=!d;if(mn(e,i)&&Ap(n))return f.path+y;let T=Mi(n.original),S;return w&&T?.alias&&(S=T.alias,x=!0),S??=pC({app:e,displayText:n.displayText,isWikilink:w,newSourcePathOrFile:i,oldSourcePathOrFile:l,oldTargetPath:m,targetPathOrFile:f})?void 0:T?.alias,x||(S===Se(m,We(m))?S=f.basename:S===Se(m)&&(S=f.name)),qu({alias:S,app:e,isSingleSubpathAllowed:p===m&&!!T?.alias,linkStyle:r,originalLink:n.original,sourcePathOrFile:i,subpath:y,targetPathOrFile:f})}s(Ni,"updateLink");async function Mp(t){let{app:e,linkStyle:n,newSourcePathOrFile:r,oldSourcePathOrFile:i,shouldUpdateEmbedOnlyLinks:o,shouldUpdateFileNameAlias:l}=t;mn(e,r)&&!e.internalPlugins.getEnabledPluginById(kt.Canvas)||await Gu(e,r,u=>{let d=Rp(u.original);if(!(o!==void 0&&o!==d))return fC({app:e,link:u,linkStyle:n,newSourcePathOrFile:r,oldSourcePathOrFile:i,shouldUpdateFileNameAlias:l})},t)}s(Mp,"updateLinksInFile");function Fp(t,e,n,r){if(e>n)return;let i=t.slice(e,n+1);Te(i,/(?<Url>\S+)/g,(o,l)=>{Du(l)&&r.push({encodedUrl:Ri(l),endOffset:e+o.offset+l.length,hasAngleBrackets:!1,isEmbed:!1,isExternal:!0,isWikilink:!1,raw:l,startOffset:e+o.offset,url:l})})}s(Fp,"extractTextLinks");function gC(t,e,n,r,i){n==="/"&&(n="");let o;return e.path===n&&r&&i.isSingleSubpathAllowed?o=r:i.shouldForceRelativePath?o=Sr(we(n),i.isWikilink?Af(t,e):e.path)+r:o=t.metadataCache.fileToLinktext(e,n,i.isWikilink)+r,i.shouldForceRelativePath&&i.shouldUseLeadingDot&&!o.startsWith(".")&&!o.startsWith("#")&&(o=`./${o}`),o}s(gC,"generateLinkText");function yC(t){let{app:e}=t,n=Ye(e,t.targetPathOrFile,t.isNonExistingFileAllowed),r=Ae(e,t.sourcePathOrFile),i=t.subpath??"",o=xC(t,n),l=gC(e,n,r,i,o);return o.isWikilink?bC(l,t.alias,o.isEmbed):wC(l,n,t,o)}s(yC,"generateMarkdownLinkImpl");function wC(t,e,n,r){let{app:i}=n,o=r.isEmbed?"!":"",l=r.shouldUseAngleBrackets?`<${t}>`:Ri(t),u=n.alias??"";!u&&(!r.isEmbed||!n.isEmptyEmbedAliasAllowed)&&(u=!n.shouldIncludeAttachmentExtensionToEmbedAlias||gn(i,e)?e.basename:e.name);let d=n.shouldEscapeAlias?Te(u,dC,"\\$&"):u;return`${o}[${d}](${l})`}s(wC,"generateMarkdownStyleLink");function bC(t,e,n){let r=n?"!":"",i=e??"";if(i&&i.toLowerCase()===t.toLowerCase())return`${r}[[${i}]]`;let o=i?`|${i}`:"";return`${r}[[${t}${o}]]`}s(bC,"generateWikiLink");async function AC(t,e,n,r){if(r??=Ue(),r.throwIfAborted(),!t)return[];let i=[],o=(t.sections??[]).filter(l=>l.type==="table").map(l=>({end:l.position.end.offset,start:l.position.start.offset}));for(let l of _n(t)){r.throwIfAborted();let u=await n(l,r);if(r.throwIfAborted(),u===void 0)continue;let d=Vr(l,u);e?Oi(d)?i.push(d):console.warn("Unsupported file change",d):(CC(d,o)&&(d.newContent=d.newContent.replaceAll(Ip,uC)),i.push(d))}return i}s(AC,"getFileChanges");function xC(t,e){let{app:n}=t;return{isEmbed:t.isEmbed??(t.originalLink?Rp(t.originalLink):void 0)??!gn(n,e),isSingleSubpathAllowed:t.isSingleSubpathAllowed??!0,isWikilink:Lp(n,t.originalLink,t.linkStyle),shouldForceRelativePath:t.shouldForceRelativePath??Sp(n),shouldUseAngleBrackets:t.shouldUseAngleBrackets??(t.originalLink?Ku(t.originalLink):void 0)??!1,shouldUseLeadingDot:t.shouldUseLeadingDot??(t.originalLink?mC(t.originalLink):void 0)??!1}}s(xC,"getLinkConfig");function Np(t,e){return e.slice(t.position?.start.offset??0,t.position?.end.offset??0)}s(Np,"getRawLink");function kC(t,e){let o=Np(t,e),l=t.children[0]?.position?.start.offset??1,u=t.children.at(-1)?.position?.end.offset??1,d=e.slice(u+2,(t.position?.end.offset??0)-1),f=o.startsWith("<")||d.startsWith("<"),p=Du(t.url),m=t.url;if(!p&&!f)try{m=decodeURIComponent(m)}catch(w){console.error(`Failed to decode URL ${m}`,w)}return{alias:l<u?e.slice(l,u):void 0,encodedUrl:p?Ri(m):void 0,endOffset:t.position?.end.offset??0,hasAngleBrackets:f,isEmbed:!1,isExternal:p,isWikilink:!1,raw:o,startOffset:t.position?.start.offset??0,title:t.title??void 0,url:m}}s(kC,"parseLinkNode");function vC(t,e){return{alias:e.includes(Op)?t.data.alias:void 0,endOffset:t.position?.end.offset??0,isEmbed:!1,isExternal:!1,isWikilink:!0,raw:Np(t,e),startOffset:t.position?.start.offset??0,url:t.value}}s(vC,"parseWikilinkNode");function CC(t,e){return!wn(t)||!Ip.test(t.newContent)?!1:e.some(n=>n.start<=t.reference.position.start.offset&&t.reference.position.end.offset<=n.end)}s(CC,"shouldEscapeWikilinkDivider");function Lp(t,e,n){switch(n??"PreserveExisting"){case"Markdown":return!1;case"ObsidianSettingsDefault":return Hu(t);case"PreserveExisting":return e===void 0?Hu(t):Ju(e);case"Wikilink":return!0;default:throw new Error(`Invalid link style: ${n}.`)}}s(Lp,"shouldUseWikilinkStyle");function Dp(t,e){let n=Object.keys(e).map(r=>EC(t,r,e[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}s(Dp,"around");function EC(t,e,n){let r=t[e],i=t.hasOwnProperty(e),o=i?r:function(){return Object.getPrototypeOf(t)[e].apply(this,arguments)},l=n(o);return r&&Object.setPrototypeOf(l,r),Object.setPrototypeOf(u,l),t[e]=u,d;function u(...f){return l===o&&t[e]===u&&d(),l.apply(this,f)}s(u,"wrapper");function d(){t[e]===u&&(i?t[e]=o:delete t[e]),l!==o&&(l=o,Object.setPrototypeOf(u,r||Function))}s(d,"remove")}s(EC,"around1");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function TC(t,e){return Dp(t,e)}s(TC,"around");function Kt(t,e,n){let r=TC(e,n),i=!1;function o(){if(!i)try{r()}finally{i=!0}}return s(o,"uninstallerWrapper"),t.register(o),r}s(Kt,"registerPatch");var To=require("obsidian");var $p=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ko=class extends $p.Component{static{s(this,"AsyncEventsComponent")}registerAsyncEvent(e){vo(this,e)}};function vo(t,e){t.register(()=>{e.asyncEvents.offref(e)})}s(vo,"registerAsyncEvent");var Wp=Ve(Vp(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var W=(t=>(t.AlertModal="alert-modal",t.CancelButton="cancel-button",t.CheckboxComponent="checkbox-component",t.CodeHighlighterComponent="code-highlighter-component",t.ConfirmModal="confirm-modal",t.DateComponent="date-component",t.DateTimeComponent="datetime-component",t.EmailComponent="email-component",t.FileComponent="file-component",t.IsPlaceholder="is-placeholder",t.LibraryName="obsidian-dev-utils",t.MonthComponent="month-component",t.MultipleDropdownComponent="multiple-dropdown-component",t.MultipleEmailComponent="multiple-email-component",t.MultipleFileComponent="multiple-file-component",t.MultipleTextComponent="multiple-text-component",t.NumberComponent="number-component",t.OkButton="ok-button",t.OverlayValidator="overlay-validator",t.PasswordComponent="password-component",t.PluginSettingsTab="plugin-settings-tab",t.PromptModal="prompt-modal",t.SelectItemModal="select-item-modal",t.SettingComponentWrapper="setting-component-wrapper",t.TelephoneComponent="telephone-component",t.TextBox="text-box",t.TimeComponent="time-component",t.Tooltip="tooltip",t.TooltipArrow="tooltip-arrow",t.TooltipValidator="tooltip-validator",t.TriStateCheckboxComponent="tri-state-checkbox-component",t.TypedDropdownComponent="typed-dropdown-component",t.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",t.UrlComponent="url-component",t.WeekComponent="week-component",t))(W||{});s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Up=`${Es}-styles`;function pe(t,...e){t.addClass(W.LibraryName,Ts(),...e)}s(pe,"addPluginCssClasses");function Yp(t,e){Gd(e),Jd(e);let n=dn(t,"lastLibraryVersion","0.0.0");if((0,Wp.compareVersions)(wl,n.value)<=0)return;n.value=wl;let r=SC();r.DEBUG=Kd(),document.head.querySelector(`#${Up}`)?.remove(),document.head.createEl("style",{attr:{id:Up},text:Hd})}s(Yp,"initPluginContext");function SC(){return window}s(SC,"getPluginContextWindow");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Eo=class extends To.Plugin{static{s(this,"PluginBase")}events=new Wt;get abortSignal(){return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...n){Ar(this.manifest.id,1)(e,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),Qd(this.afterLoad.bind(this))}onunload(){super.onunload(),Ee(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}registerForLifecycleEvent(e,n){Ee(async()=>{await this.waitForLifecycleEvent(e),await n()})}registerPopupDocumentDomEvent(e,n,r){this.registerPopupDomEvent(i=>{this.registerDomEvent(i.document,e,n,r)})}registerPopupWindowDomEvent(e,n,r){this.registerPopupDomEvent(i=>{this.registerDomEvent(i,e,n,r)})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(n=>{this.events.once(e,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}createTranslationsMap(){return Bf}handleAsyncError(e){this.showNotice(C(n=>n.obsidianDevUtils.notices.unhandledError))}async onLayoutReady(){await Ut()}async onloadImpl(){Yp(this.app,this.manifest.id),await Wf(this.createTranslationsMap()),this.register(zd(this.handleAsyncError.bind(this))),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(vo(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),vo(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort(new br(`Plugin ${this.manifest.id} had been unloaded`))})}async onLoadSettings(e,n){await Ut()}async onSaveSettings(e,n,r){await Ut()}async onunloadImpl(){await Ut()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new To.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this._abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(rt(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}registerPopupDomEvent(e){this.app.workspace.iterateRootLeaves(n=>{e(n.view.containerEl.win)}),this.registerEvent(this.app.workspace.on("window-open",n=>{e(n.win)}))}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};var Jp=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function zp(t,e,n,r){n.throwIfAborted();let i=ht("Logger:invokeAsyncAndLog"),o=performance.now();r??=nt(1),fn(i,r,`${t}:start`,{fn:e,timestampStart:o});try{await e(n);let l=performance.now(),u=l-o;n.aborted&&(fn(i,r,`${t}:aborted`,{abortReason:n.reason,duration:u,fn:e,timestampEnd:l,timestampStart:o}),n.throwIfAborted()),fn(i,r,`${t}:end`,{duration:u,fn:e,timestampEnd:l,timestampStart:o})}catch(l){let u=performance.now();throw fn(i,r,`${t}:error`,{duration:u-o,error:l,fn:e,timestampEnd:u,timestampStart:o}),l}}s(zp,"invokeAsyncAndLog");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Rn(t,e,n,r,i){i??=nt(1),Ee(()=>FC(t,e,n,r,i),i)}s(Rn,"addToQueue");async function FC(t,e,n,r,i){n??=Ue(),n.throwIfAborted(),r??=6e4,i??=nt(1);let l=Hp(t).value;l.items.push({abortSignal:n,fn:e,stackTrace:i,timeoutInMilliseconds:r}),l.promise=l.promise.then(()=>jp(t)),await l.promise}s(FC,"addToQueueAndWait");function Hp(t){return dn(t,"queue",{items:[],promise:Promise.resolve()})}s(Hp,"getQueue");async function jp(t){let e=Hp(t).value,n=e.items[0];n&&(await kl(()=>vl(n.timeoutInMilliseconds,r=>zp(jp.name,n.fn,Yn(r,n.abortSignal),n.stackTrace),{queuedFn:n.fn}),n.stackTrace),e.items.shift())}s(jp,"processNextQueueItem");var Gp=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function So(t,e){let n=Ht(t,e);for(;n;){if(!await Vu(t,n))return;let r=n.parent;await Yr(t,n.path),n=r}}s(So,"deleteEmptyFolderHierarchy");async function Yr(t,e,n,r,i){let o=Gn(t,e);if(!o)return!1;let l=Ct(o)||(i??!0);if(Ct(o)){let u=await bn(t,o);n&&u.clear(n),u.count()!==0&&(r&&new Gp.Notice(C(d=>d.obsidianDevUtils.notices.attachmentIsStillUsed,{attachmentPath:o.path})),l=!1)}else if(Pl(o)){let u=await Uu(t,o);for(let d of[...u.files,...u.folders])l&&=await Yr(t,d,n,r);l&&=await Vu(t,o)}if(l)try{await t.fileManager.trashFile(o)}catch(u){await t.vault.exists(o.path)&&(Hn(new Error(`Failed to delete ${o.path}`,{cause:u})),l=!1)}return l}s(Yr,"deleteSafe");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Xu=new Map,Li=new Set,Fo=new Map,ct=(t=>(t.Delete="Delete",t.DeleteWithEmptyParents="DeleteWithEmptyParents",t.Keep="Keep",t))(ct||{});function Xp(t,e){let n=Po(t.app),r=t.manifest.id;n.set(r,e),Kp(t.app),t.register(()=>{n.delete(r),Kp(t.app)});let i=t.app,o=t.abortSignal??Ue();t.registerEvent(i.vault.on("delete",l=>{RC(t,l,o)})),t.registerEvent(i.vault.on("rename",(l,u)=>{DC(t,l,u,o)})),t.registerEvent(i.metadataCache.on("deleted",(l,u)=>{NC(t,l,u)})),Kt(t,i.fileManager,{runAsyncLinkUpdate:s(l=>u=>BC(i,l,u),"runAsyncLinkUpdate")})}s(Xp,"registerRenameDeleteHandlers");async function Zp(t,e,n){let r=Mn(t);if(r.emptyAttachmentFolderBehavior!=="Keep")for(let i of e)switch(r.emptyAttachmentFolderBehavior){case"Delete":await Yr(t,i,n,void 0,!0);break;case"DeleteWithEmptyParents":await So(t,i);break;default:break}}s(Zp,"cleanupParentFolders");async function PC(t,e,n,r,i){let o=Fo.get(e);if(o){Fo.delete(e);for(let l of o)await Zu(t,l.oldPath,n,r,i,l.combinedBacklinksMap)}}s(PC,"continueInterruptedRenames");async function IC(t,e,n,r,i,o){if(o.throwIfAborted(),r.set(e,n),!Di(t,e))return;let l=Mn(t),u=await Fr(t,e,Sn.RenameNote),d=l.shouldRenameAttachmentFolder?await Fr(t,n,Sn.RenameNote):u,f=u==="/",p=Ht(t,u);if(!p||u===d&&!l.shouldRenameAttachmentFiles)return;let m=[];if(await _l(t,e,Sn.RenameNote))Jp.Vault.recurseChildren(p,w=>{o.throwIfAborted(),Ct(w)&&m.push(w)});else for(let w of i){o.throwIfAborted();let y=Wr(t,w,e);if(y&&(f||y.path.startsWith(u))){let x=await bn(t,y);o.throwIfAborted(),x.keys().length===1&&m.push(y)}}for(let w of m){if(o.throwIfAborted(),Di(t,w.path))continue;let y;if(l.shouldRenameAttachmentFiles)y=await Il({app:t,attachmentPathOrFile:w,context:Sn.RenameNote,notePathOrFile:n,oldNotePathOrFile:e,shouldSkipDuplicateCheck:!0}),o.throwIfAborted();else{let x=f?w.path:Sr(u,w.path),T=Fe(d,we(x));y=Fe(T,w.name)}if(w.path!==y){if(l.shouldDeleteConflictingAttachments){let x=Me(t,y);x&&(console.warn(`Removing conflicting attachment ${x.path}.`),await t.fileManager.trashFile(x),o.throwIfAborted())}else{let x=we(y),T=We(y),S=Se(y,T);y=t.vault.getAvailablePath(Fe(x,S),T.slice(1))}r.set(w.path,y)}}}s(IC,"fillRenameMap");function Po(t){return dn(t,"renameDeleteHandlersMap",new Map).value}s(Po,"getRenameDeleteHandlersMap");function Mn(t){let e=Po(t),n=Array.from(e.values()).reverse(),r={};r.isNote=i=>yi(t,i),r.isPathIgnored=()=>!1;for(let i of n){let o=i();r.shouldDeleteConflictingAttachments||=o.shouldDeleteConflictingAttachments??!1,o.emptyAttachmentFolderBehavior&&(r.emptyAttachmentFolderBehavior??=o.emptyAttachmentFolderBehavior),r.shouldHandleDeletions||=o.shouldHandleDeletions??!1,r.shouldHandleRenames||=o.shouldHandleRenames??!1,r.shouldRenameAttachmentFiles||=o.shouldRenameAttachmentFiles??!1,r.shouldRenameAttachmentFolder||=o.shouldRenameAttachmentFolder??!1,r.shouldUpdateFileNameAliases||=o.shouldUpdateFileNameAliases??!1;let l=r.isPathIgnored;r.isPathIgnored=d=>l(d)||(o.isPathIgnored?.(d)??!1);let u=r.isNote;r.isNote=d=>u(d)&&(o.isNote?.(d)??!0)}return r.emptyAttachmentFolderBehavior??="Keep",r}s(Mn,"getSettings");async function OC(t,e,n,r,i){if(!t.vault.adapter.insensitive||e.toLowerCase()!==n.toLowerCase())return!1;let o=Fe(we(n),`__temp__${Se(n)}`);return await em(t,n,o),await Zu(t,e,o,r,i),await t.vault.rename(Ye(t,o),n),!0}s(OC,"handleCaseCollision");async function _C(t,e,n){if(n.throwIfAborted(),ht("RenameDeleteHandler:handleDelete")(`Handle Delete ${e}`),!Di(t,e))return;let r=Mn(t);if(!r.shouldHandleDeletions)return;if(r.isPathIgnored?.(e)){console.warn(`Skipping delete handler of ${e} as the path is ignored.`);return}let i=Xu.get(e);Xu.delete(e);let o=new Set;if(i){let d=_n(i);for(let f of d){let p=Wr(t,f,e);p&&(Di(t,p.path)||(o.add(p.parent?.path??""),await Yr(t,p,e,!1,r.emptyAttachmentFolderBehavior!=="Keep"),n.throwIfAborted()))}}await Zp(t,Array.from(o),e),n.throwIfAborted();let l=await Fr(t,e,Sn.DeleteNote),u=Ht(t,l);u&&await _l(t,e,Sn.DeleteNote)&&(n.throwIfAborted(),await Yr(t,u,e,!1,r.emptyAttachmentFolderBehavior!=="Keep"),n.throwIfAborted())}s(_C,"handleDelete");function RC(t,e,n){let r=t.app;if(!Qu(t))return;let i=e.path;Rn(r,o=>_C(r,i,o),n)}s(RC,"handleDeleteIfEnabled");function MC(t,e,n){let r=Mn(t);if(r.isPathIgnored?.(e.path)){console.warn(`Skipping metadata delete handler of ${e.path} as the path is ignored.`);return}r.shouldHandleDeletions&&gn(t,e)&&n&&Xu.set(e.path,n)}s(MC,"handleMetadataDeleted");function NC(t,e,n){Qu(t)&&MC(t.app,e,n)}s(NC,"handleMetadataDeletedIfEnabled");function LC(t,e,n,r){let i=Qp(e,n);if(ht("RenameDeleteHandler:handleRename")(`Handle Rename ${i}`),Li.has(i)){Li.delete(i);return}let o=Mn(t);if(!o.shouldHandleRenames)return;if(o.isPathIgnored?.(e)){console.warn(`Skipping rename handler of old path ${e} as the path is ignored.`);return}if(o.isPathIgnored?.(n)){console.warn(`Skipping rename handler of new path ${n} as the path is ignored.`);return}let l=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),u=l?_n(l):[],d=zu(t,e).data;Rn(t,f=>Zu(t,e,n,d,u,void 0,f),r)}s(LC,"handleRename");async function Zu(t,e,n,r,i,o,l){if(l??=Ue(),l.throwIfAborted(),await PC(t,e,n,r,i),l.throwIfAborted(),await $C(t,e,n,r,i),l.throwIfAborted(),!await OC(t,e,n,r,i)){l.throwIfAborted();try{let u=new Map;await IC(t,e,n,u,i,l),l.throwIfAborted();let d=new Map;qp(r,u,d,e);for(let m of u.keys()){if(m===e)continue;let w=(await bn(t,m)).data;qp(w,u,d,m)}let f=new Set;for(let[m,w]of u.entries()){if(m===e)continue;let y=await em(t,m,w);u.set(m,y),f.add(we(m))}await Zp(t,Array.from(f),e),l.throwIfAborted();let p=Mn(t);for(let[m,w]of Array.from(d.entries()).concat(Array.from(o?.entries()??[])))await Gu(t,m,y=>{let x=w.get(Cr(y));if(!x)return;let T=u.get(x);if(T)return Ni({app:t,link:y,newSourcePathOrFile:m,newTargetPathOrFile:T,oldTargetPathOrFile:x,shouldUpdateFileNameAlias:p.shouldUpdateFileNameAliases})},{shouldFailOnMissingFile:!1}),l.throwIfAborted();if(Di(t,n)&&(await Mp({app:t,newSourcePathOrFile:n,oldSourcePathOrFile:e,shouldFailOnMissingFile:!1,shouldUpdateFileNameAlias:p.shouldUpdateFileNameAliases}),l.throwIfAborted()),!Me(t,n)){let m=Fo.get(n);m||(m=[],Fo.set(n,m)),m.push({combinedBacklinksMap:d,oldPath:e})}}finally{let u=Array.from(Li);Rn(t,()=>{for(let d of u)Li.delete(d)},l)}}}s(Zu,"handleRenameAsync");function DC(t,e,n,r){if(!Qu(t)||!Ct(e))return;let i=e.path;LC(t.app,n,i,r)}s(DC,"handleRenameIfEnabled");function qp(t,e,n,r){for(let[i,o]of t.entries()){let l=e.get(i)??i,u=n.get(l)??new Map;n.set(l,u);for(let d of o)u.set(Cr(d),r)}}s(qp,"initBacklinksMap");function Di(t,e){return Mn(t).isNote?.(e)??!1}s(Di,"isNoteEx");function Kp(t){let e=Po(t);ht("RenameDeleteHandler:logRegisteredHandlers")(`Plugins with registered rename/delete handlers: ${JSON.stringify(Array.from(e.keys()))}`)}s(Kp,"logRegisteredHandlers");function Qp(t,e){return`${t} -> ${e}`}s(Qp,"makeKey");async function $C(t,e,n,r,i){let o=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),l=o?_n(o):[],u=Ye(t,e,!0),d=new Map;await _i(t,[u],async()=>{d=(await bn(t,u)).data});for(let f of l)i.includes(f)||i.push(f);for(let[f,p]of d.entries()){let m=r.get(f);m||(m=[],r.set(f,m));for(let w of p)m.includes(w)||m.push(w)}}s($C,"refreshLinks");async function em(t,e,n){if(n=Bu(t,e,n),e===n)return n;let r=Qp(e,n);return Li.add(r),n=await go(t,e,n),n}s(em,"renameHandled");async function BC(t,e,n){await e.call(t.fileManager,r);async function r(i){let o=!1,l=t.vault.on("rename",()=>{o=!0});try{await n(i)}finally{t.vault.offref(l)}let u=Mn(t);o&&u.shouldHandleRenames&&ci(i,d=>u.isPathIgnored?.(d.sourceFile.path)?(console.warn(`Roll back to default link update of source file ${d.sourceFile.path} as the path is ignored.`),!0):u.isPathIgnored?.(d.resolvedFile.path)?(console.warn(`Roll back to default link update of resolved file ${d.resolvedFile.path} as the path is ignored.`),!0):!t.internalPlugins.getEnabledPluginById(kt.Canvas)||t.plugins.getPlugin("backlink-cache")?!1:d.sourceFile.extension==="canvas"||d.resolvedFile.extension==="canvas")}s(r,"wrappedHandler")}s(BC,"runAsyncLinkUpdate");function Qu(t){let e=t.app,n=t.manifest.id,r=Po(e);return Array.from(r.keys())[0]===n}s(Qu,"shouldInvokeHandler");var Nn=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function ie(t,e){t.createEl("strong",{cls:"markdown-rendered code"},n=>{n.createEl("code",{text:e})})}s(ie,"appendCodeBlock");function tm(t){return`${String(t)}px`}s(tm,"toPx");var nm=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function rm(t){let n={...{abortSignal:Ue(),buildNoticeMessage(){throw new Error("buildNoticeMessage is required")},items:[],noticeMinTimeoutInMilliseconds:2e3,processItem:Nt,progressBarTitle:"",shouldContinueOnError:!0,shouldShowProgressBar:!0,uiUpdateThresholdInMilliseconds:100},...t},r=nt(1),i=n.items,o=0,l=null;n.shouldShowProgressBar&&(l=new nm.Notice("",0));let u=sleep(n.noticeMinTimeoutInMilliseconds),d=createEl("progress");if(d.max=i.length,n.shouldShowProgressBar){let p=createFragment();p.createDiv({text:n.progressBarTitle}),p.appendChild(d),l?.setMessage(p)}let f=performance.now();for(let p of i){if(n.abortSignal.aborted){l?.hide();return}o++;let m=`# ${String(o)} / ${String(i.length)}`,w=n.buildNoticeMessage(p,m);n.shouldShowProgressBar||l?.setMessage(w),ht("Loop")(w);try{performance.now()-f>n.uiUpdateThresholdInMilliseconds&&(await ef(),f=performance.now()),await n.processItem(p)}catch(y){if(console.error("Error processing item",p),!n.shouldContinueOnError)throw l?.hide(),new Lt("loop failed",r,y);vs(new Lt(ks,r,y))}d.value++}await u,l?.hide()}s(rm,"loop");var ec=require("obsidian");var im=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var zr=class extends im.Modal{static{s(this,"ModalBase")}constructor(e,n,r){super(e.app),this.resolve=n,pe(this.containerEl,r),e.cssClass&&this.containerEl.addClass(e.cssClass)}};async function Io(t){return await new Promise(e=>{t(e).open()})}s(Io,"showModal");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var tc=class extends zr{static{s(this,"ConfirmModal")}isConfirmed=!1;options;constructor(e,n){super(e,n,W.ConfirmModal);let r={app:e.app,cancelButtonText:C(i=>i.obsidianDevUtils.buttons.cancel),cssClass:"",message:e.message,okButtonText:C(i=>i.obsidianDevUtils.buttons.ok),title:""};this.options={...r,...e}}onClose(){super.onClose(),this.resolve(this.isConfirmed)}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new ec.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(()=>{this.isConfirmed=!0,this.close()}),e.setClass(W.OkButton);let n=new ec.ButtonComponent(this.contentEl);n.setButtonText(this.options.cancelButtonText),n.onClick(this.close.bind(this)),n.setClass(W.CancelButton)}};async function Oo(t){return await Io(e=>new tc(t,e))}s(Oo,"confirm");var Mo=require("obsidian");var $i=Ve(un(),1),WC=Ve(require("obsidian"),1);var sm=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function om(t){return t.validationMessage!==void 0}s(om,"isValidationMessageHolder");var VC=/[*\\/<>:|?"]/g,UC=/[\0/]/g;function _o(t){return t??=sm.Platform.isWin,t?VC:UC}s(_o,"getOsUnsafePathCharsRegExp");var fm=Ve(am(),1);var An=require("obsidian");var ic=class extends An.Modal{constructor(n){super(n.ctx.app);this.options=n;pe(this.containerEl,"preview-modal")}static{s(this,"PreviewModal")}embedComponent;tempFile;onClose(){super.onClose(),this.embedComponent.unload(),Ee(async()=>{await this.app.vault.delete(this.tempFile)})}onOpen(){super.onOpen(),Ee(this.onOpenAsync.bind(this))}async onOpenAsync(){let n=this.app.embedRegistry.embedByExtension[this.options.ctx.originalAttachmentFileExtension];if(!n||!this.options.ctx.attachmentFileContent)return;let r=`${this.options.ctx.originalAttachmentFileName}.${this.options.ctx.originalAttachmentFileExtension}`;this.titleEl.setText(C(l=>l.promptWithPreviewModal.previewModal.title,{fullFileName:r}));let i=`__temp${String(Date.now())}__${r}`;this.tempFile=await this.app.vault.createBinary(i,this.options.ctx.attachmentFileContent);let o=this.contentEl.createDiv("preview-container");this.embedComponent=n({app:this.app,containerEl:o},this.tempFile),this.embedComponent.load(),this.embedComponent.loadFile()}},sc=class extends An.Modal{constructor(n,r){super(n.ctx.app);this.options=n;this.resolve=r;pe(this.containerEl,W.PromptModal),this.value=n.ctx.originalAttachmentFileName}static{s(this,"PromptWithPreviewModal")}isOkClicked=!1;value;onClose(){super.onClose(),this.resolve(this.isOkClicked?this.value:null)}onOpen(){super.onOpen();let n=createFragment(p=>{p.appendText(C(m=>m.promptWithPreviewModal.title)),p.createEl("br"),p.appendText(this.options.ctx.fullTemplate.slice(0,this.options.ctx.tokenStartOffset)),p.createSpan({cls:"highlighted-token",text:this.options.ctx.tokenWithFormat}),p.appendText(this.options.ctx.fullTemplate.slice(this.options.ctx.tokenEndOffset))});this.titleEl.setText(n);let r=new An.TextComponent(this.contentEl),i=r.inputEl,o=s(async()=>{let p=await this.options.valueValidator(i.value);i.setCustomValidity(p??""),i.reportValidity()},"validate");r.setValue(this.value),r.setPlaceholder(C(p=>p.promptWithPreviewModal.title)),i.addClass(W.TextBox),r.onChange(p=>{this.value=p}),i.addEventListener("keydown",p=>{p.key==="Enter"?this.handleOk(p,r):p.key==="Escape"&&this.close()}),i.addEventListener("input",rt(o)),i.addEventListener("focus",rt(o)),Ee(o);let l=new An.ButtonComponent(this.contentEl);l.setButtonText(C(p=>p.obsidianDevUtils.buttons.ok)),l.setCta(),l.onClick(p=>{this.handleOk(p,r)}),l.setClass(W.OkButton);let u=new An.ButtonComponent(this.contentEl);u.setButtonText(C(p=>p.obsidianDevUtils.buttons.cancel)),u.onClick(this.close.bind(this)),u.setClass(W.CancelButton);let d=new An.ButtonComponent(this.contentEl);d.setButtonText(C(p=>p.buttons.previewAttachmentFile)),d.onClick(this.preview.bind(this));let f=this.app.embedRegistry.embedByExtension[this.options.ctx.originalAttachmentFileExtension];(!this.options.ctx.attachmentFileContent||!f)&&d.setDisabled(!0)}handleOk(n,r){n.preventDefault(),r.inputEl.checkValidity()&&(this.isOkClicked=!0,this.close())}preview(){new ic(this.options).open()}};function lm(t){return new Promise(e=>{new sc(t,e).open()})}s(lm,"promptWithPreview");var YC=af(fm.default),zC=["1","2","3","4","5","6","any"],HC=/^\.{3,}$/,jC=/\.+$/,Bi=/\${(?<Token>.+?)(?::(?<Format>.*?))?}/g;function oc(t){let e=new Map;try{return new Function("registerCustomToken",t)(n),e}catch(r){return Hn(new Error("Error registering custom tokens",{cause:r})),null}function n(r,i){e.set(r,i)}s(n,"registerCustomToken")}s(oc,"parseCustomTokens");function um(t,e){let n=",default=now",r=",default=empty",i="empty";return e.endsWith(n)?(e=xr(e,n),i="now"):e.endsWith(r)&&(e=xr(e,r),i="empty"),t?(0,$i.default)(t).format(e):i==="now"?(0,$i.default)().format(e):""}s(um,"formatAttachmentFileDate");function GC(t){return(0,$i.default)().format(t)}s(GC,"formatDate");function cm(t,e,n,r){let i=Me(t,e);return i?(0,$i.default)(r(i)).format(n):""}s(cm,"formatFileDate");function qC(t,e){let{base:i,parameter:o}=Ro(e);switch(i){case"":case"B":return t.toFixed(o??0);case"KB":return(t/1024).toFixed(o??0);case"MB":return(t/1048576).toFixed(o??0);default:throw new Error(`Invalid file size format: ${e}`)}}s(qC,"formatFileSize");function KC(t,e){let n=t.split("/"),r=n.length-1,i=e.indexOf(",");i===-1&&(i=e.length);let l=e.slice(0,i),u=e.slice(i+1),d=Ro(l);switch(d.base){case"indexFromEnd":r=n.length-1-(d.parameter??0);break;case"indexFromStart":r=d.parameter??0;break;default:if(u)throw new Error(`Invalid format: ${l}`);return tr(n[r]??"",l)}let f=n[r]??"";return tr(f,u)}s(KC,"formatFolderName");function tr(t,e){let{base:n,parameter:r}=Ro(e);switch(n){case"":return t;case"left":return t.slice(0,r??1);case"lower":return t.toLowerCase();case"right":return t.slice(-(r??1));case"slug":return tE(t);case"upper":return t.toUpperCase();default:throw new Error(`Invalid file name format: ${e}`)}}s(tr,"formatString");function JC(t){if(t==="uuid")return crypto.randomUUID();let{base:e,parameter:n}=Ro(t),r;switch(e){case"D":r="0123456789";break;case"DL":r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;case"L":r="ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;default:throw new Error(`Invalid random value format: ${t}`)}let i="";for(let o=0;o<(n??1);o++)i+=QC(r);return i}s(JC,"generateRandomValue");function XC(t,e,n){let r=Me(t,e);if(!r)return"";let i=t.metadataCache.getFileCache(r);if(!i?.frontmatter)return"";let o=Tn(i.frontmatter,n)??"";return String(o)}s(XC,"getFrontmatterValue");async function ZC(t){if(tr("",t.format),t.actionContext==="ValidateTokens"||t.originalAttachmentFileName===jt)return jt;let e=await lm({ctx:t,valueValidator:s(n=>nr({app:t.app,areTokensAllowed:!1,path:n}),"valueValidator")});if(e===null)throw new Error("Prompt cancelled");return tr(e,t.format)}s(ZC,"prompt");var Ke=class t{static{s(this,"Substitutions")}static evaluators=new Map;static{this.registerCustomTokens("")}noteFolderPath;actionContext;app;attachmentFileContent;attachmentFileStat;cursorLine;generatedAttachmentFileName;generatedAttachmentFilePath;headingsInfo=null;noteFileName;noteFilePath;noteFolderName;oldNoteFileName;oldNoteFilePath;oldNoteFolderName;oldNoteFolderPath;originalAttachmentFileExtension;originalAttachmentFileName;constructor(e){this.app=e.app,this.actionContext=e.actionContext,this.noteFilePath=e.noteFilePath,this.noteFileName=Se(this.noteFilePath,We(this.noteFilePath)),this.noteFolderName=Se(we(this.noteFilePath)),this.noteFolderPath=we(this.noteFilePath),this.oldNoteFilePath=e.oldNoteFilePath??"",this.oldNoteFileName=Se(this.oldNoteFilePath,We(this.oldNoteFilePath)),this.oldNoteFolderName=Se(we(this.oldNoteFilePath)),this.oldNoteFolderPath=we(this.oldNoteFilePath);let n=e.originalAttachmentFileName??"",r=We(n);if(this.originalAttachmentFileName=Se(n,r),this.originalAttachmentFileExtension=r.slice(1),this.attachmentFileContent=e.attachmentFileContent,this.attachmentFileStat=e.attachmentFileStat,this.generatedAttachmentFileName=e.generatedAttachmentFileName??"",this.generatedAttachmentFilePath=e.generatedAttachmentFilePath??"",this.cursorLine=null,this.app.workspace.activeEditor?.file?.path===this.noteFilePath){let i=this.app.workspace.activeEditor.editor?.getCursor();i&&(this.cursorLine=i.line)}}static isRegisteredToken(e){return t.evaluators.has(e.toLowerCase())}static registerCustomTokens(e){this.evaluators.clear(),this.registerToken("date",r=>GC(r.format)),this.registerToken("noteFileCreationDate",r=>cm(r.app,r.noteFilePath,r.format,i=>i.stat.ctime)),this.registerToken("noteFileModificationDate",r=>cm(r.app,r.noteFilePath,r.format,i=>i.stat.mtime)),this.registerToken("originalAttachmentFileCreationDate",r=>um(r.attachmentFileStat?.ctime,r.format)),this.registerToken("originalAttachmentFileModificationDate",r=>um(r.attachmentFileStat?.mtime,r.format)),this.registerToken("noteFileName",r=>tr(r.noteFileName,r.format)),this.registerToken("noteFilePath",r=>r.noteFilePath),this.registerToken("noteFolderName",r=>KC(r.noteFolderPath,r.format)),this.registerToken("noteFolderPath",r=>r.noteFolderPath),this.registerToken("frontmatter",r=>XC(r.app,r.noteFilePath,r.format)),this.registerToken("originalAttachmentFileExtension",r=>r.originalAttachmentFileExtension),this.registerToken("originalAttachmentFileName",r=>tr(r.originalAttachmentFileName,r.format)),this.registerToken("prompt",r=>ZC(r)),this.registerToken("random",r=>JC(r.format)),this.registerToken("attachmentFileSize",r=>qC(r.attachmentFileContent?.byteLength??0,r.format)),this.registerToken("generatedAttachmentFileName",r=>tr(r.generatedAttachmentFileName,r.format)),this.registerToken("generatedAttachmentFilePath",r=>r.generatedAttachmentFilePath),this.registerToken("heading",async(r,i)=>i.getHeading(r.format));let n=oc(e)??new Map;for(let[r,i]of n.entries())this.registerToken(r,i)}static registerToken(e,n){this.evaluators.set(e.toLowerCase(),n)}async fillTemplate(e){return await sf(e,Bi,async(n,r,i,o)=>{n.throwIfAborted();let l=t.evaluators.get(i.toLowerCase());if(!l)throw new Error(`Unknown token '${i}'.`);let u={abortSignal:n,actionContext:this.actionContext,app:this.app,attachmentFileContent:this.attachmentFileContent,attachmentFileStat:this.attachmentFileStat,fillTemplate:this.fillTemplate.bind(this),format:o,fullTemplate:e,generatedAttachmentFileName:this.generatedAttachmentFileName,generatedAttachmentFilePath:this.generatedAttachmentFilePath,noteFileName:this.noteFileName,noteFilePath:this.noteFilePath,noteFolderName:this.noteFolderName,noteFolderPath:this.noteFolderPath,obsidian:WC,oldNoteFileName:this.oldNoteFileName,oldNoteFilePath:this.oldNoteFilePath,oldNoteFolderName:this.oldNoteFolderName,oldNoteFolderPath:this.oldNoteFolderPath,originalAttachmentFileExtension:this.originalAttachmentFileExtension,originalAttachmentFileName:this.originalAttachmentFileName,token:i,tokenEndOffset:r.offset+r.substring.length,tokenStartOffset:r.offset,tokenWithFormat:r.substring};try{let d=await l(u,this);if(n.throwIfAborted(),typeof d!="string")throw console.error("Token returned non-string value.",{ctx:u,result:d}),new Error("Token returned non-string value");return d}catch(d){throw new Error(`Error formatting token \${${i}}`,{cause:d})}})}async getHeading(e){if(e||="any",!zC.includes(e))throw new Error(`Invalid heading level: ${e}`);return(await this.initHeadings()).get(e)??""}async initHeadings(){if(this.headingsInfo)return this.headingsInfo;if(this.headingsInfo=new Map,!this.cursorLine)return this.headingsInfo;let e=await Ur(this.app,this.noteFilePath);if(!e?.headings)return this.headingsInfo;let n=new Map;for(let r of e.headings){if(r.position.start.line>this.cursorLine)continue;let i=String(r.level),o=n.get(i)??-1;r.position.start.line>o&&(this.headingsInfo.set(i,r.heading),n.set(i,r.position.start.line),r.position.start.line>(n.get("any")??-1)&&(n.set("any",r.position.start.line),this.headingsInfo.set("any",r.heading)))}return this.headingsInfo}};function ac(t){return hm(t).some(e=>e.token==="prompt")}s(ac,"hasPromptToken");async function Vi(t){switch(t.tokenValidationMode){case"Error":{if(t.fileName.match(Bi))return"Tokens are not allowed in file name";break}case"Skip":break;case"Validate":{let n=await pm(t.app,t.fileName);if(n)return n;break}default:throw new Error(`Invalid token validation mode: ${t.tokenValidationMode}`)}let e=eE(t.fileName);return e==="."||e===".."?t.areSingleDotsAllowed?"":"Single dots are not allowed in file name":e?_o().test(e)?`File name "${t.fileName}" contains invalid symbols`:HC.test(e)?`File name "${t.fileName}" contains more than two dots`:jC.test(e)?`File name "${t.fileName}" contains trailing dots`:"":t.isEmptyAllowed?"":"File name is empty"}s(Vi,"validateFileName");async function nr(t){if(t.areTokensAllowed){let r=await pm(t.app,t.path);if(r)return`Unknown token: ${r}`}else if(t.path.match(Bi))return"Tokens are not allowed in path";let e=kr(t.path,"/");if(e=xr(e,"/"),e==="")return"";let n=e.split("/");for(let r of n){let i=await Vi({app:t.app,areSingleDotsAllowed:!0,fileName:r,isEmptyAllowed:!0,tokenValidationMode:"Skip"});if(i)return i}return""}s(nr,"validatePath");function hm(t){let e=t.matchAll(Bi);return Array.from(e).map(n=>({format:n.groups?.Format??"",token:n.groups?.Token??""}))}s(hm,"extractTokens");function QC(t){return t[Math.floor(Math.random()*t.length)]??""}s(QC,"generateRandomSymbol");function Ro(t){let e=/^(?<Base>\w*?)(?<Parameter>\d*)$/.exec(t);if(!e)throw new Error(`Invalid format: ${t}`);let n=e.groups?.Base??"",r=e.groups?.Parameter,i=r?parseInt(r,10):void 0;return{base:n,parameter:i}}s(Ro,"parseFormatWithParameter");function eE(t){return Te(t,Bi,(e,n,r)=>`_${n}_${r}_`)}s(eE,"removeTokens");function tE(t){return YC(t,{lower:!0})}s(tE,"slugifyEx");async function pm(t,e){let n=new Ke({actionContext:"ValidateTokens",app:t,noteFilePath:jt,originalAttachmentFileName:jt}),r=hm(e);for(let i of r){if(!Ke.isRegisteredToken(i.token))return`Unknown token '${i.token}'.`;let o=i.format.split(",");for(let l of o)try{await n.fillTemplate(`\${${i.token}:${l}}`)}catch{return`Token '${i.token}' is used with unknown format '${l}'.`}}return null}s(pm,"validateTokens");async function Ui(t,e,n,r,i,o,l){return await iE(t,new Ke({actionContext:e,app:t.app,attachmentFileContent:o,attachmentFileStat:l,noteFilePath:n,oldNoteFilePath:i,originalAttachmentFileName:r}))}s(Ui,"getAttachmentFolderFullPathForPath");async function Hr(t,e){let n=await mm(t,t.settings.generatedAttachmentFileName,e,!0),r=await nr({app:t.app,areTokensAllowed:!1,path:n});if(!r){let o=n.split("/").at(-1)??"";r=await Vi({app:t.app,areSingleDotsAllowed:!1,fileName:o,isEmptyAllowed:!1,tokenValidationMode:"Error"})}if(r){new Mo.Notice(createFragment(o=>{o.appendText(C(l=>l.notice.generatedAttachmentFileNameIsInvalid.part1,{path:n,validationMessage:r})),o.appendText(" "),ie(o,C(l=>l.pluginSettingsTab.generatedAttachmentFileName.name)),o.appendText(" "),o.appendText(C(l=>l.notice.generatedAttachmentFileNameIsInvalid.part2))}));let i=`Generated attachment file name "${n}" is invalid.
${r}
Check your 'Generated attachment file name' setting.`;throw console.error(i,e),new Error(i)}return n}s(Hr,"getGeneratedAttachmentFileBaseName");function rE(t,e){return t.settings.specialCharacters&&(e=e.replace(t.settings.specialCharactersRegExp,t.settings.specialCharactersReplacement)),e}s(rE,"replaceSpecialCharacters");async function iE(t,e){return await mm(t,t.settings.attachmentFolderPath,e,!1)}s(iE,"getAttachmentFolderPath");async function mm(t,e,n,r){let i=await n.fillTemplate(e);i=i.split("/").map(u=>u.replace(/[\s.]+$/,"")||u).join("/");let l=await nr({app:t.app,areTokensAllowed:!1,path:i});if(l)throw new Error(`Resolved path ${i} is invalid: ${l}`);return i=rE(t,i),r||((i.startsWith("./")||i.startsWith("../"))&&(i=Fe(n.noteFolderPath,i)),i=(0,Mo.normalizePath)(i)),i}s(mm,"resolvePathTemplate");var jr=require("obsidian");var Do=`registerCustomToken('foo', (ctx) => {
  return ctx.noteFileName + ctx.app.appId + ctx.format + ctx.obsidian.apiVersion;
});

registerCustomToken('bar', async (ctx) => {
  await sleep(100);
  return ctx.noteFileName + ctx.app.appId + ctx.format + ctx.obsidian.apiVersion;
});

registerCustomToken('baz', async (ctx) => {
  return ctx.noteFileName + await ctx.fillTemplate('corge \${grault} garply \${waldo:fred} plugh');
});
`,gm=/(?:)/,No=/$./,Wi=(r=>(r.None="None",r.OnlyPastedImages="Only pasted images",r.All="All",r))(Wi||{}),rr=(o=>(o.Cancel="Cancel",o.Copy="Copy",o.Move="Move",o.Prompt="Prompt",o.Skip="Skip",o))(rr||{}),Lo=class{static{s(this,"PluginSettings")}attachmentFolderPath="./assets/${noteFileName}";attachmentRenameMode="Only pasted images";collectAttachmentUsedByMultipleNotesMode="Skip";duplicateNameSeparator=" ";emptyAttachmentFolderBehavior=ct.DeleteWithEmptyParents;generatedAttachmentFileName="file-${date:YYYYMMDDHHmmssSSS}";jpegQuality=.8;markdownUrlFormat="";shouldConvertPastedImagesToJpeg=!1;shouldDeleteOrphanAttachments=!1;shouldRenameAttachmentFiles=!1;shouldRenameAttachmentFolder=!0;shouldRenameCollectedAttachments=!1;specialCharacters="#^[]|*\\<>:?";specialCharactersReplacement="-";timeoutInSeconds=5;treatAsAttachmentExtensions=[".excalidraw.md"];warningVersion="";get customTokensStr(){return this._customTokensStr}set customTokensStr(e){this._customTokensStr=e}get excludePaths(){return this._excludePaths}set excludePaths(e){this._excludePaths=e.filter(Boolean),this._excludePathsRegExp=lc(this._excludePaths,No)}get excludePathsFromAttachmentCollecting(){return this._excludePathsFromAttachmentCollecting}set excludePathsFromAttachmentCollecting(e){this._excludePathsFromAttachmentCollecting=e.filter(Boolean),this._excludePathsFromAttachmentCollectingRegExp=lc(this._excludePathsFromAttachmentCollecting,No)}get includePaths(){return this._includePaths}set includePaths(e){this._includePaths=e.filter(Boolean),this._includePathsRegExp=lc(this._includePaths,gm)}get specialCharactersRegExp(){return new RegExp(`[${Is(this.specialCharacters)}]+`,"g")}_customTokensStr="";_excludePaths=[];_excludePathsFromAttachmentCollecting=[];_excludePathsFromAttachmentCollectingRegExp=No;_excludePathsRegExp=No;_includePaths=[];_includePathsRegExp=gm;getTimeoutInMilliseconds(){return this.timeoutInSeconds===0?ui:this.timeoutInSeconds*1e3}isExcludedFromAttachmentCollecting(e){return this._excludePathsFromAttachmentCollectingRegExp.test(e)}isPathIgnored(e){return!this._includePathsRegExp.test(e)||this._excludePathsRegExp.test(e)}};function lc(t,e){if(t.length===0)return e;let n=t.map(r=>r.startsWith("/")&&r.endsWith("/")?r.slice(1,-1):`^${Is(r)}`).map(r=>`(${r})`).join("|");return new RegExp(n)}s(lc,"makeRegExp");var uc=class extends jr.Modal{constructor(n,r,i,o){super(n);this.attachmentPath=r;this.backlinks=i;this.resolve=o}static{s(this,"CollectAttachmentUsedByMultipleNotesModal")}isSelected=!1;onClose(){this.isSelected||this.select("Cancel",!1)}onOpen(){super.onOpen(),new jr.Setting(this.contentEl).setName(C(r=>r.collectAttachmentUsedByMultipleNotesModal.heading)).setHeading(),this.contentEl.appendChild(createFragment(r=>{r.appendText(C(i=>i.collectAttachmentUsedByMultipleNotesModal.content.part1)),r.appendText(" "),ie(r,this.attachmentPath),r.appendText(" "),r.appendText(C(i=>i.collectAttachmentUsedByMultipleNotesModal.content.part2)),r.createEl("ul",{},i=>{for(let o of this.backlinks)i.createEl("li",{},l=>[l.appendChild(createFragment(u=>{ie(u,o)}))])})}));let n=!1;new jr.Setting(this.contentEl).setName(C(r=>r.collectAttachmentUsedByMultipleNotesModal.shouldUseSameActionForOtherProblematicAttachmentsToggle)).addToggle(r=>{r.setValue(!1),r.onChange(i=>{n=i})}),new jr.Setting(this.contentEl).addButton(r=>{r.setButtonText(C(i=>i.buttons.skip)),r.onClick(()=>{this.select("Skip",n)})}).addButton(r=>{r.setButtonText(C(i=>i.buttons.move)),r.onClick(()=>{this.select("Move",n)})}).addButton(r=>{r.setButtonText(C(i=>i.buttons.copy)),r.onClick(()=>{this.select("Copy",n)})}).addButton(r=>{r.setButtonText(C(i=>i.obsidianDevUtils.buttons.cancel)),r.onClick(()=>{this.select("Cancel",n)})})}select(n,r){this.isSelected=!0,this.resolve({mode:n,shouldUseSameActionForOtherProblematicAttachments:r}),this.close()}};function ym(t,e,n){return new Promise(r=>{new uc(t,e,n,r).open()})}s(ym,"selectMode");async function wm(t,e,n,r){r.throwIfAborted();let i=t.app;if(n.isAborted)return;let o=new Nn.Notice(C(d=>d.notice.collectingAttachments,{noteFilePath:e.path})),l=new Map,u=mn(i,e);await Ao(i,e,async(d,f)=>{d.throwIfAborted();let p=await Ur(i,e);d.throwIfAborted();let m=await i.vault.cachedRead(e);if(d.throwIfAborted(),n.isAborted)return[];if(f!==m)return null;if(!p)return[];let w=u?await sE(i,e):_n(p);d.throwIfAborted();let y=[];for(let x of w){if(n.isAborted)return y;let T=await oE(t,x,e.path,e.path);if(d.throwIfAborted(),!T)continue;if(t.settings.isExcludedFromAttachmentCollecting(T.oldAttachmentPath)){console.warn(`Skipping collecting attachment ${T.oldAttachmentPath} as it is excluded from attachment collecting.`);continue}let S=await bn(i,T.oldAttachmentPath,{timeoutInMilliseconds:t.settings.getTimeoutInMilliseconds()});if(d.throwIfAborted(),S.keys().length>1){let P=S.keys().sort((z,F)=>z.localeCompare(F)),_=P.map(z=>`- ${z}`).join(`
`);async function L(z){if(d.throwIfAborted(),!T)return!1;switch(z){case"Cancel":return console.error(`Cancelling collecting attachments, as attachment ${T.oldAttachmentPath} is referenced by multiple notes.
${_}`),new Nn.Notice(C(F=>F.notice.collectingAttachmentsCancelled)),n.isAborted=!0,!1;case"Copy":T.newAttachmentPath=await vp(i,T.oldAttachmentPath,T.newAttachmentPath);break;case"Move":await E(),d.throwIfAborted();break;case"Prompt":{let{mode:F,shouldUseSameActionForOtherProblematicAttachments:Z}=await ym(i,T.oldAttachmentPath,P);return Z&&(n.collectAttachmentUsedByMultipleNotesMode=F),L(F)}case"Skip":return console.warn(`Skipping collecting attachment ${T.oldAttachmentPath} as it is referenced by multiple notes.
${_}`),!1;default:throw new Error(`Unknown collect attachment used by multiple notes mode: ${t.settings.collectAttachmentUsedByMultipleNotesMode}`)}return!0}if(s(L,"applyCollectAttachmentUsedByMultipleNotesMode"),!await L(n.collectAttachmentUsedByMultipleNotesMode??t.settings.collectAttachmentUsedByMultipleNotesMode)){d.throwIfAborted();continue}}else d.throwIfAborted(),await E(),d.throwIfAborted();async function E(){d.throwIfAborted(),T&&(T.newAttachmentPath=await go(i,T.oldAttachmentPath,T.newAttachmentPath),d.throwIfAborted(),await So(i,we(T.oldAttachmentPath)))}if(s(E,"moveAttachment"),l.set(T.oldAttachmentPath,T.newAttachmentPath),!u){let P=Ni({app:i,link:x,newSourcePathOrFile:e,newTargetPathOrFile:T.newAttachmentPath,oldTargetPathOrFile:T.oldAttachmentPath});y.push(Vr(x,P))}}return y},{timeoutInMilliseconds:Bo(t)}),u&&await mo(i,e,(d,f)=>{d.throwIfAborted();let p=JSON.parse(f);for(let m of p.nodes){if(m.type!=="file")continue;let w=l.get(m.file);w&&(m.file=w)}return Cr(p)},{timeoutInMilliseconds:t.settings.getTimeoutInMilliseconds()}),o.hide()}s(wm,"collectAttachments");function bm(t,e){let n=t.app.workspace.getActiveFile();return ir(t,n)?(e||Rn(t.app,r=>$o(t,n?.parent??cn(new Error("Parent folder not found")),r),t.abortSignal,Bo(t)),!0):!1}s(bm,"collectAttachmentsCurrentFolder");function Am(t,e){let n=t.app.workspace.getActiveFile();if(!n||!ir(t,n))return!1;if(!e){if(t.settings.isPathIgnored(n.path))return new Nn.Notice(C(r=>r.notice.notePathIsIgnored)),console.warn(`Cannot collect attachments in the note as note path is ignored: ${n.path}.`),!0;Rn(t.app,r=>wm(t,n,{},r),t.abortSignal,Bo(t))}return!0}s(Am,"collectAttachmentsCurrentNote");function xm(t){Rn(t.app,e=>$o(t,t.app.vault.getRoot(),e),t.abortSignal,Bo(t))}s(xm,"collectAttachmentsEntireVault");async function $o(t,e,n){if(n.throwIfAborted(),!await Oo({app:t.app,cancelButtonText:C(u=>u.obsidianDevUtils.buttons.cancel),message:createFragment(u=>{u.appendText(C(d=>d.attachmentCollector.confirm.part1)),u.appendText(" "),ie(u,e.path),u.appendText(" "),u.appendText(C(d=>d.attachmentCollector.confirm.part2)),u.createEl("br"),u.appendText(C(d=>d.attachmentCollector.confirm.part3))}),okButtonText:C(u=>u.obsidianDevUtils.buttons.ok),title:createFragment(u=>{(0,Nn.setIcon)(u.createSpan(),"lucide-alert-triangle"),u.appendText(" "),u.appendText(C(d=>d.menuItems.collectAttachmentsInFolder))})})){n.throwIfAborted();return}t.consoleDebug(`Collect attachments in folder: ${e.path}`);let r=[];Nn.Vault.recurseChildren(e,u=>{ir(t,u)&&r.push(u)}),r.sort((u,d)=>u.path.localeCompare(d.path));let i={},o=new AbortController,l=Yn(o.signal,t.abortSignal);await rm({abortSignal:l,buildNoticeMessage:s((u,d)=>C(f=>f.attachmentCollector.progressBar.message,{iterationStr:d,noteFilePath:u.path}),"buildNoticeMessage"),items:r,processItem:s(async u=>{if(l.throwIfAborted(),t.settings.isPathIgnored(u.path)){console.warn(`Cannot collect attachments in the note as note path is ignored: ${u.path}.`);return}await wm(t,u,i,l),l.throwIfAborted(),i.isAborted&&o.abort()},"processItem"),progressBarTitle:`${t.manifest.name}: ${C(u=>u.attachmentCollector.progressBar.title)}`,shouldContinueOnError:!0,shouldShowProgressBar:!0})}s($o,"collectAttachmentsInFolder");function ir(t,e){if(!e||!yi(t.app,e))return!1;let n=Ae(t.app,e);return t.settings.treatAsAttachmentExtensions.every(r=>!n.endsWith(r))}s(ir,"isNoteEx");async function sE(t,e){return(await t.vault.readJson(e.path)).nodes.filter(i=>i.type==="file").map(i=>i.file).map(i=>({link:i,original:i,position:{end:{col:0,line:0,loc:0,offset:0},start:{col:0,line:0,loc:0,offset:0}}}))}s(sE,"getCanvasLinks");function Bo(t){return t.settings.collectAttachmentUsedByMultipleNotesMode==="Prompt"||ac(t.settings.attachmentFolderPath)||ac(t.settings.generatedAttachmentFileName)?ui:t.settings.getTimeoutInMilliseconds()}s(Bo,"getTimeoutInMilliseconds");async function oE(t,e,n,r){let i=t.app,o=Wr(i,e,r);if(!o)return console.warn(`Skipping collecting attachment ${e.link} as it could not be resolved.`),null;if(ir(t,o))return console.warn(`Skipping collecting attachment ${o.path} as it is a note.`),null;let l=o.path,u=o.name,d,f=await t.app.vault.readBinary(o);t.settings.shouldRenameCollectedAttachments?d=Dt(await Hr(t,new Ke({actionContext:"CollectAttachments",app:t.app,attachmentFileContent:f,attachmentFileStat:o.stat,noteFilePath:n,originalAttachmentFileName:o.name})),o.extension):d=u;let p=await Ui(t,"CollectAttachments",n,d,void 0,f,o.stat),m=Fe(p,d);return l===m?(console.warn(`Skipping collecting attachment ${o.path} as it is already in the destination folder.`),null):{newAttachmentPath:m,oldAttachmentPath:l}}s(oE,"prepareAttachmentToMove");var km={attachmentCollector:{confirm:{part1:"Do you want to collect attachments for all notes in folder:",part2:"and all its subfolders?",part3:"This operation cannot be undone."},progressBar:{message:"Collecting attachments {{iterationStr}} - '{{noteFilePath}}'.",title:"Collecting attachments..."}},buttons:{copy:"Copy",move:"Move",previewAttachmentFile:"Preview attachment file",skip:"Skip"},collectAttachmentUsedByMultipleNotesModal:{content:{part1:"Attachment",part2:"is referenced by multiple notes."},heading:"Collecting attachment used by multiple notes",shouldUseSameActionForOtherProblematicAttachmentsToggle:"Should use the same action for other problematic attachments"},commands:{collectAttachmentsCurrentFolder:"Collect attachments in current folder",collectAttachmentsCurrentNote:"Collect attachments in current note",collectAttachmentsEntireVault:"Collect attachments in entire vault"},menuItems:{collectAttachmentsInFolder:"Collect attachments in folder"},notice:{collectingAttachments:"Collecting attachments for '{{noteFilePath}}'",collectingAttachmentsCancelled:"Collecting attachments cancelled. See console for details.",generatedAttachmentFileNameIsInvalid:{part1:`Generated attachment file name '{{path}}' is invalid.
{{validationMessage}}
Check your`,part2:"setting."},notePathIsIgnored:"Note path is ignored"},obsidianDevUtils:{buttons:{cancel:"Cancel",ok:"OK"},dataview:{itemsPerPage:"Items per page:",jumpToPage:"Jump to page:"},notices:{attachmentIsStillUsed:"Attachment {{attachmentPath}} is still used by other notes. It will not be deleted.",unhandledError:"An unhandled error occurred. Please check the console for more information."}},pluginSettings:{attachmentRenameMode:{all:{description:"all files are renamed.",displayText:"All"},none:{description:"their names are preserved.",displayText:"None"},onlyPastedImages:{description:"only pasted images are renamed.",displayText:"Only pasted images"}},collectAttachmentUsedByMultipleNotesMode:{cancel:{description:"cancel the attachment collecting.",displayText:"Cancel"},copy:{description:"copy the attachment to the new location.",displayText:"Copy"},move:{description:"move the attachment to the new location.",displayText:"Move"},prompt:{description:"prompt the user to choose the action.",displayText:"Prompt"},skip:{description:"skip the attachment and proceed to the next one.",displayText:"Skip"}},emptyAttachmentFolderBehavior:{delete:{description:"will delete the empty attachment folder.",displayText:"Delete"},deleteWithEmptyParents:{description:"will delete the empty attachment folder and its empty parent folders.",displayText:"Delete with empty parents"},keep:{description:"will keep the empty attachment folder.",displayText:"Keep"}}},pluginSettingsManager:{customToken:{codeComment:`// Custom tokens were commented out as they have to be updated to the new format introduced in plugin version 9.0.0.
// Refer to the documentation (https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens) for more information.`,deprecated:{part1:"In plugin version 9.0.0, the format of custom token registration changed. Please update your tokens accordingly. Refer to the",part2:"documentation",part3:"for more information"}},legacyRenameAttachmentsToLowerCase:{part1:"In plugin version 9.0.0, the",part2:"setting is deprecated. Use",part3:"format instead. See",part4:"documentation",part5:"for more information"},markdownUrlFormat:{deprecated:{part1:"You have potentially incorrect value set for the",part2:"format. Please refer to the",part3:"documentation",part4:"for more information",part5:"This message will not be shown again."}},validation:{invalidCustomTokensCode:"Invalid custom tokens code",invalidRegularExpression:"Invalid regular expression {{regExp}}",specialCharactersMustNotContainSlash:"Special characters must not contain /",specialCharactersReplacementMustNotContainInvalidFileNamePathCharacters:"Special character replacement must not contain invalid file name path characters."}},pluginSettingsTab:{attachmentRenameMode:{description:{part1:"When attaching files:"},name:"Attachment rename mode"},collectAttachmentUsedByMultipleNotesMode:{description:{part1:"When the collected attachment is used by multiple notes:"},name:"Collect attachment used by multiple notes mode"},customTokens:{description:{part1:"Custom tokens to be used.",part2:"See",part3:"documentation",part4:"for more information.",part5:"\u26A0\uFE0F Custom tokens can be an arbitrary JavaScript code. If poorly written, it can cause the data loss. Use it at your own risk."},name:"Custom tokens"},duplicateNameSeparator:{description:{part1:"When you are pasting/dragging a file with the same name as an existing file, this separator will be added to the file name.",part2:"E.g., when you are dragging file",part3:", it will be renamed to ",part4:", etc, getting the first name available."},name:"Duplicate name separator"},emptyAttachmentFolderBehavior:{description:{part1:"When the attachment folder becomes empty:"},name:"Empty attachment folder behavior"},excludePaths:{description:{part1:"Exclude notes from the following paths.",part2:"Insert each path on a new line.",part3:"You can use path string or",part4:"If the setting is empty, no notes are excluded."},name:"Exclude paths"},excludePathsFromAttachmentCollecting:{description:{part1:"Exclude attachments from the following paths when",part2:"Collect attachments",part3:"command is executed.",part4:"Insert each path on a new line.",part5:"You can use path string or",part6:"If the setting is empty, no paths are excluded from attachment collecting."},name:"Exclude paths from attachment collecting"},generatedAttachmentFileName:{description:{part1:"See available",part2:"tokens"},name:"Generated attachment file name"},includePaths:{description:{part1:"Include notes from the following paths.",part2:"Insert each path on a new line.",part3:"You can use path string or",part4:"If the setting is empty, all notes are included."},name:"Include paths"},jpegQuality:{description:"The smaller the quality, the greater the compression ratio.",name:"JPEG Quality"},locationForNewAttachments:{description:{part1:"Start with",part2:"to use relative path.",part3:"See available",part4:"tokens",part5:"Dot-folders like",part6:"are not recommended, because Obsidian does not track them. You might need to use",part7:"Plugin to manage them."},name:"Location for new attachments"},markdownUrlFormat:{description:{part1:"Format for the URL that will be inserted into Markdown.",part2:"See available",part3:"tokens",part4:"Leave blank to use the default format."},name:"Markdown URL format"},renameAttachmentsToLowerCase:"Rename attachments to lower case",resetToSampleCustomTokens:{message:"Are you sure you want to reset the custom tokens to the sample custom tokens? Your changes will be lost.",title:"Reset to sample custom tokens"},shouldConvertPastedImagesToJpeg:{description:"Whether to convert pasted images to JPEG.",name:"Should convert pasted images to JPEG"},shouldDeleteOrphanAttachments:{description:"If enabled, when the note is deleted, its orphan attachments are deleted as well.",name:"Should delete orphan attachments"},shouldRenameAttachmentFiles:{description:"Whether to rename attachment files when a note is renamed or moved.",name:"Should rename attachment files"},shouldRenameAttachmentFolders:{description:"Whether to rename attachment folders when a note is renamed or moved.",name:"Should rename attachment folders"},shouldRenameCollectedAttachments:{description:{part1:"If enabled, attachments processed via",part2:"Collect attachments",part3:"commands will be renamed according to the",part4:"setting."},name:"Should rename collected attachments"},specialCharacters:{description:{part1:"Special characters in attachment folder and file name to be replaced or removed.",part2:"Leave blank to preserve special characters."},name:"Special characters"},specialCharactersReplacement:{description:{part1:"Replacement string for special characters in attachment folder and file name.",part2:"Leave blank to remove special characters."},name:"Special characters replacement"},timeoutInSeconds:{description:{part1:"The timeout in seconds for all operations.",part2:"If",part3:"is set, the operations execution timeout is disabled."},name:"Timeout in seconds"},treatAsAttachmentExtensions:{description:{part1:"Treat files with these extensions as attachments.",part2:"By default",part3:"and",part4:"linked files are not treated as attachments and are not moved with the note.",part5:"You can add custom extensions, e.g.",part6:", to override this behavior."},name:"Treat as attachment extensions"}},promptWithPreviewModal:{previewModal:{title:"Preview attachment file '{{fullFileName}}'"},title:"Provide a value for the prompt token"},regularExpression:"/regular expression/"};var vm=km;var Cm={attachmentCollector:{confirm:{part1:"\u662F\u5426\u8981\u4E3A\u6587\u4EF6\u5939\u4E2D\u7684\u6240\u6709\u7B14\u8BB0\u6536\u96C6\u9644\u4EF6\uFF1A",part2:"\u4EE5\u53CA\u5176\u6240\u6709\u5B50\u6587\u4EF6\u5939\uFF1F",part3:"\u6B64\u64CD\u4F5C\u65E0\u6CD5\u64A4\u9500\u3002"},progressBar:{message:"\u6B63\u5728\u6536\u96C6\u9644\u4EF6 {{iterationStr}} - '{{noteFilePath}}'\u3002",title:"\u6B63\u5728\u6536\u96C6\u9644\u4EF6..."}},buttons:{copy:"\u590D\u5236",move:"\u79FB\u52A8",previewAttachmentFile:"\u9884\u89C8\u9644\u4EF6\u6587\u4EF6",skip:"\u8DF3\u8FC7"},collectAttachmentUsedByMultipleNotesModal:{content:{part1:"\u9644\u4EF6",part2:"\u88AB\u591A\u4E2A\u7B14\u8BB0\u5F15\u7528\u3002"},heading:"\u6B63\u5728\u6536\u96C6\u88AB\u591A\u4E2A\u7B14\u8BB0\u4F7F\u7528\u7684\u9644\u4EF6",shouldUseSameActionForOtherProblematicAttachmentsToggle:"\u662F\u5426\u5BF9\u5176\u4ED6\u6709\u95EE\u9898\u7684\u9644\u4EF6\u4F7F\u7528\u76F8\u540C\u64CD\u4F5C"},commands:{collectAttachmentsCurrentFolder:"\u6536\u96C6\u5F53\u524D\u6587\u4EF6\u5939\u4E2D\u7684\u9644\u4EF6",collectAttachmentsCurrentNote:"\u6536\u96C6\u5F53\u524D\u7B14\u8BB0\u4E2D\u7684\u9644\u4EF6",collectAttachmentsEntireVault:"\u6536\u96C6\u6574\u4E2A\u5E93\u4E2D\u7684\u9644\u4EF6"},menuItems:{collectAttachmentsInFolder:"\u6536\u96C6\u6587\u4EF6\u5939\u4E2D\u7684\u9644\u4EF6"},notice:{collectingAttachments:"\u6B63\u5728\u4E3A '{{noteFilePath}}' \u6536\u96C6\u9644\u4EF6",collectingAttachmentsCancelled:"\u9644\u4EF6\u6536\u96C6\u5DF2\u53D6\u6D88\u3002\u8BE6\u60C5\u8BF7\u67E5\u770B\u63A7\u5236\u53F0\u3002",generatedAttachmentFileNameIsInvalid:{part1:`\u751F\u6210\u7684\u9644\u4EF6\u6587\u4EF6\u540D '{{path}}' \u65E0\u6548\u3002
{{validationMessage}}
\u8BF7\u68C0\u67E5`,part2:"\u8BBE\u7F6E\u3002"},notePathIsIgnored:"\u7B14\u8BB0\u8DEF\u5F84\u5DF2\u88AB\u5FFD\u7565"},obsidianDevUtils:{buttons:{cancel:"\u53D6\u6D88",ok:"\u786E\u5B9A"},dataview:{itemsPerPage:"\u6BCF\u9875\u9879\u6570:",jumpToPage:"\u8DF3\u8F6C\u81F3\u9875\u6570:"},notices:{attachmentIsStillUsed:"\u9644\u4EF6 {{attachmentPath}} \u4ECD\u7136\u88AB\u5176\u4ED6\u7B14\u8BB0\u4F7F\u7528\u3002\u5B83\u4E0D\u4F1A\u88AB\u5220\u9664\u3002",unhandledError:"\u672A\u5904\u7406\u7684\u9519\u8BEF\u53D1\u751F\u3002\u8BF7\u68C0\u67E5\u63A7\u5236\u53F0\u4EE5\u83B7\u53D6\u66F4\u591A\u4FE1\u606F\u3002"}},pluginSettings:{attachmentRenameMode:{all:{description:"\u6240\u6709\u6587\u4EF6\u90FD\u4F1A\u88AB\u91CD\u547D\u540D\u3002",displayText:"\u5168\u90E8"},none:{description:"\u6587\u4EF6\u540D\u4FDD\u6301\u4E0D\u53D8\u3002",displayText:"\u65E0"},onlyPastedImages:{description:"\u53EA\u6709\u7C98\u8D34\u7684\u56FE\u7247\u4F1A\u88AB\u91CD\u547D\u540D\u3002",displayText:"\u4EC5\u7C98\u8D34\u7684\u56FE\u7247"}},collectAttachmentUsedByMultipleNotesMode:{cancel:{description:"\u53D6\u6D88\u9644\u4EF6\u6536\u96C6\u3002",displayText:"\u53D6\u6D88"},copy:{description:"\u5C06\u9644\u4EF6\u590D\u5236\u5230\u65B0\u4F4D\u7F6E\u3002",displayText:"\u590D\u5236"},move:{description:"\u5C06\u9644\u4EF6\u79FB\u52A8\u5230\u65B0\u4F4D\u7F6E\u3002",displayText:"\u79FB\u52A8"},prompt:{description:"\u63D0\u793A\u7528\u6237\u9009\u62E9\u64CD\u4F5C\u3002",displayText:"\u63D0\u793A"},skip:{description:"\u8DF3\u8FC7\u9644\u4EF6\u5E76\u7EE7\u7EED\u4E0B\u4E00\u4E2A\u3002",displayText:"\u8DF3\u8FC7"}},emptyAttachmentFolderBehavior:{delete:{description:"\u5C06\u5220\u9664\u7A7A\u7684\u9644\u4EF6\u6587\u4EF6\u5939\u3002",displayText:"\u5220\u9664"},deleteWithEmptyParents:{description:"\u5C06\u5220\u9664\u7A7A\u7684\u9644\u4EF6\u6587\u4EF6\u5939\u53CA\u5176\u7A7A\u7684\u7236\u6587\u4EF6\u5939\u3002",displayText:"\u5220\u9664\u5E76\u5220\u9664\u7A7A\u7236\u6587\u4EF6\u5939"},keep:{description:"\u5C06\u4FDD\u7559\u7A7A\u7684\u9644\u4EF6\u6587\u4EF6\u5939\u3002",displayText:"\u4FDD\u7559"}}},pluginSettingsManager:{customToken:{codeComment:`// \u81EA\u5B9A\u4E49\u4EE4\u724C\u5DF2\u88AB\u6CE8\u91CA\u6389\uFF0C\u56E0\u4E3A\u5B83\u4EEC\u9700\u8981\u66F4\u65B0\u4E3A\u63D2\u4EF6 9.0.0 \u7248\u672C\u5F15\u5165\u7684\u65B0\u683C\u5F0F\u3002
// \u66F4\u591A\u4FE1\u606F\u8BF7\u53C2\u8003\u6587\u6863 (https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens)\u3002`,deprecated:{part1:"\u5728\u63D2\u4EF6 9.0.0 \u7248\u672C\u4E2D\uFF0C\u81EA\u5B9A\u4E49\u4EE4\u724C\u6CE8\u518C\u683C\u5F0F\u5DF2\u66F4\u6539\u3002\u8BF7\u76F8\u5E94\u66F4\u65B0\u4F60\u7684\u4EE4\u724C\u3002\u53C2\u8003",part2:"\u6587\u6863",part3:"\u4E86\u89E3\u66F4\u591A\u4FE1\u606F"}},legacyRenameAttachmentsToLowerCase:{part1:"\u5728\u63D2\u4EF6 9.0.0 \u7248\u672C\u4E2D\uFF0C",part2:"\u8BBE\u7F6E\u5DF2\u5F03\u7528\u3002\u8BF7\u4F7F\u7528",part3:"\u683C\u5F0F\u4EE3\u66FF\u3002\u53C2\u89C1",part4:"\u6587\u6863",part5:"\u4E86\u89E3\u66F4\u591A\u4FE1\u606F"},markdownUrlFormat:{deprecated:{part1:"\u4F60\u53EF\u80FD\u4E3A",part2:"\u683C\u5F0F\u8BBE\u7F6E\u4E86\u9519\u8BEF\u7684\u503C\u3002\u8BF7\u53C2\u8003",part3:"\u6587\u6863",part4:"\u4E86\u89E3\u66F4\u591A\u4FE1\u606F",part5:"\u6B64\u6D88\u606F\u4E0D\u4F1A\u518D\u6B21\u663E\u793A\u3002"}},validation:{invalidCustomTokensCode:"\u65E0\u6548\u7684\u81EA\u5B9A\u4E49\u4EE4\u724C\u4EE3\u7801",invalidRegularExpression:"\u65E0\u6548\u7684\u6B63\u5219\u8868\u8FBE\u5F0F {{regExp}}",specialCharactersMustNotContainSlash:"\u7279\u6B8A\u5B57\u7B26\u4E0D\u80FD\u5305\u542B /",specialCharactersReplacementMustNotContainInvalidFileNamePathCharacters:"\u7279\u6B8A\u5B57\u7B26\u66FF\u6362\u4E0D\u80FD\u5305\u542B\u65E0\u6548\u7684\u6587\u4EF6\u540D\u8DEF\u5F84\u5B57\u7B26\u3002"}},pluginSettingsTab:{attachmentRenameMode:{description:{part1:"\u5F53\u9644\u52A0\u6587\u4EF6\u65F6\uFF1A"},name:"\u9644\u4EF6\u91CD\u547D\u540D\u6A21\u5F0F"},collectAttachmentUsedByMultipleNotesMode:{description:{part1:"\u5F53\u6536\u96C6\u7684\u9644\u4EF6\u88AB\u591A\u4E2A\u7B14\u8BB0\u4F7F\u7528\u65F6\uFF1A"},name:"\u6536\u96C6\u88AB\u591A\u4E2A\u7B14\u8BB0\u4F7F\u7528\u7684\u9644\u4EF6\u6A21\u5F0F"},customTokens:{description:{part1:"\u8981\u4F7F\u7528\u7684\u81EA\u5B9A\u4E49\u4EE4\u724C\u3002",part2:"\u53C2\u89C1",part3:"\u6587\u6863",part4:"\u4E86\u89E3\u66F4\u591A\u4FE1\u606F\u3002",part5:"\u26A0\uFE0F \u81EA\u5B9A\u4E49\u4EE4\u724C\u53EF\u4EE5\u662F\u4EFB\u610F JavaScript \u4EE3\u7801\u3002\u5982\u679C\u7F16\u5199\u4E0D\u5F53\uFF0C\u53EF\u80FD\u4F1A\u5BFC\u81F4\u6570\u636E\u4E22\u5931\u3002\u98CE\u9669\u81EA\u62C5\u3002"},name:"\u81EA\u5B9A\u4E49\u4EE4\u724C"},duplicateNameSeparator:{description:{part1:"\u5F53\u4F60\u7C98\u8D34/\u62D6\u62FD\u4E00\u4E2A\u4E0E\u73B0\u6709\u6587\u4EF6\u540C\u540D\u7684\u6587\u4EF6\u65F6\uFF0C\u6B64\u5206\u9694\u7B26\u4F1A\u6DFB\u52A0\u5230\u6587\u4EF6\u540D\u4E2D\u3002",part2:"\u4F8B\u5982\uFF0C\u5F53\u4F60\u62D6\u62FD\u6587\u4EF6",part3:"\u65F6\uFF0C\u5B83\u4F1A\u88AB\u91CD\u547D\u540D\u4E3A",part4:"\uFF0C\u4F9D\u6B64\u7C7B\u63A8\uFF0C\u76F4\u5230\u83B7\u5F97\u7B2C\u4E00\u4E2A\u53EF\u7528\u540D\u79F0\u3002"},name:"\u91CD\u590D\u6587\u4EF6\u540D\u5206\u9694\u7B26"},emptyAttachmentFolderBehavior:{description:{part1:"\u5F53\u9644\u4EF6\u6587\u4EF6\u5939\u53D8\u4E3A\u7A7A\u65F6\uFF1A"},name:"\u7A7A\u9644\u4EF6\u6587\u4EF6\u5939\u5904\u7406"},excludePaths:{description:{part1:"\u6392\u9664\u4EE5\u4E0B\u8DEF\u5F84\u4E2D\u7684\u7B14\u8BB0\u3002",part2:"\u6BCF\u884C\u8F93\u5165\u4E00\u4E2A\u8DEF\u5F84\u3002",part3:"\u4F60\u53EF\u4EE5\u4F7F\u7528\u8DEF\u5F84\u5B57\u7B26\u4E32\u6216",part4:"\u5982\u679C\u8BBE\u7F6E\u4E3A\u7A7A\uFF0C\u5219\u4E0D\u6392\u9664\u4EFB\u4F55\u7B14\u8BB0\u3002"},name:"\u6392\u9664\u8DEF\u5F84"},excludePathsFromAttachmentCollecting:{description:{part1:"\u5F53\u6267\u884C",part2:"\u6536\u96C6\u9644\u4EF6",part3:"\u547D\u4EE4\u65F6\uFF0C\u6392\u9664\u4EE5\u4E0B\u8DEF\u5F84\u4E2D\u7684\u9644\u4EF6\u3002",part4:"\u6BCF\u884C\u8F93\u5165\u4E00\u4E2A\u8DEF\u5F84\u3002",part5:"\u4F60\u53EF\u4EE5\u4F7F\u7528\u8DEF\u5F84\u5B57\u7B26\u4E32\u6216",part6:"\u5982\u679C\u8BBE\u7F6E\u4E3A\u7A7A\uFF0C\u5219\u4E0D\u4F1A\u6392\u9664\u4EFB\u4F55\u8DEF\u5F84\u3002"},name:"\u4ECE\u9644\u4EF6\u6536\u96C6\u4E2D\u6392\u9664\u8DEF\u5F84"},generatedAttachmentFileName:{description:{part1:"\u67E5\u770B\u53EF\u7528",part2:"\u4EE4\u724C"},name:"\u751F\u6210\u7684\u9644\u4EF6\u6587\u4EF6\u540D"},includePaths:{description:{part1:"\u5305\u542B\u4EE5\u4E0B\u8DEF\u5F84\u4E2D\u7684\u7B14\u8BB0\u3002",part2:"\u6BCF\u884C\u8F93\u5165\u4E00\u4E2A\u8DEF\u5F84\u3002",part3:"\u4F60\u53EF\u4EE5\u4F7F\u7528\u8DEF\u5F84\u5B57\u7B26\u4E32\u6216",part4:"\u5982\u679C\u8BBE\u7F6E\u4E3A\u7A7A\uFF0C\u5219\u5305\u542B\u6240\u6709\u7B14\u8BB0\u3002"},name:"\u5305\u542B\u8DEF\u5F84"},jpegQuality:{description:"\u8D28\u91CF\u8D8A\u4F4E\uFF0C\u538B\u7F29\u7387\u8D8A\u9AD8\u3002",name:"JPEG \u8D28\u91CF"},locationForNewAttachments:{description:{part1:"\u4EE5",part2:"\u5F00\u5934\u4F7F\u7528\u76F8\u5BF9\u8DEF\u5F84\u3002",part3:"\u67E5\u770B\u53EF\u7528",part4:"\u4EE4\u724C",part5:"\u50CF",part6:"\u8FD9\u6837\u7684\u70B9\u6587\u4EF6\u5939\u4E0D\u63A8\u8350\u4F7F\u7528\uFF0C\u56E0\u4E3A Obsidian \u4E0D\u4F1A\u8DDF\u8E2A\u5B83\u4EEC\u3002\u4F60\u53EF\u80FD\u9700\u8981\u4F7F\u7528",part7:"\u63D2\u4EF6\u6765\u7BA1\u7406\u5B83\u4EEC\u3002"},name:"\u65B0\u9644\u4EF6\u4F4D\u7F6E"},markdownUrlFormat:{description:{part1:"\u63D2\u5165\u5230 Markdown \u4E2D\u7684 URL \u683C\u5F0F\u3002",part2:"\u67E5\u770B\u53EF\u7528",part3:"\u4EE4\u724C",part4:"\u7559\u7A7A\u4EE5\u4F7F\u7528\u9ED8\u8BA4\u683C\u5F0F\u3002"},name:"Markdown URL \u683C\u5F0F"},renameAttachmentsToLowerCase:"\u5C06\u9644\u4EF6\u91CD\u547D\u540D\u4E3A\u5C0F\u5199",resetToSampleCustomTokens:{message:"\u786E\u5B9A\u8981\u5C06\u81EA\u5B9A\u4E49\u4EE4\u724C\u91CD\u7F6E\u4E3A\u793A\u4F8B\u81EA\u5B9A\u4E49\u4EE4\u724C\u5417\uFF1F\u4F60\u7684\u66F4\u6539\u5C06\u4F1A\u4E22\u5931\u3002",title:"\u91CD\u7F6E\u4E3A\u793A\u4F8B\u81EA\u5B9A\u4E49\u4EE4\u724C"},shouldConvertPastedImagesToJpeg:{description:"\u662F\u5426\u5C06\u7C98\u8D34\u7684\u56FE\u7247\u8F6C\u6362\u4E3A JPEG\u3002",name:"\u662F\u5426\u5C06\u7C98\u8D34\u7684\u56FE\u7247\u8F6C\u6362\u4E3A JPEG"},shouldDeleteOrphanAttachments:{description:"\u5982\u679C\u542F\u7528\uFF0C\u5F53\u7B14\u8BB0\u88AB\u5220\u9664\u65F6\uFF0C\u5176\u5B64\u7ACB\u7684\u9644\u4EF6\u4E5F\u4F1A\u88AB\u5220\u9664\u3002",name:"\u662F\u5426\u5220\u9664\u5B64\u7ACB\u9644\u4EF6"},shouldRenameAttachmentFiles:{description:"\u5F53\u7B14\u8BB0\u88AB\u91CD\u547D\u540D\u6216\u79FB\u52A8\u65F6\uFF0C\u662F\u5426\u91CD\u547D\u540D\u9644\u4EF6\u6587\u4EF6\u3002",name:"\u662F\u5426\u91CD\u547D\u540D\u9644\u4EF6\u6587\u4EF6"},shouldRenameAttachmentFolders:{description:"\u5F53\u7B14\u8BB0\u88AB\u91CD\u547D\u540D\u6216\u79FB\u52A8\u65F6\uFF0C\u662F\u5426\u91CD\u547D\u540D\u9644\u4EF6\u6587\u4EF6\u5939\u3002",name:"\u662F\u5426\u91CD\u547D\u540D\u9644\u4EF6\u6587\u4EF6\u5939"},shouldRenameCollectedAttachments:{description:{part1:"\u5982\u679C\u542F\u7528\uFF0C\u901A\u8FC7",part2:"\u6536\u96C6\u9644\u4EF6",part3:"\u547D\u4EE4\u5904\u7406\u7684\u9644\u4EF6\u5C06\u6839\u636E",part4:"\u8BBE\u7F6E\u91CD\u547D\u540D\u3002"},name:"\u662F\u5426\u91CD\u547D\u540D\u6536\u96C6\u7684\u9644\u4EF6"},specialCharacters:{description:{part1:"\u8981\u66FF\u6362\u6216\u5220\u9664\u7684\u9644\u4EF6\u6587\u4EF6\u5939\u548C\u6587\u4EF6\u540D\u4E2D\u7684\u7279\u6B8A\u5B57\u7B26\u3002",part2:"\u7559\u7A7A\u4EE5\u4FDD\u7559\u7279\u6B8A\u5B57\u7B26\u3002"},name:"\u7279\u6B8A\u5B57\u7B26"},specialCharactersReplacement:{description:{part1:"\u9644\u4EF6\u6587\u4EF6\u5939\u548C\u6587\u4EF6\u540D\u4E2D\u7528\u4E8E\u66FF\u6362\u7279\u6B8A\u5B57\u7B26\u7684\u5B57\u7B26\u4E32\u3002",part2:"\u7559\u7A7A\u4EE5\u5220\u9664\u7279\u6B8A\u5B57\u7B26\u3002"},name:"\u7279\u6B8A\u5B57\u7B26\u66FF\u6362"},timeoutInSeconds:{description:{part1:"\u6240\u6709\u64CD\u4F5C\u7684\u8D85\u65F6\u65F6\u95F4\uFF08\u79D2\uFF09\u3002",part2:"\u5982\u679C",part3:"\u5DF2\u8BBE\u7F6E\uFF0C\u5219\u7981\u7528\u64CD\u4F5C\u6267\u884C\u8D85\u65F6\u3002"},name:"\u8D85\u65F6\u65F6\u95F4\uFF08\u79D2\uFF09"},treatAsAttachmentExtensions:{description:{part1:"\u5C06\u8FD9\u4E9B\u6269\u5C55\u540D\u7684\u6587\u4EF6\u89C6\u4E3A\u9644\u4EF6\u3002",part2:"\u9ED8\u8BA4\u60C5\u51B5\u4E0B",part3:"\u548C",part4:"\u94FE\u63A5\u6587\u4EF6\u4E0D\u4F1A\u88AB\u89C6\u4E3A\u9644\u4EF6\uFF0C\u4E5F\u4E0D\u4F1A\u968F\u7B14\u8BB0\u79FB\u52A8\u3002",part5:"\u4F60\u53EF\u4EE5\u6DFB\u52A0\u81EA\u5B9A\u4E49\u6269\u5C55\u540D\uFF0C\u4F8B\u5982",part6:"\uFF0C\u4EE5\u8986\u76D6\u6B64\u884C\u4E3A\u3002"},name:"\u89C6\u4E3A\u9644\u4EF6\u7684\u6269\u5C55\u540D"}},promptWithPreviewModal:{previewModal:{title:"\u9884\u89C8\u9644\u4EF6\u6587\u4EF6 '{{fullFileName}}'"},title:"\u4E3A\u63D0\u793A\u4EE4\u724C\u63D0\u4F9B\u4E00\u4E2A\u503C"},regularExpression:"/\u6B63\u5219\u8868\u8FBE\u5F0F/"};var aE={en:vm,zh:Cm},Em=aE;var by=require("obsidian");var Tm=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var cc=class extends zr{static{s(this,"AlertModal")}options;constructor(e,n){super(e,n,W.AlertModal);let r={app:e.app,cssClass:"",message:e.message,okButtonText:Vs(i=>i.obsidianDevUtils.buttons.ok),title:""};this.options={...r,...e}}onClose(){super.onClose(),this.resolve()}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new Tm.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(this.close.bind(this)),e.setClass(W.OkButton)}};async function Vo(t){await Io(e=>new cc(t,e))}s(Vo,"alert");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ln=class{static{s(this,"Transformer")}getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,n){return this.canTransform(e,n)?this.id:null}transformValueRecursively(e,n){let r=this.getTransformerId(e,n);if(r){let l=this.transformValue(e,n);return l===void 0?void 0:{__transformerId:r,transformedValue:l}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((l,u)=>this.transformValueRecursively(l,String(u)));let i=e;if(i.__transformerId)return this.getTransformer(i.__transformerId).restoreValue(i.transformedValue,n);let o={};for(let l of vr(e)){let u=e[l],d=this.transformValueRecursively(u,l);o[l]=d}return o}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Tt=class extends Ln{static{s(this,"TypedTransformer")}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Uo=class extends Tt{static{s(this,"DateTransformer")}get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var Sm=Ve(un(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Wo=class extends Tt{static{s(this,"DurationTransformer")}get id(){return"duration"}canTransform(e){let n=e??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(e){return(0,Sm.duration)(e)}transformValue(e){return e.toISOString()}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Yo=class extends Ln{static{s(this,"GroupTransformer")}constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,n){return this.getFirstTransformerThatCanTransform(e,n)!==null}getTransformer(e){return this.transformers.find(n=>n.id===e)??cn(`No transformer with id ${e} found`)}transformValue(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);if(r===null)throw new Error("No transformer can transform the value");return r.transformValue(e,n)}getTransformerId(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);return r===null?null:r.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,n){return this.transformers.find(r=>r.canTransform(e,n))??null}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var zo=class extends Tt{static{s(this,"MapTransformer")}get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ho=class extends Tt{static{s(this,"SetTransformer")}get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var lE="_",jo=class extends Ln{static{s(this,"SkipPrivatePropertyTransformer")}get id(){return"skip-private-property"}canTransform(e,n){return n.startsWith(lE)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Yi=class{static{s(this,"TwoWayMap")}keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[n,r]of e)this.set(n,r)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let n=this.getValue(e);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(e)}deleteValue(e){let n=this.getKey(e);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,n){this.deleteKey(e),this.deleteValue(n),this.keyValueMap.set(e,n),this.valueKeyMap.set(n,e)}values(){return this.valueKeyMap.keys()}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Go=class extends Tt{static{s(this,"TwoWayMapTransformer")}get id(){return"two-way-map"}canTransform(e){return e instanceof Yi}restoreValue(e){return new Yi(e)}transformValue(e){return Array.from(e.entries())}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var uE=new Yo([new jo,new Uo,new Wo,new zo,new Ho,new Go]),qo=class extends Wt{static{s(this,"PluginSettingsManagerBase")}constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=vr(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,n){await this.edit(e),await this.saveToFile(n)}async ensureSafe(e){let n=await this.validate(e);for(let r of this.propertyNames)n[r]&&(e[r]=this.defaultSettings[r])}async getSafeCopy(e){let n=await this.cloneSettings(e);return await this.ensureSafe(n),n}async loadFromFile(e){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let r=n,i=await this.rawRecordToSettings(r),o=await this.validate(i);for(let u of this.propertyNames)this.setPropertyImpl(u,i[u],o[u]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let l=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);xt(l,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,n,r){return super.on(e,n,r)}async revalidate(){return await this.edit(Nt),this.currentSettingsWrapper.validationMessages}async saveToFile(e){xt(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,n){return await this.edit(r=>{r[e]=n}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let n={};for(let[r,i]of this.validators.entries()){let o=await i(e[r],e);o&&(n[r]=o)}return n}getTransformer(){return uE}async onLoadRecord(e){for(let n of this.legacySettingsConverters)n(e);await Promise.resolve()}async onSavingRecord(e){await Ut()}registerLegacySettingsConverter(e,n){let r=this;this.legacySettingsConverters.push(i);function i(o){let l=new Set(Object.keys(new e)),u=new Set(r.propertyNames),d=o;n(d);for(let f of Object.keys(d))u.has(f)||l.has(f)&&delete o[f]}s(i,"legacySettingsConverter")}registerLegacySettingsConverters(){}registerValidator(e,n){this.validators.set(e,n)}registerValidators(){}async cloneSettings(e){let n=await this.settingsToRawRecord(e),r=JSON.stringify(n),i=JSON.parse(r);return await this.rawRecordToSettings(i)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let r of this.propertyNames){let i=n[r]??"";this.currentSettingsWrapper.validationMessages[r]=i,this.currentSettingsWrapper.safeSettings[r]=i?this.defaultSettings[r]:this.currentSettingsWrapper.settings[r]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let n=this.createDefaultSettings();for(let[r,i]of Object.entries(e)){if(!this.isValidPropertyName(r)){console.warn(`Unknown property: ${r}`);continue}typeof i!=typeof this.defaultSettings[r]&&console.warn("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[r],propertyName:r,value:i}),n[r]=i}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,n,r){this.currentSettingsWrapper.settings[e]=n,this.currentSettingsWrapper.validationMessages[e]=r??"",this.currentSettingsWrapper.safeSettings[e]=r?this.defaultSettings[e]:n}async settingsToRawRecord(e){let n={};for(let r of this.propertyNames)n[r]=e[r];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var Pc=Ve(gy(),1);var s2=2e3,Ic=class{static{s(this,"LegacySettings")}autoRenameFiles=!1;autoRenameFolder=!0;convertImagesOnDragAndDrop=!1;convertImagesToJpeg=!1;dateTimeFormat="";deleteOrphanAttachments=!1;generatedAttachmentFilename="";keepEmptyAttachmentFolders=!1;pastedFileName="file-${date:YYYYMMDDHHmmssSSS}";pastedImageFileName="";renameAttachmentsOnDragAndDrop=!1;renameCollectedFiles=!1;renameOnlyImages=!1;renamePastedFilesWithKnownNames=!1;replaceWhitespace=!1;shouldDuplicateCollectedAttachments=!1;shouldKeepEmptyAttachmentFolders=!1;shouldRenameAttachments=!0;shouldRenameAttachmentsToLowerCase=!1;toLowerCase=!1;whitespaceReplacement=""},aa=class extends qo{static{s(this,"PluginSettingsManager")}shouldDebounceCustomTokensValidation=!1;customTokensValidatorDebounced=(0,by.debounce)(this.customTokensValidatorImpl.bind(this),s2);lastCustomTokenValidatorResult=void 0;createDefaultSettings(){return new Lo}registerLegacySettingsConverters(){this.registerLegacySettingsConverter(Ic,e=>{let n=e.dateTimeFormat??"YYYYMMDDHHmmssSSS";e.attachmentFolderPath=yy(e.attachmentFolderPath??"",n),e.generatedAttachmentFileName=yy(e.generatedAttachmentFileName??e.generatedAttachmentFilename??e.pastedFileName??e.pastedImageFileName??"file-${date}",n),e.replaceWhitespace!==void 0&&(e.whitespaceReplacement=e.replaceWhitespace?"-":""),e.autoRenameFiles!==void 0&&(e.shouldRenameAttachmentFiles=e.autoRenameFiles),e.autoRenameFolder!==void 0&&(e.shouldRenameAttachmentFolder=e.autoRenameFolder),e.shouldRenameAttachments!==void 0&&(e.shouldRenameAttachmentFolder=e.shouldRenameAttachments),e.deleteOrphanAttachments!==void 0&&(e.shouldDeleteOrphanAttachments=e.deleteOrphanAttachments),e.keepEmptyAttachmentFolders!==void 0&&(e.shouldKeepEmptyAttachmentFolders=e.keepEmptyAttachmentFolders),e.renameCollectedFiles!==void 0&&(e.shouldRenameCollectedAttachments=e.renameCollectedFiles),(e.toLowerCase||e.shouldRenameAttachmentsToLowerCase)&&Ee(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await Vo({app:this.app,message:createFragment(r=>{r.appendText(C(i=>i.pluginSettingsManager.legacyRenameAttachmentsToLowerCase.part1)),r.appendText(" "),ie(r,C(i=>i.pluginSettingsTab.renameAttachmentsToLowerCase)),r.appendText(" "),r.appendText(C(i=>i.pluginSettingsManager.legacyRenameAttachmentsToLowerCase.part2)),r.appendText(" "),ie(r,"lower"),r.appendText(" "),r.appendText(C(i=>i.pluginSettingsManager.legacyRenameAttachmentsToLowerCase.part3)),r.appendText(" "),r.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:C(i=>i.pluginSettingsManager.legacyRenameAttachmentsToLowerCase.part4)}),r.appendText(" "),r.appendText(C(i=>i.pluginSettingsManager.legacyRenameAttachmentsToLowerCase.part5))})})}),e.customTokensStr&&e.warningVersion&&(0,Pc.compare)(e.warningVersion,"9.0.0")<0&&(e.customTokensStr=`${C(r=>r.pluginSettingsManager.customToken.codeComment)}

${o2(e.customTokensStr)}
`,Ee(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await Vo({app:this.app,message:createFragment(r=>{r.appendText(C(i=>i.pluginSettingsManager.customToken.deprecated.part1)),r.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens",text:C(i=>i.pluginSettingsManager.customToken.deprecated.part2)}),r.appendText(" "),r.appendText(C(i=>i.pluginSettingsManager.customToken.deprecated.part3))})})})),e.convertImagesToJpeg!==void 0&&(e.shouldConvertPastedImagesToJpeg=e.convertImagesToJpeg),e.whitespaceReplacement&&(e.specialCharacters=`${e.specialCharacters??""} `,e.specialCharactersReplacement=e.whitespaceReplacement),e.shouldKeepEmptyAttachmentFolders!==void 0&&(e.emptyAttachmentFolderBehavior=e.shouldKeepEmptyAttachmentFolders?ct.Keep:ct.DeleteWithEmptyParents),e.attachmentFolderPath=this.replaceLegacyTokens(e.attachmentFolderPath),e.generatedAttachmentFileName=this.replaceLegacyTokens(e.generatedAttachmentFileName),e.markdownUrlFormat=this.replaceLegacyTokens(e.markdownUrlFormat),e.customTokensStr=this.replaceLegacyTokens(e.customTokensStr??""),e.collectAttachmentUsedByMultipleNotesMode===void 0&&e.shouldDuplicateCollectedAttachments!==void 0&&(e.collectAttachmentUsedByMultipleNotesMode=e.shouldDuplicateCollectedAttachments?"Copy":"Skip"),e.warningVersion&&(0,Pc.compare)(e.warningVersion,"9.2.0")<0&&(e.markdownUrlFormat==="${generatedAttachmentFilePath}"||e.markdownUrlFormat==="${noteFilePath}")&&Ee(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await Vo({app:this.app,message:createFragment(r=>{r.appendText(C(i=>i.pluginSettingsManager.markdownUrlFormat.deprecated.part1)),ie(r,"Markdown URL format"),r.appendText(C(i=>i.pluginSettingsManager.markdownUrlFormat.deprecated.part2)),r.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#markdown-url-format",text:C(i=>i.pluginSettingsManager.markdownUrlFormat.deprecated.part3)}),r.appendText(" "),r.appendText(C(i=>i.pluginSettingsManager.markdownUrlFormat.deprecated.part4)),r.appendText(" "),r.appendText(C(i=>i.pluginSettingsManager.markdownUrlFormat.deprecated.part5))})})}),e.warningVersion=this.plugin.manifest.version})}registerValidators(){this.registerValidator("attachmentFolderPath",async e=>await nr({app:this.app,areTokensAllowed:!0,path:e})),this.registerValidator("generatedAttachmentFileName",async e=>await nr({app:this.app,areTokensAllowed:!0,path:e})),this.registerValidator("specialCharacters",e=>{if(e.includes("/"))return C(n=>n.pluginSettingsManager.validation.specialCharactersMustNotContainSlash)}),this.registerValidator("specialCharactersReplacement",e=>{if(_o().exec(e))return C(n=>n.pluginSettingsManager.validation.specialCharactersReplacementMustNotContainInvalidFileNamePathCharacters)}),this.registerValidator("duplicateNameSeparator",async e=>await Vi({app:this.app,areSingleDotsAllowed:!1,fileName:`foo${e}1`,isEmptyAllowed:!1,tokenValidationMode:"Error"})),this.registerValidator("includePaths",e=>wy(e)),this.registerValidator("excludePaths",e=>wy(e)),this.registerValidator("customTokensStr",e=>this.customTokensValidator(e))}customTokensValidator(e){return this.shouldDebounceCustomTokensValidation?this.customTokensValidatorDebounced(e):this.customTokensValidatorImpl(e),this.lastCustomTokenValidatorResult??void 0}customTokensValidatorImpl(e){let n=oc(e);this.lastCustomTokenValidatorResult=n===null?C(r=>r.pluginSettingsManager.validation.invalidCustomTokensCode):void 0}replaceLegacyTokens(e){if(e===void 0)return"";let n={fileCreationDate:"noteFileCreationDate",fileModificationDate:"noteFileModificationDate",fileName:"noteFileName",filePath:"noteFilePath",folderName:"noteFolderName",folderPath:"noteFolderPath",originalCopiedFileExtension:"originalAttachmentFileExtension",originalCopiedFileName:"originalAttachmentFileName",randomDigit:"random:D",randomDigitOrLetter:"random:DL",randomLetter:"random:L",uuid:"random:uuid"};for(let[r,i]of Object.entries(n))e=Te(e,new RegExp(`\\\${${r}(?<Suffix>[:}])`,"i"),`\${${i}$<Suffix>`),e=Te(e,`substitutions.${r}`,`substitutions.${i}`);return e}};function yy(t,e){return t.replaceAll("${date}",`\${date:${e}}`)}s(yy,"addDateTimeFormat");function o2(t){return t.replaceAll(/^/gm,"// ")}s(o2,"commentOut");function wy(t){for(let e of t)if(e.startsWith("/")&&e.endsWith("/")){let n=e.slice(1,-1);if(!nf(n))return C(r=>r.pluginSettingsManager.validation.invalidRegularExpression,{regExp:e})}}s(wy,"pathsValidator");var Ua=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function la(t,e){let n=Object.keys(t).find(r=>t[r]===e);if(n===void 0)throw new Error(`Invalid enum value: ${e}`);return n}s(la,"getEnumKey");function ua(t,e){let n=t[e];if(n===void 0)throw new Error(`Invalid enum key: ${e}`);return n}s(ua,"getEnumValue");var or=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function ca(t){let e=t.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains(W.SettingComponentWrapper))return e;let n=Array.from(e.children),r=createDiv();pe(r,W.SettingComponentWrapper);for(let i of n)r.appendChild(i);return e.appendChild(r),r}s(ca,"ensureWrapped");var Ay=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Oc=class{static{s(this,"AbstractTextComponentWrapper")}constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function xy(t){return a2(t)?t:t instanceof Ay.AbstractTextComponent?new Oc(t):null}s(xy,"getTextBasedComponentValue");function a2(t){let e=t;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}s(a2,"isTextBasedComponent");var Xe=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var da=class{static{s(this,"OverlayValidatorComponent")}constructor(e){this.el=e;let n=ca(e);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),pe(this._validatorEl,W.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let r=this.el.querySelector("[tabindex]");r||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),r=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{r.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},Dn=class{static{s(this,"ValidatorElementWrapper")}constructor(e){this.validatorEl=e}};function ky(t){return l2(t)?t:t instanceof Xe.ColorComponent?new Dn(t.colorPickerEl):t instanceof Xe.DropdownComponent?new Dn(t.selectEl):t instanceof Xe.ProgressBarComponent?new da(t.progressBar):t instanceof Xe.SearchComponent?new Dn(t.inputEl):t instanceof Xe.SliderComponent?new Dn(t.sliderEl):t instanceof Xe.TextAreaComponent?new Dn(t.inputEl):t instanceof Xe.TextComponent?new Dn(t.inputEl):t instanceof Xe.ToggleComponent?new da(t.toggleEl):null}s(ky,"getValidatorComponent");function l2(t){return!!t.validatorEl}s(l2,"isValidatorComponent");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var _c="PluginSettingsTab",fa=class extends or.PluginSettingTab{static{s(this,"PluginSettingsTabBase")}constructor(e){super(e.app,e),this.plugin=e,pe(this.containerEl,W.PluginSettingsTab),this.saveSettingsDebounced=(0,or.debounce)(rt(()=>this.plugin.settingsManager.saveToFile(_c)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new ko,this.asyncEvents=new Wt}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,n,r){let o={...{componentToPluginSettingsValueConverter:s(P=>P,"componentToPluginSettingsValueConverter"),onChanged:Nt,pluginSettingsToComponentValueConverter:s(P=>P,"pluginSettingsToComponentValueConverter"),shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...r},l=ky(e)?.validatorEl,u=xy(e),d=this.pluginSettings[n],f=this.plugin.settingsManager.defaultSettings[n];u?.setPlaceholderValue(o.pluginSettingsToComponentValueConverter(f));let p,m=null,w=null;if(l){let P=ca(l);m=P.createDiv(),pe(m,W.Tooltip,W.TooltipValidator),w=m.createSpan();let _=m.createDiv();pe(_,W.TooltipArrow),m.hide(),P.appendChild(m)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(P,_)=>{n===P&&(p=_,S())}));let y=!1;u&&o.shouldShowPlaceholderForDefaultValues&&xt(d,f)?u.empty():e.setValue(o.pluginSettingsToComponentValueConverter(d));let x=!1,S=(0,or.debounce)(()=>{requestAnimationFrame(()=>{E()})},100);return e.onChange(async P=>{if(x){x=!1;return}y=!1;let _=this.pluginSettings[n],L,z=!0;if(u?.isEmpty()&&o.shouldResetSettingWhenComponentIsEmpty)L=f;else{let F=o.componentToPluginSettingsValueConverter(P);om(F)?(p=F.validationMessage,z=!1):L=F}z&&(p=await this.plugin.settingsManager.setProperty(n,L),u&&o.shouldShowPlaceholderForDefaultValues&&!u.isEmpty()&&xt(L,f)&&(y=!0)),S(),L!==void 0&&await o.onChanged(L,_),this.saveSettingsDebounced()}),l?.addEventListener("focus",()=>{S()}),l?.addEventListener("blur",()=>{S()}),l?.addEventListener("click",()=>{requestAnimationFrame(()=>{S()})}),p=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",S(),e;function E(){y&&!l?.isActiveElement()&&(y=!1,u?.isEmpty()||(x=!0,u?.empty())),l&&(p===""&&(l.setCustomValidity(""),l.checkValidity(),p=l.validationMessage),l.setCustomValidity(p),o.shouldShowValidationMessage?(w&&(w.textContent=p),m?.toggle(!!p)):p&&(0,or.setTooltip)(l,p))}s(E,"updateValidatorEl")}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),Ee(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(_c)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,n){this.display(),await Ut()}async revalidate(){let e=await this.plugin.settingsManager.revalidate();await this.updateValidations(e)}on(e,n,r){return this.asyncEvents.on(e,n,r)}async onSaveSettings(e,n,r){if(r===_c){await this.updateValidations(e.validationMessages);return}this.display()}async updateValidations(e){for(let[n,r]of Object.entries(e))await this.asyncEvents.triggerAsync("validationMessageChanged",n,r)}};var Iy=require("obsidian");var vy=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ha=class extends vy.ValueComponent{static{s(this,"CheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),pe(e,W.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var Kr=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var pa=class extends Kr.ValueComponent{static{s(this,"CodeHighlighterComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),pe(e,W.CodeHighlighterComponent);let n=e.createDiv();pe(n,W.SettingComponentWrapper),this.textAreaComponent=new Kr.TextAreaComponent(n),this.preEl=n.createEl("pre"),this.codeEl=this.preEl.createEl("code"),this.inputEl.addEventListener("input",rt(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let r=2;this.tabSize=r}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let n="language-";for(let r of[this.preEl,this.codeEl]){for(let i of Array.from(r.classList))i.startsWith(n)&&r.classList.remove(i);r.classList.add(`${n}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,Ee(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),Ee(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;e.preventDefault();let n=this.getValue(),r=this.inputEl.selectionStart,i=this.inputEl.selectionEnd,o=n.slice(0,r),l=n.slice(i),u=" ".repeat(this.tabSize),d=o;e.shiftKey?o.endsWith(u)&&(d=o.slice(0,-this.tabSize)):d=o+u;let f=`${d}${l}`;this.setValue(f),this.inputEl.selectionStart=d.length,this.inputEl.selectionEnd=d.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await(0,Kr.loadPrism)()).highlightElement(this.codeEl),this.preEl.toggleClass(W.IsPlaceholder,this.isEmpty()),requestAnimationFrame(()=>{let n=Math.max(0,this.inputEl.scrollHeight-this.preEl.scrollHeight);this.preEl.setCssProps({"--bottom-gap":tm(n)}),this.handleScroll()})}};var Rc=Ve(un(),1);var ma=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Be=class extends ma.ValueComponent{static{s(this,"TypedTextComponent")}inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,n,r){super(),this.textComponent=new ma.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,pe(e,r)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ft=class extends Be{static{s(this,"TypedRangeTextComponent")}setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=String(e),this}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Cy="YYYY-MM-DD",ga=class extends ft{static{s(this,"DateComponent")}constructor(e){super(e,"date",W.DateComponent)}valueFromString(e){return(0,Rc.default)(e,Cy).toDate()}valueToString(e){return(0,Rc.default)(e).format(Cy)}};var Mc=Ve(un(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ey="YYYY-MM-DDTHH:mm",ya=class extends ft{static{s(this,"DateTimeComponent")}constructor(e){super(e,"datetime-local",W.DateTimeComponent)}valueFromString(e){return(0,Mc.default)(e,Ey).toDate()}valueToString(e){return(0,Mc.default)(e).format(Ey)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var wa=class extends Be{static{s(this,"EmailComponent")}constructor(e){super(e,"email",W.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ba=class extends Be{static{s(this,"FileComponent")}constructor(e){super(e,"file",W.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var Nc=Ve(un(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ty="YYYY-MM",Aa=class extends ft{static{s(this,"MonthComponent")}constructor(e){super(e,"month",W.MonthComponent)}valueFromString(e){let n=(0,Nc.default)(e,Ty);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(e){return(0,Nc.default)().year(e.year).month(e.month-1).format(Ty)}};var xa=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Jr=class extends xa.ValueComponent{static{s(this,"MultipleDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new xa.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,pe(e,W.MultipleDropdownComponent)}addOption(e,n){return this.dropdownComponent.addOption(e,n),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=e.includes(n.value);return this}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ka=class extends Be{static{s(this,"MultipleEmailComponent")}constructor(e){super(e,"email",W.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(n=>n.trim())}valueToString(e){return e.join(", ")}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var va=class extends Be{static{s(this,"MultipleFileComponent")}constructor(e){super(e,"file",W.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var Ea=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ca=class extends Ea.ValueComponent{static{s(this,"MultipleTextComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new Ea.TextAreaComponent(e),pe(e,W.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ta=class extends ft{static{s(this,"NumberComponent")}constructor(e){super(e,"number",W.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Sa=class extends Be{static{s(this,"PasswordComponent")}constructor(e){super(e,"password",W.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Fa=class extends Be{static{s(this,"TelephoneComponent")}constructor(e){super(e,"tel",W.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var Ia=Ve(un(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Pa=class extends ft{static{s(this,"TimeComponent")}constructor(e){super(e,"time",W.TimeComponent)}valueFromString(e){return(0,Ia.duration)(e)}valueToString(e){let n;return e.milliseconds()>0?n="HH:mm:ss.SSS":e.seconds()>0?n="HH:mm:ss":n="HH:mm",(0,Ia.utc)(e.asMilliseconds()).format(n)}};var Sy=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Oa=class extends Sy.ValueComponent{static{s(this,"TriStateCheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),pe(e,W.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var Ra=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var _a=class extends Ra.ValueComponent{static{s(this,"TypedDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new Ra.DropdownComponent(e),pe(e,W.TypedDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.dropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let n=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var Fy=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ma=class extends Fy.ValueComponent{static{s(this,"TypedMultipleDropdownComponent")}get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new Jr(e),pe(e,W.TypedMultipleDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.multipleDropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let n=e.map(r=>this.values.indexOf(r)).filter(r=>r!==-1);return this.multipleDropdownComponent.setValue(n.map(r=>String(r))),this}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Na=class extends Be{static{s(this,"UrlComponent")}constructor(e){super(e,"url",W.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var Lc=Ve(un(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Py="YYYY-[W]WW",La=class extends ft{static{s(this,"WeekComponent")}constructor(e){super(e,"week",W.WeekComponent)}valueFromString(e){let n=(0,Lc.default)(e,Py);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(e){return(0,Lc.default)().year(e.year).isoWeek(e.weekNumber).format(Py)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ke=class extends Iy.Setting{static{s(this,"SettingEx")}addCheckbox(e){return this.addComponent(ha,e)}addCodeHighlighter(e){return this.addComponent(pa,e)}addComponent(e,n){let r=new e(this.controlEl);return this.components.push(r),n(r),this}addDate(e){return this.addComponent(ga,e)}addDateTime(e){return this.addComponent(ya,e)}addEmail(e){return this.addComponent(wa,e)}addFile(e){return this.addComponent(ba,e)}addMonth(e){return this.addComponent(Aa,e)}addMultipleDropdown(e){return this.addComponent(Jr,e)}addMultipleEmail(e){return this.addComponent(ka,e)}addMultipleFile(e){return this.addComponent(va,e)}addMultipleText(e){return this.addComponent(Ca,e)}addNumber(e){return this.addComponent(Ta,e)}addPassword(e){return this.addComponent(Sa,e)}addTelephone(e){return this.addComponent(Fa,e)}addTime(e){return this.addComponent(Pa,e)}addTriStateCheckbox(e){return this.addComponent(Oa,e)}addTypedDropdown(e){return this.addComponent(_a,e)}addTypedMultipleDropdown(e){return this.addComponent(Ma,e)}addUrl(e){return this.addComponent(Na,e)}addWeek(e){return this.addComponent(La,e)}};var $a=require("obsidian");var Xr="custom-attachment-location-tokenized-string",Da=class extends $a.Component{static{s(this,"PrismComponent")}onload(){super.onload(),Ee(this.initPrism.bind(this))}async initPrism(){let e=await(0,$a.loadPrism)();e.languages[Xr]={expression:{greedy:!0,inside:{prefix:{alias:"regex",pattern:/\${/},token:{alias:"number",pattern:/^[a-zA-Z0-9_,]+/},formatDelimiter:{alias:"regex",pattern:/:/},format:{alias:"string",pattern:/[a-zA-Z0-9_,-]+/},suffix:{alias:"regex",pattern:/}/}},pattern:/\${.+?}/},important:{pattern:/^\./},operator:{alias:"entity",pattern:/\//}},this.register(()=>{delete e.languages[Xr]})}};var Ba="\u2423",Va=class extends fa{static{s(this,"PluginSettingsTab")}display(){super.display(),this.containerEl.empty();let e={componentToPluginSettingsValueConverter(i){return(0,Ua.normalizePath)(i.trimEnd())},pluginSettingsToComponentValueConverter(i){return i.trimEnd()}};new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.locationForNewAttachments.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.locationForNewAttachments.description.part1)),i.appendText(" "),ie(i,"."),i.appendText(" "),i.appendText(C(o=>o.pluginSettingsTab.locationForNewAttachments.description.part2)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.locationForNewAttachments.description.part3)),i.appendText(" "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:C(o=>o.pluginSettingsTab.locationForNewAttachments.description.part4)}),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.locationForNewAttachments.description.part5)),i.appendText(" "),ie(i,".attachments"),i.appendText(" "),i.appendText(C(o=>o.pluginSettingsTab.locationForNewAttachments.description.part6)),i.appendText(" "),i.createEl("a",{href:"https://github.com/polyipseity/obsidian-show-hidden-files/",text:"Show Hidden Files"}),i.appendText(" "),i.appendText(C(o=>o.pluginSettingsTab.locationForNewAttachments.description.part7))})).addCodeHighlighter(i=>{i.setLanguage(Xr),i.inputEl.addClass("tokenized-string-setting-control"),this.bind(i,"attachmentFolderPath",e)}),new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.generatedAttachmentFileName.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.generatedAttachmentFileName.description.part1)),i.appendText(" "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:C(o=>o.pluginSettingsTab.generatedAttachmentFileName.description.part2)}),i.appendText(".")})).addCodeHighlighter(i=>{i.setLanguage(Xr),i.inputEl.addClass("tokenized-string-setting-control"),this.bind(i,"generatedAttachmentFileName",e)}),new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.markdownUrlFormat.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.markdownUrlFormat.description.part1)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.markdownUrlFormat.description.part2)),i.appendText(" "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:C(o=>o.pluginSettingsTab.markdownUrlFormat.description.part3)}),i.appendText("."),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.markdownUrlFormat.description.part4))})).addCodeHighlighter(i=>{i.setLanguage(Xr),i.inputEl.addClass("tokenized-string-setting-control"),this.bind(i,"markdownUrlFormat",e)}),new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.attachmentRenameMode.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.attachmentRenameMode.description.part1)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.attachmentRenameMode.none.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.attachmentRenameMode.none.description)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.attachmentRenameMode.onlyPastedImages.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.attachmentRenameMode.onlyPastedImages.description)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.attachmentRenameMode.all.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.attachmentRenameMode.all.description))})).addDropdown(i=>{i.addOptions({None:C(o=>o.pluginSettings.attachmentRenameMode.none.displayText),"Only pasted images":C(o=>o.pluginSettings.attachmentRenameMode.onlyPastedImages.displayText),All:C(o=>o.pluginSettings.attachmentRenameMode.all.displayText)}),this.bind(i,"attachmentRenameMode",{componentToPluginSettingsValueConverter:s(o=>ua(Wi,o),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:s(o=>la(Wi,o),"pluginSettingsToComponentValueConverter")})}),new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.shouldRenameAttachmentFolders.name)).setDesc(C(i=>i.pluginSettingsTab.shouldRenameAttachmentFolders.description)).addToggle(i=>{this.bind(i,"shouldRenameAttachmentFolder")}),new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.shouldRenameAttachmentFiles.name)).setDesc(C(i=>i.pluginSettingsTab.shouldRenameAttachmentFiles.description)).addToggle(i=>{this.bind(i,"shouldRenameAttachmentFiles")}),new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.specialCharacters.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.specialCharacters.description.part1)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.specialCharacters.description.part2))})).addText(i=>{this.bind(i,"specialCharacters",{componentToPluginSettingsValueConverter:s(o=>o.replaceAll(Ba,""),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:s(o=>o.replaceAll(" ",Ba),"pluginSettingsToComponentValueConverter"),shouldResetSettingWhenComponentIsEmpty:!1}),i.inputEl.addEventListener("input",()=>{i.inputEl.value=Dc(i.inputEl.value)})}),new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.specialCharactersReplacement.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.specialCharactersReplacement.description.part1)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.specialCharactersReplacement.description.part2))})).addText(i=>{this.bind(i,"specialCharactersReplacement",{shouldResetSettingWhenComponentIsEmpty:!1})}),new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.shouldConvertPastedImagesToJpeg.name)).setDesc(C(i=>i.pluginSettingsTab.shouldConvertPastedImagesToJpeg.description)).addToggle(i=>{this.bind(i,"shouldConvertPastedImagesToJpeg")}),new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.jpegQuality.name)).setDesc(C(i=>i.pluginSettingsTab.jpegQuality.description)).addDropdown(i=>{i.addOptions(u2()),this.bind(i,"jpegQuality",{componentToPluginSettingsValueConverter:s(o=>Number(o),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:s(o=>o.toString(),"pluginSettingsToComponentValueConverter")})}),new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.shouldRenameCollectedAttachments.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.shouldRenameCollectedAttachments.description.part1)),i.appendText(" "),ie(i,C(o=>o.pluginSettingsTab.shouldRenameCollectedAttachments.description.part2)),i.appendText(" "),i.appendText(C(o=>o.pluginSettingsTab.shouldRenameCollectedAttachments.description.part3)),i.appendText(" "),ie(i,C(o=>o.pluginSettingsTab.generatedAttachmentFileName.name)),i.appendText(" "),i.appendText(C(o=>o.pluginSettingsTab.shouldRenameCollectedAttachments.description.part4))})).addToggle(i=>{this.bind(i,"shouldRenameCollectedAttachments")}),new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.collectAttachmentUsedByMultipleNotesMode.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.collectAttachmentUsedByMultipleNotesMode.description.part1)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.skip.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.skip.description)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.move.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.move.description)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.copy.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.copy.description)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.cancel.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.cancel.description)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.prompt.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.prompt.description))})).addDropdown(i=>{i.addOptions({Skip:C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.skip.displayText),Move:C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.move.displayText),Copy:C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.copy.displayText),Cancel:C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.cancel.displayText),Prompt:C(o=>o.pluginSettings.collectAttachmentUsedByMultipleNotesMode.prompt.displayText)}),this.bind(i,"collectAttachmentUsedByMultipleNotesMode",{componentToPluginSettingsValueConverter:s(o=>ua(rr,o),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:s(o=>la(rr,o),"pluginSettingsToComponentValueConverter")})}),new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.duplicateNameSeparator.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.duplicateNameSeparator.description.part1)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.duplicateNameSeparator.description.part2)),i.appendText(" "),ie(i,"existingFile.pdf"),i.appendText(C(o=>o.pluginSettingsTab.duplicateNameSeparator.description.part3)),i.appendText(" "),ie(i,"existingFile 1.pdf"),i.appendText(", "),ie(i,"existingFile 2.pdf"),i.appendText(C(o=>o.pluginSettingsTab.duplicateNameSeparator.description.part4))})).addText(i=>{this.bind(i,"duplicateNameSeparator",{componentToPluginSettingsValueConverter:s(o=>o.replaceAll(Ba," "),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:Dc}),i.inputEl.addEventListener("input",()=>{i.inputEl.value=Dc(i.inputEl.value)})}),new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.emptyAttachmentFolderBehavior.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.emptyAttachmentFolderBehavior.description.part1)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.emptyAttachmentFolderBehavior.keep.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.emptyAttachmentFolderBehavior.keep.description)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.emptyAttachmentFolderBehavior.delete.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.emptyAttachmentFolderBehavior.delete.description)),i.createEl("br"),ie(i,C(o=>o.pluginSettings.emptyAttachmentFolderBehavior.deleteWithEmptyParents.displayText)),i.appendText(" - "),i.appendText(C(o=>o.pluginSettings.emptyAttachmentFolderBehavior.deleteWithEmptyParents.description))})).addDropdown(i=>{i.addOptions({[ct.Keep]:C(o=>o.pluginSettings.emptyAttachmentFolderBehavior.keep.displayText),[ct.Delete]:C(o=>o.pluginSettings.emptyAttachmentFolderBehavior.delete.displayText),[ct.DeleteWithEmptyParents]:C(o=>o.pluginSettings.emptyAttachmentFolderBehavior.deleteWithEmptyParents.displayText)}),this.bind(i,"emptyAttachmentFolderBehavior",{componentToPluginSettingsValueConverter:s(o=>ua(ct,o),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:s(o=>la(ct,o),"pluginSettingsToComponentValueConverter")})}),new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.shouldDeleteOrphanAttachments.name)).setDesc(C(i=>i.pluginSettingsTab.shouldDeleteOrphanAttachments.description)).addToggle(i=>{this.bind(i,"shouldDeleteOrphanAttachments")}),new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.includePaths.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.includePaths.description.part1)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.includePaths.description.part2)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.includePaths.description.part3)),i.appendText(" "),ie(i,C(o=>o.regularExpression)),i.appendText("."),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.includePaths.description.part4))})).addMultipleText(i=>{this.bind(i,"includePaths")}),new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.excludePaths.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.excludePaths.description.part1)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.excludePaths.description.part2)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.excludePaths.description.part3)),i.appendText(" "),ie(i,C(o=>o.regularExpression)),i.appendText("."),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.excludePaths.description.part4))})).addMultipleText(i=>{this.bind(i,"excludePaths")}),new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.excludePathsFromAttachmentCollecting.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.excludePathsFromAttachmentCollecting.description.part1)),i.appendText(" "),ie(i,C(o=>o.pluginSettingsTab.excludePathsFromAttachmentCollecting.description.part2)),i.appendText(" "),i.appendText(C(o=>o.pluginSettingsTab.excludePathsFromAttachmentCollecting.description.part3)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.excludePathsFromAttachmentCollecting.description.part4)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.excludePathsFromAttachmentCollecting.description.part5)),i.appendText(" "),ie(i,C(o=>o.regularExpression)),i.appendText("."),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.excludePathsFromAttachmentCollecting.description.part6))})).addMultipleText(i=>{this.bind(i,"excludePathsFromAttachmentCollecting")});let r=(0,Ua.debounce)(i=>{Ee(async()=>{Ke.registerCustomTokens(i),await this.revalidate()})},2e3);new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.customTokens.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.customTokens.description.part1)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.customTokens.description.part2)),i.appendText(" "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens",text:C(o=>o.pluginSettingsTab.customTokens.description.part3)}),i.appendText(" "),i.appendText(C(o=>o.pluginSettingsTab.customTokens.description.part4)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.customTokens.description.part5))})).addCodeHighlighter(i=>{i.setLanguage("javascript"),i.inputEl.addClass("custom-tokens-setting-control"),this.bind(i,"customTokensStr",{onChanged:s(o=>{r(o)},"onChanged")}),i.setPlaceholder(Do)}),this.plugin.settingsManager.shouldDebounceCustomTokensValidation=!0,new ke(this.containerEl).addButton(i=>{i.setButtonText(C(o=>o.pluginSettingsTab.resetToSampleCustomTokens.title)),i.setWarning(),i.onClick(rt(async()=>{this.plugin.settings.customTokensStr!==Do&&(this.plugin.settings.customTokensStr!==""&&!await Oo({app:this.plugin.app,cancelButtonText:C(o=>o.obsidianDevUtils.buttons.cancel),message:C(o=>o.pluginSettingsTab.resetToSampleCustomTokens.message),okButtonText:C(o=>o.obsidianDevUtils.buttons.ok),title:C(o=>o.pluginSettingsTab.resetToSampleCustomTokens.title)})||(await this.plugin.settingsManager.editAndSave(o=>{o.customTokensStr=Do}),this.display()))}))}),new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.treatAsAttachmentExtensions.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.treatAsAttachmentExtensions.description.part1)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.treatAsAttachmentExtensions.description.part2)),i.appendText(" "),ie(i,".md"),i.appendText(", "),ie(i,".canvas"),i.appendText(" "),i.appendText(C(o=>o.pluginSettingsTab.treatAsAttachmentExtensions.description.part3)),i.appendText(" "),ie(i,".base"),i.appendText(" "),i.appendText(C(o=>o.pluginSettingsTab.treatAsAttachmentExtensions.description.part4)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.treatAsAttachmentExtensions.description.part5)),i.appendText(" "),ie(i,".foo.md"),i.appendText(", "),ie(i,".bar.canvas"),i.appendText(", "),ie(i,".baz.base"),i.appendText(C(o=>o.pluginSettingsTab.treatAsAttachmentExtensions.description.part6))})).addMultipleText(i=>{this.bind(i,"treatAsAttachmentExtensions")}),new ke(this.containerEl).setName(C(i=>i.pluginSettingsTab.timeoutInSeconds.name)).setDesc(createFragment(i=>{i.appendText(C(o=>o.pluginSettingsTab.timeoutInSeconds.description.part1)),i.createEl("br"),i.appendText(C(o=>o.pluginSettingsTab.timeoutInSeconds.description.part2)),i.appendText(" "),ie(i,"0"),i.appendText(" "),i.appendText(C(o=>o.pluginSettingsTab.timeoutInSeconds.description.part3))})).addNumber(i=>{i.setMin(0),this.bind(i,"timeoutInSeconds")})}hide(){super.hide(),this.plugin.settingsManager.shouldDebounceCustomTokensValidation=!1}};function u2(){let e={};for(let n=1;n<=10;n++){let r=(n/10).toFixed(1);e[r]=r}return e}s(u2,"generateJpegQualityOptions");function Dc(t){return t.replaceAll(" ",Ba)}s(Dc,"showWhitespaceCharacter");var c2=/Pasted image (?<Timestamp>\d{14})/,d2="YYYYMMDDHHmmss",f2=10,$c="__IMPORT_FILES__",Ya=class extends Eo{static{s(this,"Plugin")}arrayBufferFileStatMap=new WeakMap;currentAttachmentFolderPath=null;getAvailablePathForAttachmentsOriginal=null;isMarkdownViewPatched=!1;lastOpenFilePath=null;pathMarkdownUrlMap=new Map;createSettingsManager(){return new aa(this)}createSettingsTab(){return new Va(this)}createTranslationsMap(){return Em}async onLayoutReady(){await super.onLayoutReady(),Ke.registerCustomTokens(this.settings.customTokensStr),await this.settingsManager.loadFromFile(!1),Kt(this,this.app.vault,{getAvailablePath:s(()=>this.getAvailablePath.bind(this),"getAvailablePath"),getAvailablePathForAttachments:s(e=>{let n=this;return Object.assign(r,{extended:this.getAvailablePathForAttachments.bind(this)});function r(i,o,l){return e.call(n.app.vault,i,o,l)}},"getAvailablePathForAttachments"),getConfig:s(e=>n=>this.getConfig(e,n),"getConfig")}),Wa.webUtils&&Kt(this,Wa.webUtils,{getPathForFile:s(e=>n=>this.getPathForFile(n,e),"getPathForFile")}),Kt(this,this.app.fileManager,{generateMarkdownLink:s(e=>(n,r,i,o)=>this.generateMarkdownLink(e,n,r,i,o),"generateMarkdownLink")}),Kt(this,Tl(this.app.shareReceiver),{importFiles:s(e=>n=>this.importFiles(e,n),"importFiles")}),this.registerPopupDocumentDomEvent("change",this.handleInputFileChange.bind(this),{capture:!0}),await this.handleActiveLeafChange(this.app.workspace.getLeavesOfType(mi.Markdown)[0]??null),this.isMarkdownViewPatched||this.registerEvent(this.app.workspace.on("active-leaf-change",rt(this.handleActiveLeafChange.bind(this))))}async onloadImpl(){await super.onloadImpl(),Xp(this,()=>({emptyAttachmentFolderBehavior:this.settings.emptyAttachmentFolderBehavior,isNote:s(n=>ir(this,n),"isNote"),isPathIgnored:s(n=>this.settings.isPathIgnored(n),"isPathIgnored"),shouldHandleDeletions:this.settings.shouldDeleteOrphanAttachments,shouldHandleRenames:!0,shouldRenameAttachmentFiles:this.settings.shouldRenameAttachmentFiles,shouldRenameAttachmentFolder:this.settings.shouldRenameAttachmentFolder,shouldUpdateFileNameAliases:!0})),this.addCommand({checkCallback:s(e=>Am(this,e),"checkCallback"),id:"collect-attachments-current-note",name:C(e=>e.commands.collectAttachmentsCurrentNote)}),this.addCommand({checkCallback:s(e=>bm(this,e),"checkCallback"),id:"collect-attachments-current-folder",name:C(e=>e.commands.collectAttachmentsCurrentFolder)}),this.addCommand({callback:s(()=>{xm(this)},"callback"),id:"collect-attachments-entire-vault",name:C(e=>e.commands.collectAttachmentsEntireVault)}),this.registerEvent(this.app.workspace.on("file-menu",this.handleFileMenu.bind(this))),Kt(this,this.app,{saveAttachment:s(()=>(e,n,r)=>this.saveAttachment(e,n,r),"saveAttachment")}),this.addChild(new Da),this.registerEvent(this.app.workspace.on("file-open",rt(this.handleFileOpen.bind(this)))),this.registerEvent(this.app.vault.on("rename",rt(this.handleRename.bind(this)))),this.registerEvent(this.app.workspace.on("receive-text-menu",this.handleReceiveTextMenu.bind(this))),this.registerEvent(this.app.workspace.on("receive-files-menu",this.handleReceiveFilesMenu.bind(this)))}async fileArrayBuffer(e,n){let r=await e.call(n);if(this.app.vault.adapter instanceof $t.FileSystemAdapter){let i=Wa.webUtils.getPathForFile(n);if(await this.setFileStat(r,i))return r}return this.arrayBufferFileStatMap.set(r,{ctime:0,mtime:n.lastModified,size:n.size}),r}generateMarkdownLink(e,n,r,i,o){let l=e.call(this.app.fileManager,n,r,i,o);if(!this.settings.markdownUrlFormat)return l;let u=this.pathMarkdownUrlMap.get(n.path);return u?(Ju(l)&&(l=qu({app:this.app,linkStyle:ju.Markdown,originalLink:l,sourcePathOrFile:r,targetPathOrFile:n})),Ku(l)?l.replace(/\]\(<.+?>\)/,`](<${u}>)`):l.replace(/\]\(.+?\)/,`](${Ri(u)})`)):l}getAvailablePath(e,n){let r=0;for(;;){let i=Dt(r===0?e:`${e}${this.settings.duplicateNameSeparator}${String(r)}`,n);if(!Gn(this.app,i,!0))return i;r++}}async getAvailablePathForAttachments(e){let{attachmentFileExtension:n,notePathOrFile:r,shouldSkipDuplicateCheck:i,shouldSkipMissingAttachmentFolderCreation:o}=e,{attachmentFileBaseName:l,attachmentFileContent:u,attachmentFileStat:d,shouldSkipGeneratedAttachmentFileName:f}=e;if(l===jt){u??=new ArrayBuffer(0);let x=Math.trunc(Date.now());d??={ctime:x,mtime:x,size:0}}let p=Me(this.app,r),m=r?Ae(this.app,r):void 0,w=e.oldNotePathOrFile?Ae(this.app,e.oldNotePathOrFile):void 0;if(l.startsWith($c)&&(l=kr(l,$c),f=!0),p&&this.settings.isPathIgnored(p.path)&&this.getAvailablePathForAttachmentsOriginal)return this.getAvailablePathForAttachmentsOriginal(l,n,p);let y;if(!m||!ir(this,m))y=await Ol({app:this.app,attachmentFileBaseName:l,attachmentFileExtension:n,notePathOrFile:r,shouldSkipDuplicateCheck:i??!1,shouldSkipMissingAttachmentFolderCreation:o??!0});else{let x=Dt(l,n),T=await Ui(this,e.context,m,x,w,u,d),S;if(f)S=x;else{let P=await Hr(this,new Ke({actionContext:e.context,app:this.app,attachmentFileContent:u,attachmentFileStat:d,noteFilePath:m,oldNoteFilePath:w,originalAttachmentFileName:x}));S=Dt(P,n)}let E=Fe(T,S);if(i)y=E;else{let P=we(E),_=Se(E,n?`.${n}`:"");y=this.app.vault.getAvailablePath(Fe(P,_),n)}}if(!o){let x=vt(y);await this.app.vault.exists(x)||(await po(this.app,x),this.settings.emptyAttachmentFolderBehavior===ct.Keep&&await this.app.vault.create(Fe(x,".gitkeep"),""))}return y}getConfig(e,n){return n!=="attachmentFolderPath"||this.currentAttachmentFolderPath===null?e.call(this.app.vault,n):this.currentAttachmentFolderPath}getPathForFile(e,n){let r=e;return r.path?r.path:n(e)}async handleActiveLeafChange(e){if(this.isMarkdownViewPatched||!e||e.view.getViewType()!==mi.Markdown)return;await e.loadIfDeferred();let n=e.view,r=this;Kt(this,Tl(n.editMode.clipboardManager),{insertFiles:s(i=>s(function(l){return r.insertFiles(i,this,l)},"insertFilesPatched"),"insertFiles")}),this.isMarkdownViewPatched=!0}handleFileMenu(e,n){n instanceof $t.TFolder&&e.addItem(r=>{r.setTitle(C(i=>i.menuItems.collectAttachmentsInFolder)).setIcon("download").onClick(()=>$o(this,n,this.abortSignal))})}async handleFileOpen(e){if(e===null||this.settings.isPathIgnored(e.path)){this.currentAttachmentFolderPath=null,this.lastOpenFilePath=null;return}e.path!==this.lastOpenFilePath&&(this.lastOpenFilePath=e.path,this.currentAttachmentFolderPath=await Ui(this,"OpenFile",e.path,jt))}handleInputFileChange(e){if(!(e.target instanceof HTMLInputElement)||e.target.type!=="file")return;let n=this;for(let r of e.target.files??[])Kt(this,r,{arrayBuffer:s(i=>s(function(){return n.fileArrayBuffer(i,this)},"arrayBufferPatched"),"arrayBuffer")})}handleReceiveFilesMenu(e,n){this.handleReceiveMenuItemClick(e,r=>n.map(o=>this.app.fileManager.generateMarkdownLink(o,r.path)).join(`
`))}handleReceiveMenuItemClick(e,n){let r=this.app,i=e.items.find(l=>l instanceof $t.MenuItem&&!!l.iconEl.querySelector(".lucide-file"));i&&(i.callback=o);function o(){let l=r.workspace.getActiveViewOfType($t.MarkdownView);if(!l?.file)return;let u=n(l.file);l.editor.replaceSelection(u)}s(o,"callback")}handleReceiveTextMenu(e,n){this.handleReceiveMenuItemClick(e,()=>n)}async handleRename(){await this.handleFileOpen(this.app.workspace.getActiveFile())}async importFiles(e,n){for(let r of n){let i=window.Capacitor.convertFileSrc(r.uri),l=await(await fetch(i)).arrayBuffer(),u=new Ke({actionContext:"ImportFiles",app:this.app,attachmentFileContent:l,noteFilePath:this.app.workspace.getActiveFile()?.path??"",originalAttachmentFileName:r.name}),d=await Hr(this,u),f=We(r.name).slice(1);r.name=$c+Dt(d,f)}return e.call(this.app.shareReceiver,n)}async insertFiles(e,n,r){for(let i of r){let o=await i.data;await this.setFileStat(o,i.filepath)}return e.call(n,r)}async saveAttachment(e,n,r){let i=this.app.workspace.getActiveFile();if(!i||this.settings.isPathIgnored(i.path))return await this.saveAttachmentCore(e,n,r);let o=!1,l=c2.exec(e);if(l){let f=l.groups?.Timestamp;if(f){let p=(0,Bc.default)(f,d2);p.isValid()&&(0,Bc.default)().diff(p,"seconds")<f2&&(o=!0)}}o&&n==="png"&&this.settings.shouldConvertPastedImagesToJpeg&&(n="jpg",r=await tf(new Blob([r],{type:"image/png"}),this.settings.jpegQuality));let u=!1;switch(this.settings.attachmentRenameMode){case"All":u=!0;break;case"None":break;case"Only pasted images":u=o;break;default:throw new Error("Invalid attachment rename mode")}u&&(e=await Hr(this,new Ke({actionContext:"SaveAttachment",app:this.app,attachmentFileContent:r,attachmentFileStat:this.arrayBufferFileStatMap.get(r),noteFilePath:i.path,originalAttachmentFileName:Dt(e,n)})));let d=await this.saveAttachmentCore(e,n,r);if(this.settings.markdownUrlFormat){let f=await new Ke({actionContext:"SaveAttachment",app:this.app,attachmentFileContent:r,attachmentFileStat:this.arrayBufferFileStatMap.get(r),generatedAttachmentFileName:d.name,generatedAttachmentFilePath:d.path,noteFilePath:i.path,originalAttachmentFileName:Dt(e,n)}).fillTemplate(this.settings.markdownUrlFormat);this.pathMarkdownUrlMap.set(d.path,f)}else this.pathMarkdownUrlMap.delete(d.path);return d}async saveAttachmentCore(e,n,r){let i=this.app.workspace.getActiveFile(),o=this.arrayBufferFileStatMap.get(r),l=await this.getAvailablePathForAttachments({attachmentFileBaseName:e,attachmentFileContent:r,attachmentFileExtension:n,attachmentFileStat:o,context:"SaveAttachment",notePathOrFile:i,shouldSkipDuplicateCheck:!1,shouldSkipGeneratedAttachmentFileName:!0,shouldSkipMissingAttachmentFolderCreation:!1});return await this.app.vault.createBinary(l,r,lf({ctime:o?.ctime?Math.trunc(o.ctime):void 0,mtime:o?.mtime?Math.trunc(o.mtime):void 0}))}async setFileStat(e,n){if(!n)return!1;if(this.app.vault.adapter instanceof $t.FileSystemAdapter){let r=await this.app.vault.adapter.fsPromises.stat(n);return this.arrayBufferFileStatMap.set(e,{ctime:r.ctimeMs,mtime:r.mtimeMs,size:r.size}),!0}if(this.app.vault.adapter instanceof $t.CapacitorAdapter){let r=await this.app.vault.adapter.fs.stat(n);return this.arrayBufferFileStatMap.set(e,{ctime:r.ctime??0,mtime:r.mtime??0,size:e.byteLength}),!0}return!1}};var h2=Ya;
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/
